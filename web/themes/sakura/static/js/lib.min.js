/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /gh/moezx/cdn@3.7.5/js/lib.min.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],n=t.document,r=Object.getPrototypeOf,o=i.slice,a=i.concat,s=i.push,l=i.indexOf,u={},c=u.toString,h=u.hasOwnProperty,d=h.toString,f=d.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function v(t,e,i){var r,o=(e=e||n).createElement("script");if(o.text=t,i)for(r in _)i[r]&&(o[r]=i[r]);e.head.appendChild(o).parentNode.removeChild(o)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[c.call(t)]||"object":typeof t}var b=function(t,e){return new b.fn.init(t,e)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(t){var e=!!t&&"length"in t&&t.length,i=y(t);return!g(t)&&!m(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},b.extend=b.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=a[e],a!==(n=t[e])&&(u&&n&&(b.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&b.isPlainObject(i)?i:{},a[e]=b.extend(u,o,n)):void 0!==n&&(a[e]=n));return a},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==c.call(t)||(e=r(t))&&("function"!=typeof(i=h.call(e,"constructor")&&e.constructor)||d.call(i)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){v(t)},each:function(t,e){var i,n=0;if(E(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(w,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(E(Object(t))?b.merge(i,"string"==typeof t?[t]:t):s.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,a=!i;r<o;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,s=[];if(E(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&s.push(r);return a.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=i[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){u["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,i,n,r,o,a,s,l,u,c,h,d,f,p,g,m,_,v,y,b="sizzle"+1*new Date,w=t.document,E=0,T=0,$=at(),x=at(),S=at(),C=function(t,e){return t===e&&(h=!0),0},k={}.hasOwnProperty,L=[],A=L.pop,M=L.push,P=L.push,D=L.slice,R=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+I+"*("+N+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+I+"*\\]",F=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(I+"+","g"),j=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),H=new RegExp("^"+I+"*,"+I+"*"),G=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),z=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),q=new RegExp(F),W=new RegExp("^"+N+"$"),Y={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){d()},rt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{P.apply(L=D.call(w.childNodes),w.childNodes),L[w.childNodes.length].nodeType}catch(t){P={apply:L.length?function(t,e){M.apply(t,D.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function ot(t,e,n,r){var o,s,u,c,h,p,_,v=e&&e.ownerDocument,E=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==E&&9!==E&&11!==E)return n;if(!r&&((e?e.ownerDocument||e:w)!==f&&d(e),e=e||f,g)){if(11!==E&&(h=Q.exec(t)))if(o=h[1]){if(9===E){if(!(u=e.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(v&&(u=v.getElementById(o))&&y(e,u)&&u.id===o)return n.push(u),n}else{if(h[2])return P.apply(n,e.getElementsByTagName(t)),n;if((o=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return P.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!S[t+" "]&&(!m||!m.test(t))){if(1!==E)v=e,_=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,it):e.setAttribute("id",c=b),s=(p=a(t)).length;s--;)p[s]="#"+c+" "+_t(p[s]);_=p.join(","),v=Z.test(t)&&gt(e.parentNode)||e}if(_)try{return P.apply(n,v.querySelectorAll(_)),n}catch(t){}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,n,r)}function at(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function st(t){return t[b]=!0,t}function lt(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ct(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!o(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),i.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=lt(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(f.getElementsByClassName),i.getById=lt(function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},_=[],m=[],(i.qsa=K.test(f.querySelectorAll))&&(lt(function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+I+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+I+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=K.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){i.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),_.push("!=",F)}),m=m.length&&new RegExp(m.join("|")),_=_.length&&new RegExp(_.join("|")),e=K.test(p.compareDocumentPosition),y=e||K.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===f||t.ownerDocument===w&&y(w,t)?-1:e===f||e.ownerDocument===w&&y(w,e)?1:c?R(c,t)-R(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:c?R(c,t)-R(c,e):0;if(r===o)return ct(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?ct(a[n],s[n]):a[n]===w?-1:s[n]===w?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(z,"='$1']"),i.matchesSelector&&g&&!S[e+" "]&&(!_||!_.test(e))&&(!m||!m.test(e)))try{var n=v.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=n.attrHandle[e.toLowerCase()],o=r&&k.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:i.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,it)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],r=0,o=0;if(h=!i.detectDuplicates,c=!i.sortStable&&t.slice(0),t.sort(C),h){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return c=null,t},r=ot.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&q.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=ot.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(U," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,_=s&&e.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&v){for(y=(f=(u=(c=(h=(d=m)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===E&&u[1])&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){c[t]=[E,f,y];break}}else if(v&&(y=f=(u=(c=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===E&&u[1]),!1===y)for(;(d=++f&&d&&d[g]||(y=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++y||(v&&((c=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[E,y]),d!==e)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,i){for(var n,o=r(t,e),a=o.length;a--;)t[n=R(t,o[a])]=!(i[n]=o[a])}):function(t){return r(t,0,i)}):r}},pseudos:{not:st(function(t){var e=[],i=[],n=s(t.replace(j,"$1"));return n[b]?st(function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return W.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,i){return[i<0?i+e:i]}),even:pt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:pt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:pt(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:pt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=dt(e);function mt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function vt(t,e,i){var n=e.dir,r=e.next,o=r||n,a=i&&"parentNode"===o,s=T++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r);return!1}:function(e,i,l){var u,c,h,d=[E,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=c[o])&&u[0]===E&&u[1]===s)return d[2]=u[2];if(c[o]=d,d[2]=t(e,i,l))return!0}return!1}}function yt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function bt(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,r)||(a.push(o),u&&e.push(s)));return a}function wt(t,e,i,n,r,o){return n&&!n[b]&&(n=wt(n)),r&&!r[b]&&(r=wt(r,o)),st(function(o,a,s,l){var u,c,h,d=[],f=[],p=a.length,g=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)ot(t,e[n],i);return i}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:bt(g,d,t,s,l),_=i?r||(o?t:p||n)?[]:a:m;if(i&&i(m,_,s,l),n)for(u=bt(_,f),n(u,[],s,l),c=u.length;c--;)(h=u[c])&&(_[f[c]]=!(m[f[c]]=h));if(o){if(r||t){if(r){for(u=[],c=_.length;c--;)(h=_[c])&&u.push(m[c]=h);r(null,_=[],u,l)}for(c=_.length;c--;)(h=_[c])&&(u=r?R(o,h):d[c])>-1&&(o[u]=!(a[u]=h))}}else _=bt(_===a?_.splice(p,_.length):_),r?r(null,a,_,l):P.apply(a,_)})}function Et(t){for(var e,i,r,o=t.length,a=n.relative[t[0].type],s=a||n.relative[" "],l=a?1:0,c=vt(function(t){return t===e},s,!0),h=vt(function(t){return R(e,t)>-1},s,!0),d=[function(t,i,n){var r=!a&&(n||i!==u)||((e=i).nodeType?c(t,i,n):h(t,i,n));return e=null,r}];l<o;l++)if(i=n.relative[t[l].type])d=[vt(yt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!n.relative[t[r].type];r++);return wt(l>1&&yt(d),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),i,l<r&&Et(t.slice(l,r)),r<o&&Et(t=t.slice(r)),r<o&&_t(t))}d.push(i)}return yt(d)}function Tt(t,e){var i=e.length>0,r=t.length>0,o=function(o,a,s,l,c){var h,p,m,_=0,v="0",y=o&&[],b=[],w=u,T=o||r&&n.find.TAG("*",c),$=E+=null==w?1:Math.random()||.1,x=T.length;for(c&&(u=a===f||a||c);v!==x&&null!=(h=T[v]);v++){if(r&&h){for(p=0,a||h.ownerDocument===f||(d(h),s=!g);m=t[p++];)if(m(h,a||f,s)){l.push(h);break}c&&(E=$)}i&&((h=!m&&h)&&_--,o&&y.push(h))}if(_+=v,i&&v!==_){for(p=0;m=e[p++];)m(y,b,a,s);if(o){if(_>0)for(;v--;)y[v]||b[v]||(b[v]=A.call(l));b=bt(b)}P.apply(l,b),c&&!o&&b.length>0&&_+e.length>1&&ot.uniqueSort(l)}return c&&(E=$,u=w),y};return i?st(o):o}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,a=ot.tokenize=function(t,e){var i,r,o,a,s,l,u,c=x[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=n.preFilter;s;){for(a in i&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=G.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(j," ")}),s=s.slice(i.length)),n.filter)!(r=Y[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?ot.error(t):x(t,l).slice(0)},s=ot.compile=function(t,e){var i,n=[],r=[],o=S[t+" "];if(!o){for(e||(e=a(t)),i=e.length;i--;)(o=Et(e[i]))[b]?n.push(o):r.push(o);(o=S(t,Tt(r,n))).selector=t}return o},l=ot.select=function(t,e,i,r){var o,l,u,c,h,d="function"==typeof t&&t,f=!r&&a(t=d.selector||t);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(J,tt),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&(u=l[o],!n.relative[c=u.type]);)if((h=n.find[c])&&(r=h(u.matches[0].replace(J,tt),Z.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&_t(l)))return P.apply(i,r),i;break}}return(d||s(t,f))(r,e,!g,i,!e||Z.test(t)&&gt(e.parentNode)||e),i},i.sortStable=b.split("").sort(C).join("")===b,i.detectDuplicates=!!h,d(),i.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(O,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),ot}(t);b.find=T,b.expr=T.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=T.uniqueSort,b.text=T.getText,b.isXMLDoc=T.isXML,b.contains=T.contains,b.escapeSelector=T.escape;var $=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&b(t).is(i))break;n.push(t)}return n},x=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},S=b.expr.match.needsContext;function C(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,i){return g(e)?b.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?b.grep(t,function(t){return t===e!==i}):"string"!=typeof e?b.grep(t,function(t){return l.call(e,t)>-1!==i}):b.filter(e,t,i)}b.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?b.find.matchesSelector(n,t)?[n]:[]:b.find.matches(t,b.grep(e,function(t){return 1===t.nodeType}))},b.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(b(t).filter(function(){for(e=0;e<n;e++)if(b.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)b.find(t,r[e],i);return n>1?b.uniqueSort(i):i},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&S.test(t)?b(t):t||[],!1).length}});var A,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(t,e,i){var r,o;if(!t)return this;if(i=i||A,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:n,!0)),k.test(r[1])&&b.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=n.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==i.ready?i.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,A=b(n);var P=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(b.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],a="string"!=typeof t&&b(t);if(!S.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&b.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(b(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return $(t,"parentNode")},parentsUntil:function(t,e,i){return $(t,"parentNode",i)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return $(t,"nextSibling")},prevAll:function(t){return $(t,"previousSibling")},nextUntil:function(t,e,i){return $(t,"nextSibling",i)},prevUntil:function(t,e,i){return $(t,"previousSibling",i)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return C(t,"iframe")?t.contentDocument:(C(t,"template")&&(t=t.content||t),b.merge([],t.childNodes))}},function(t,e){b.fn[t]=function(i,n){var r=b.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=b.filter(n,r)),this.length>1&&(D[t]||b.uniqueSort(r),P.test(t)&&r.reverse()),this.pushStack(r)}});var O=/[^\x20\t\r\n\f]+/g;function I(t){return t}function N(t){throw t}function B(t,e,i,n){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(i):t&&g(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}b.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return b.each(t.match(O)||[],function(t,i){e[i]=!0}),e}(t):b.extend({},t);var e,i,n,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,n=e=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(s=o.length-1,a.push(i)),function e(i){b.each(i,function(i,n){g(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==y(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return b.each(arguments,function(t,e){for(var i;(i=b.inArray(e,o,i))>-1;)o.splice(i,1),i<=s&&s--}),this},has:function(t){return t?b.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},b.extend({Deferred:function(e){var i=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return b.Deferred(function(e){b.each(i,function(i,n){var r=g(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){var o=0;function a(e,i,n,r){return function(){var s=this,l=arguments,u=function(){var t,u;if(!(e<o)){if((t=n.apply(s,l))===i.promise())throw new TypeError("Thenable self-resolution");u=t&&("object"==typeof t||"function"==typeof t)&&t.then,g(u)?r?u.call(t,a(o,i,I,r),a(o,i,N,r)):(o++,u.call(t,a(o,i,I,r),a(o,i,N,r),a(o,i,I,i.notifyWith))):(n!==I&&(s=void 0,l=[t]),(r||i.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,c.stackTrace),e+1>=o&&(n!==N&&(s=void 0,l=[t]),i.rejectWith(s,l))}};e?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),t.setTimeout(c))}}return b.Deferred(function(t){i[0][3].add(a(0,t,g(r)?r:I,t.notifyWith)),i[1][3].add(a(0,t,g(e)?e:I)),i[2][3].add(a(0,t,g(n)?n:N))}).promise()},promise:function(t){return null!=t?b.extend(t,r):r}},o={};return b.each(i,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){n=s},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=o.call(arguments),a=b.Deferred(),s=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?o.call(arguments):i,--e||a.resolveWith(n,r)}};if(e<=1&&(B(t,a.done(s(i)).resolve,a.reject,!e),"pending"===a.state()||g(r[i]&&r[i].then)))return a.then();for(;i--;)B(r[i],s(i),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&F.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},b.readyException=function(e){t.setTimeout(function(){throw e})};var U=b.Deferred();function j(){n.removeEventListener("DOMContentLoaded",j),t.removeEventListener("load",j),b.ready()}b.fn.ready=function(t){return U.then(t).catch(function(t){b.readyException(t)}),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||U.resolveWith(n,[b]))}}),b.ready.then=U.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(b.ready):(n.addEventListener("DOMContentLoaded",j),t.addEventListener("load",j));var H=function(t,e,i,n,r,o,a){var s=0,l=t.length,u=null==i;if("object"===y(i))for(s in r=!0,i)H(t,e,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,g(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(b(t),i)})),e))for(;s<l;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return r?t:u?e.call(t):l?e(t[0],i):o},G=/^-ms-/,z=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function W(t){return t.replace(G,"ms-").replace(z,q)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function V(){this.expando=b.expando+V.uid++}V.uid=1,V.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[W(e)]=i;else for(n in e)r[W(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(W):(e=W(e))in n?[e]:e.match(O)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||b.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var X=new V,K=new V,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function J(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Z,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(i)}catch(t){}K.set(t,e,i)}else i=void 0;return i}b.extend({hasData:function(t){return K.hasData(t)||X.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return X.access(t,e,i)},_removeData:function(t,e){X.remove(t,e)}}),b.fn.extend({data:function(t,e){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=K.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=W(n.slice(5)),J(o,n,r[n]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){K.set(this,t)}):H(this,function(e){var i;if(o&&void 0===e){if(void 0!==(i=K.get(o,t)))return i;if(void 0!==(i=J(o,t)))return i}else this.each(function(){K.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),b.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=X.get(t,e),i&&(!n||Array.isArray(i)?n=X.access(t,e,b.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=b.queue(t,e),n=i.length,r=i.shift(),o=b._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,function(){b.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return X.get(t,i)||X.access(t,i,{empty:b.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",i])})})}}),b.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?b.queue(this[0],t):void 0===e?this:this.each(function(){var i=b.queue(this,t,e);b._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&b.dequeue(this,t)})},dequeue:function(t){return this.each(function(){b.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=b.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=X.get(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&b.contains(t.ownerDocument,t)&&"none"===b.css(t,"display")},rt=function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=i.apply(t,n||[]),e)t.style[o]=a[o];return r};function ot(t,e,i,n){var r,o,a=20,s=n?function(){return n.cur()}:function(){return b.css(t,e,"")},l=s(),u=i&&i[3]||(b.cssNumber[e]?"":"px"),c=(b.cssNumber[e]||"px"!==u&&+l)&&et.exec(b.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)b.style(t,e,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,b.style(t,e,c+u),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}var at={};function st(t){var e,i=t.ownerDocument,n=t.nodeName,r=at[n];return r||(e=i.body.appendChild(i.createElement(n)),r=b.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),at[n]=r,r)}function lt(t,e){for(var i,n,r=[],o=0,a=t.length;o<a;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(r[o]=X.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&nt(n)&&(r[o]=st(n))):"none"!==i&&(r[o]="none",X.set(n,"display",i)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}b.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){nt(this)?b(this).show():b(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,ct=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ft(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&C(t,e)?b.merge([t],i):i}function pt(t,e){for(var i=0,n=t.length;i<n;i++)X.set(t[i],"globalEval",!e||X.get(e[i],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var gt=/<|&#?\w+;/;function mt(t,e,i,n,r){for(var o,a,s,l,u,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===y(o))b.merge(d,o.nodeType?[o]:o);else if(gt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(ct.exec(o)||["",""])[1].toLowerCase(),l=dt[s]||dt._default,a.innerHTML=l[1]+b.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;b.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(n&&b.inArray(o,n)>-1)r&&r.push(o);else if(u=b.contains(o.ownerDocument,o),a=ft(h.appendChild(o),"script"),u&&pt(a),i)for(c=0;o=a[c++];)ht.test(o.type||"")&&i.push(o);return h}!function(){var t=n.createDocumentFragment().appendChild(n.createElement("div")),e=n.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),p.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var _t=n.documentElement,vt=/^key/,yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\.(.+)|)/;function wt(){return!0}function Et(){return!1}function Tt(){try{return n.activeElement}catch(t){}}function $t(t,e,i,n,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof i&&(n=n||i,i=void 0),e)$t(t,s,i,n,e[s],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Et;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return b().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=b.guid++)),t.each(function(){b.event.add(this,e,r,n,i)})}b.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,u,c,h,d,f,p,g,m=X.get(t);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&b.find.matchesSelector(_t,r),i.guid||(i.guid=b.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(O)||[""]).length;u--;)f=g=(s=bt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=b.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=b.event.special[f]||{},c=b.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,a)||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),b.event.global[f]=!0)},remove:function(t,e,i,n,r){var o,a,s,l,u,c,h,d,f,p,g,m=X.hasData(t)&&X.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(O)||[""]).length;u--;)if(f=g=(s=bt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=b.event.special[f]||{},d=l[f=(n?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!r&&g!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||b.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)b.event.remove(t,f+e[u],i,n,!0);b.isEmptyObject(l)&&X.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,a,s=b.event.fix(t),l=new Array(arguments.length),u=(X.get(this,"events")||{})[s.type]||[],c=b.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=b.event.handlers.call(this,s,u),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((b.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var i,n,r,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[r=(n=e[i]).selector+" "]&&(a[r]=n.needsContext?b(r,this).index(u)>-1:b.find(r,this,null,[u]).length),a[r]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Tt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Tt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C(this,"input"))return this.click(),!1},_default:function(t){return C(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?wt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=wt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=wt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=wt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&yt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||b.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),b.fn.extend({on:function(t,e,i,n){return $t(this,t,e,i,n)},one:function(t,e,i,n){return $t(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,b(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Et),this.each(function(){b.event.remove(this,t,i,e)})}});var xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,St=/<script|<style|<link/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return C(t,"table")&&C(11!==e.nodeType?e:e.firstChild,"tr")&&b(t).children("tbody")[0]||t}function At(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Pt(t,e){var i,n,r,o,a,s,l,u;if(1===e.nodeType){if(X.hasData(t)&&(o=X.access(t),a=X.set(e,o),u=o.events))for(r in delete a.handle,a.events={},u)for(i=0,n=u[r].length;i<n;i++)b.event.add(e,r,u[r][i]);K.hasData(t)&&(s=K.access(t),l=b.extend({},s),K.set(e,l))}}function Dt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&ut.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Rt(t,e,i,n){e=a.apply([],e);var r,o,s,l,u,c,h=0,d=t.length,f=d-1,m=e[0],_=g(m);if(_||d>1&&"string"==typeof m&&!p.checkClone&&Ct.test(m))return t.each(function(r){var o=t.eq(r);_&&(e[0]=m.call(this,r,o.html())),Rt(o,e,i,n)});if(d&&(o=(r=mt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(l=(s=b.map(ft(r,"script"),At)).length;h<d;h++)u=r,h!==f&&(u=b.clone(u,!0,!0),l&&b.merge(s,ft(u,"script"))),i.call(t[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,b.map(s,Mt),h=0;h<l;h++)u=s[h],ht.test(u.type||"")&&!X.access(u,"globalEval")&&b.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?b._evalUrl&&b._evalUrl(u.src):v(u.textContent.replace(kt,""),c,u))}return t}function Ot(t,e,i){for(var n,r=e?b.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||b.cleanData(ft(n)),n.parentNode&&(i&&b.contains(n.ownerDocument,n)&&pt(ft(n,"script")),n.parentNode.removeChild(n));return t}b.extend({htmlPrefilter:function(t){return t.replace(xt,"<$1></$2>")},clone:function(t,e,i){var n,r,o,a,s=t.cloneNode(!0),l=b.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(a=ft(s),n=0,r=(o=ft(t)).length;n<r;n++)Dt(o[n],a[n]);if(e)if(i)for(o=o||ft(t),a=a||ft(s),n=0,r=o.length;n<r;n++)Pt(o[n],a[n]);else Pt(t,s);return(a=ft(s,"script")).length>0&&pt(a,!l&&ft(t,"script")),s},cleanData:function(t){for(var e,i,n,r=b.event.special,o=0;void 0!==(i=t[o]);o++)if(Y(i)){if(e=i[X.expando]){if(e.events)for(n in e.events)r[n]?b.event.remove(i,n):b.removeEvent(i,n,e.handle);i[X.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Ot(this,t,!0)},remove:function(t){return Ot(this,t)},text:function(t){return H(this,function(t){return void 0===t?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return b.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!St.test(t)&&!dt[(ct.exec(t)||["",""])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(b.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var i=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(ft(this)),i&&i.replaceChild(e,this))},t)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){b.fn[t]=function(t){for(var i,n=[],r=b(t),o=r.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),b(r[a])[e](i),s.apply(n,i.get());return this.pushStack(n)}});var It=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Nt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Bt=new RegExp(it.join("|"),"i");function Ft(t,e,i){var n,r,o,a,s=t.style;return(i=i||Nt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||b.contains(t.ownerDocument,t)||(a=b.style(t,e)),!p.pixelBoxStyles()&&It.test(a)&&Bt.test(e)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(u).appendChild(c);var e=t.getComputedStyle(c);r="1%"!==e.top,l=12===i(e.marginLeft),c.style.right="60%",s=36===i(e.right),o=36===i(e.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",_t.removeChild(u),c=null}}function i(t){return Math.round(parseFloat(t))}var r,o,a,s,l,u=n.createElement("div"),c=n.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a}}))}();var jt=/^(none|table(?!-c[ea]).+)/,Ht=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},zt={letterSpacing:"0",fontWeight:"400"},qt=["Webkit","Moz","ms"],Wt=n.createElement("div").style;function Yt(t){var e=b.cssProps[t];return e||(e=b.cssProps[t]=function(t){if(t in Wt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=qt.length;i--;)if((t=qt[i]+e)in Wt)return t}(t)||t),e}function Vt(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Xt(t,e,i,n,r,o){var a="width"===e?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=b.css(t,i+it[a],!0,r)),n?("content"===i&&(l-=b.css(t,"padding"+it[a],!0,r)),"margin"!==i&&(l-=b.css(t,"border"+it[a]+"Width",!0,r))):(l+=b.css(t,"padding"+it[a],!0,r),"padding"!==i?l+=b.css(t,"border"+it[a]+"Width",!0,r):s+=b.css(t,"border"+it[a]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))),l}function Kt(t,e,i){var n=Nt(t),r=Ft(t,e,n),o="border-box"===b.css(t,"boxSizing",!1,n),a=o;if(It.test(r)){if(!i)return r;r="auto"}return a=a&&(p.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===b.css(t,"display",!1,n))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+Xt(t,e,i||(o?"border":"content"),a,n,r)+"px"}function Qt(t,e,i,n,r){return new Qt.prototype.init(t,e,i,n,r)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ft(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=W(e),l=Ht.test(e),u=t.style;if(l||(e=Yt(s)),a=b.cssHooks[e]||b.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:u[e];"string"==(o=typeof i)&&(r=et.exec(i))&&r[1]&&(i=ot(t,e,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(b.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var r,o,a,s=W(e);return Ht.test(e)||(e=Yt(s)),(a=b.cssHooks[e]||b.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=Ft(t,e,n)),"normal"===r&&e in zt&&(r=zt[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),b.each(["height","width"],function(t,e){b.cssHooks[e]={get:function(t,i,n){if(i)return!jt.test(b.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Kt(t,e,n):rt(t,Gt,function(){return Kt(t,e,n)})},set:function(t,i,n){var r,o=Nt(t),a="border-box"===b.css(t,"boxSizing",!1,o),s=n&&Xt(t,e,n,a,o);return a&&p.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Xt(t,e,"border",!1,o)-.5)),s&&(r=et.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=b.css(t,e)),Vt(0,i,s)}}}),b.cssHooks.marginLeft=Ut(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ft(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(t,e){b.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+it[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(b.cssHooks[t+e].set=Vt)}),b.fn.extend({css:function(t,e){return H(this,function(t,e,i){var n,r,o={},a=0;if(Array.isArray(e)){for(n=Nt(t),r=e.length;a<r;a++)o[e[a]]=b.css(t,e[a],!1,n);return o}return void 0!==i?b.style(t,e,i):b.css(t,e)},t,e,arguments.length>1)}}),b.Tween=Qt,Qt.prototype={constructor:Qt,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(b.cssNumber[i]?"":"px")},cur:function(){var t=Qt.propHooks[this.prop];return t&&t.get?t.get(this):Qt.propHooks._default.get(this)},run:function(t){var e,i=Qt.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Qt.propHooks._default.set(this),this}},Qt.prototype.init.prototype=Qt.prototype,Qt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[b.cssProps[t.prop]]&&!b.cssHooks[t.prop]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},Qt.propHooks.scrollTop=Qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},b.fx=Qt.prototype.init,b.fx.step={};var Zt,Jt,te=/^(?:toggle|show|hide)$/,ee=/queueHooks$/;function ie(){Jt&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ie):t.setTimeout(ie,b.fx.interval),b.fx.tick())}function ne(){return t.setTimeout(function(){Zt=void 0}),Zt=Date.now()}function re(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=it[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function oe(t,e,i){for(var n,r=(ae.tweeners[e]||[]).concat(ae.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,e,t))return n}function ae(t,e,i){var n,r,o=0,a=ae.prefilters.length,s=b.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zt||ne(),i=Math.max(0,u.startTime+u.duration-e),n=1-(i/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(n);return s.notifyWith(t,[u,n,i]),n<1&&a?i:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},i),originalProperties:e,originalOptions:i,startTime:Zt||ne(),duration:i.duration,tweens:[],createTween:function(e,i){var n=b.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var i,n,r,o,a;for(i in t)if(r=e[n=W(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=b.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(c,u.opts.specialEasing);o<a;o++)if(n=ae.prefilters[o].call(u,t,c,u.opts))return g(n.stop)&&(b._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return b.map(c,oe,u),g(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),b.fx.timer(b.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}b.Animation=b.extend(ae,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ot(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(O);for(var i,n=0,r=t.length;n<r;n++)i=t[n],ae.tweeners[i]=ae.tweeners[i]||[],ae.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,o,a,s,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&nt(t),m=X.get(t,"fxshow");for(n in i.queue||(null==(a=b._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,b.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[n],te.test(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||b.style(t,n)}if((l=!b.isEmptyObject(e))||!b.isEmptyObject(f))for(n in h&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=X.get(t,"display")),"none"===(c=b.css(t,"display"))&&(u?c=u:(lt([t],!0),u=t.style.display||u,c=b.css(t,"display"),lt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===b.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&lt([t],!0),d.done(function(){for(n in g||lt([t]),X.remove(t,"fxshow"),f)b.style(t,n,f[n])})),l=oe(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ae.prefilters.unshift(t):ae.prefilters.push(t)}}),b.speed=function(t,e,i){var n=t&&"object"==typeof t?b.extend({},t):{complete:i||!i&&e||g(t)&&t,duration:t,easing:i&&e||e&&!g(e)&&e};return b.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in b.fx.speeds?n.duration=b.fx.speeds[n.duration]:n.duration=b.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&b.dequeue(this,n.queue)},n},b.fn.extend({fadeTo:function(t,e,i,n){return this.filter(nt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=b.isEmptyObject(t),o=b.speed(e,i,n),a=function(){var e=ae(this,b.extend({},t),o);(r||X.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=b.timers,a=X.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&ee.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||b.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=X.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=b.timers,a=n?n.length:0;for(i.finish=!0,b.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),b.each(["toggle","show","hide"],function(t,e){var i=b.fn[e];b.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(re(e,!0),t,n,r)}}),b.each({slideDown:re("show"),slideUp:re("hide"),slideToggle:re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){b.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),b.timers=[],b.fx.tick=function(){var t,e=0,i=b.timers;for(Zt=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||b.fx.stop(),Zt=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){Jt||(Jt=!0,ie())},b.fx.stop=function(){Jt=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,i){return e=b.fx&&b.fx.speeds[e]||e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=n.createElement("input"),e=n.createElement("select").appendChild(n.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=n.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var se,le=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){b.removeAttr(this,t)})}}),b.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?b.prop(t,e,i):(1===o&&b.isXMLDoc(t)||(r=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?se:void 0)),void 0!==i?null===i?void b.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=b.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&C(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(O);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),se={set:function(t,e,i){return!1===e?b.removeAttr(t,i):t.setAttribute(i,i),i}},b.each(b.expr.match.bool.source.match(/\w+/g),function(t,e){var i=le[e]||b.find.attr;le[e]=function(t,e,n){var r,o,a=e.toLowerCase();return n||(o=le[a],le[a]=r,r=null!=i(t,e,n)?a:null,le[a]=o),r}});var ue=/^(?:input|select|textarea|button)$/i,ce=/^(?:a|area)$/i;function he(t){return(t.match(O)||[]).join(" ")}function de(t){return t.getAttribute&&t.getAttribute("class")||""}function fe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[b.propFix[t]||t]})}}),b.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(t)||(e=b.propFix[e]||e,r=b.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(t){var e,i,n,r,o,a,s,l=0;if(g(t))return this.each(function(e){b(this).addClass(t.call(this,e,de(this)))});if((e=fe(t)).length)for(;i=this[l++];)if(r=de(i),n=1===i.nodeType&&" "+he(r)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(s=he(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,o,a,s,l=0;if(g(t))return this.each(function(e){b(this).removeClass(t.call(this,e,de(this)))});if(!arguments.length)return this.attr("class","");if((e=fe(t)).length)for(;i=this[l++];)if(r=de(i),n=1===i.nodeType&&" "+he(r)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(s=he(n))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(i){b(this).toggleClass(t.call(this,i,de(this),e),e)}):this.each(function(){var e,r,o,a;if(n)for(r=0,o=b(this),a=fe(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=de(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+he(de(i))+" ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g;b.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=g(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,b(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,function(t){return null==t?"":t+""})),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(pe,""):null==i?"":i:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,"value");return null!=e?e:he(b.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!C(i.parentNode,"optgroup"))){if(e=b(i).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=b.makeArray(e),a=r.length;a--;)((n=r[a]).selected=b.inArray(b.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},p.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var ge=/^(?:focusinfocus|focusoutblur)$/,me=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,i,r,o){var a,s,l,u,c,d,f,p,_=[r||n],v=h.call(e,"type")?e.type:e,y=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=l=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!ge.test(v+b.event.triggered)&&(v.indexOf(".")>-1&&(v=(y=v.split(".")).shift(),y.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[b.expando]?e:new b.Event(v,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:b.makeArray(i,[e]),f=b.event.special[v]||{},o||!f.trigger||!1!==f.trigger.apply(r,i))){if(!o&&!f.noBubble&&!m(r)){for(u=f.delegateType||v,ge.test(u+v)||(s=s.parentNode);s;s=s.parentNode)_.push(s),l=s;l===(r.ownerDocument||n)&&_.push(l.defaultView||l.parentWindow||t)}for(a=0;(s=_[a++])&&!e.isPropagationStopped();)p=s,e.type=a>1?u:f.bindType||v,(d=(X.get(s,"events")||{})[e.type]&&X.get(s,"handle"))&&d.apply(s,i),(d=c&&s[c])&&d.apply&&Y(s)&&(e.result=d.apply(s,i),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(_.pop(),i)||!Y(r)||c&&g(r[v])&&!m(r)&&((l=r[c])&&(r[c]=null),b.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,me),r[v](),e.isPropagationStopped()&&p.removeEventListener(v,me),b.event.triggered=void 0,l&&(r[c]=l)),e.result}},simulate:function(t,e,i){var n=b.extend(new b.Event,i,{type:t,isSimulated:!0});b.event.trigger(n,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each(function(){b.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return b.event.trigger(t,e,i,!0)}}),p.focusin||b.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=X.access(n,e);r||n.addEventListener(t,i,!0),X.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=X.access(n,e)-1;r?X.access(n,e,r):(n.removeEventListener(t,i,!0),X.remove(n,e))}}});var _e=t.location,ve=Date.now(),ye=/\?/;b.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+e),i};var be=/\[\]$/,we=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function $e(t,e,i,n){var r;if(Array.isArray(e))b.each(e,function(e,r){i||be.test(t)?n(t,r):$e(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==y(e))n(t,e);else for(r in e)$e(t+"["+r+"]",e[r],i,n)}b.param=function(t,e){var i,n=[],r=function(t,e){var i=g(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,function(){r(this.name,this.value)});else for(i in t)$e(i,t[i],e,r);return n.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=b.prop(this,"elements");return t?b.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!b(this).is(":disabled")&&Te.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var i=b(this).val();return null==i?null:Array.isArray(i)?b.map(i,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:i.replace(we,"\r\n")}}).get()}});var xe=/%20/g,Se=/#.*$/,Ce=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Ae=/^\/\//,Me={},Pe={},De="*/".concat("*"),Re=n.createElement("a");function Oe(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(O)||[];if(g(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Ie(t,e,i,n){var r={},o=t===Pe;function a(s){var l;return r[s]=!0,b.each(t[s]||[],function(t,s){var u=s(e,i,n);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ne(t,e){var i,n,r=b.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&b.extend(!0,t,n),t}Re.href=_e.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":De,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,b.ajaxSettings),e):Ne(b.ajaxSettings,t)},ajaxPrefilter:Oe(Me),ajaxTransport:Oe(Pe),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,a,s,l,u,c,h,d,f,p=b.ajaxSetup({},i),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?b(g):b.event,_=b.Deferred(),v=b.Callbacks("once memory"),y=p.statusCode||{},w={},E={},T="canceled",$={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=ke.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)$.always(t[$.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||T;return r&&r.abort(e),x(0,e),this}};if(_.promise($),p.url=((e||p.url||_e.href)+"").replace(Ae,_e.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(O)||[""],null==p.crossDomain){u=n.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Re.protocol+"//"+Re.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Ie(Me,p,i,$),c)return $;for(d in(h=b.event&&p.global)&&0==b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Le.test(p.type),o=p.url.replace(Se,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xe,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(ye.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ce,"$1"),f=(ye.test(o)?"&":"?")+"_="+ve+++f),p.url=o+f),p.ifModified&&(b.lastModified[o]&&$.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&$.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&$.setRequestHeader("Content-Type",p.contentType),$.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+De+"; q=0.01":""):p.accepts["*"]),p.headers)$.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,$,p)||c))return $.abort();if(T="abort",v.add(p.complete),$.done(p.success),$.fail(p.error),r=Ie(Pe,p,i,$)){if($.readyState=1,h&&m.trigger("ajaxSend",[$,p]),c)return $;p.async&&p.timeout>0&&(l=t.setTimeout(function(){$.abort("timeout")},p.timeout));try{c=!1,r.send(w,x)}catch(t){if(c)throw t;x(-1,t)}}else x(-1,"No Transport");function x(e,i,n,s){var u,d,f,w,E,T=i;c||(c=!0,l&&t.clearTimeout(l),r=void 0,a=s||"",$.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(w=function(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,$,n)),w=function(t,e,i,n){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,w,$,u),u?(p.ifModified&&((E=$.getResponseHeader("Last-Modified"))&&(b.lastModified[o]=E),(E=$.getResponseHeader("etag"))&&(b.etag[o]=E)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=w.state,d=w.data,u=!(f=w.error))):(f=T,!e&&T||(T="error",e<0&&(e=0))),$.status=e,$.statusText=(i||T)+"",u?_.resolveWith(g,[d,T,$]):_.rejectWith(g,[$,T,f]),$.statusCode(y),y=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[$,p,u?d:f]),v.fireWith(g,[$,T]),h&&(m.trigger("ajaxComplete",[$,p]),--b.active||b.event.trigger("ajaxStop")))}return $},getJSON:function(t,e,i){return b.get(t,e,i,"json")},getScript:function(t,e){return b.get(t,void 0,e,"script")}}),b.each(["get","post"],function(t,e){b[e]=function(t,i,n,r){return g(i)&&(r=r||n,n=i,i=void 0),b.ajax(b.extend({url:t,type:e,dataType:r,data:i,success:n},b.isPlainObject(t)&&t))}}),b._evalUrl=function(t){return b.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){b(this).wrapInner(t.call(this,e))}):this.each(function(){var e=b(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(i){b(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Be={0:200,1223:204},Fe=b.ajaxSettings.xhr();p.cors=!!Fe&&"withCredentials"in Fe,p.ajax=Fe=!!Fe,b.ajaxTransport(function(e){var i,n;if(p.cors||Fe&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);i=function(t){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Be[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=s.ontimeout=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),b.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),b.ajaxTransport("script",function(t){var e,i;if(t.crossDomain)return{send:function(r,o){e=b("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}});var Ue=[],je=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||b.expando+"_"+ve++;return this[t]=!0,t}}),b.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,a,s=!1!==e.jsonp&&(je.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&je.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(je,"$1"+r):!1!==e.jsonp&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||b.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},n.always(function(){void 0===o?b(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ue.push(r)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),p.createHTMLDocument=function(){var t=n.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),b.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(p.createHTMLDocument?((r=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(r)):e=n),a=!i&&[],(o=k.exec(t))?[e.createElement(o[1])]:(o=mt([t],e,a),a&&a.length&&b(a).remove(),b.merge([],o.childNodes)));var r,o,a},b.fn.load=function(t,e,i){var n,r,o,a=this,s=t.indexOf(" ");return s>-1&&(n=he(t.slice(s)),t=t.slice(0,s)),g(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&b.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?b("<div>").append(b.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){b.fn[e]=function(t){return this.on(e,t)}}),b.expr.pseudos.animated=function(t){return b.grep(b.timers,function(e){return t===e.elem}).length},b.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,u=b.css(t,"position"),c=b(t),h={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=b.css(t,"top"),l=b.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(n=c.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),g(e)&&(e=e.call(t,i,b.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){b.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===b.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===b.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=b(t).offset()).top+=b.css(t,"borderTopWidth",!0),r.left+=b.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-b.css(n,"marginTop",!0),left:e.left-r.left-b.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===b.css(t,"position");)t=t.offsetParent;return t||_t})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;b.fn[t]=function(n){return H(this,function(t,n,r){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r},t,n,arguments.length)}}),b.each(["top","left"],function(t,e){b.cssHooks[e]=Ut(p.pixelPosition,function(t,i){if(i)return i=Ft(t,e),It.test(i)?b(t).position()[e]+"px":i})}),b.each({Height:"height",Width:"width"},function(t,e){b.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){b.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return H(this,function(e,i,r){var o;return m(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?b.css(e,i,s):b.style(e,i,r,s)},e,a?r:void 0,a)}})}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){b.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),b.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),b.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),g(t))return n=o.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,r},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=C,b.isFunction=g,b.isWindow=m,b.camelCase=W,b.type=y,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var He=t.jQuery,Ge=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Ge),e&&t.jQuery===b&&(t.jQuery=He),b},e||(t.jQuery=t.$=b),b}),function(t){function e(e,n,r){return r=g(n,r),this.on("click.pjax",e,function(e){var n=r;n.container||((n=t.extend({},r)).container=t(this).attr("data-pjax")),i(e,n)})}function i(e,i,n){n=g(i,n);var o=e.currentTarget,a=t(o);if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&p(o)==p(location)||e.isDefaultPrevented())){var s={url:o.href,container:a.attr("data-pjax"),target:o},l=t.extend({},s,n),u=t.Event("pjax:click");a.trigger(u,[l]),u.isDefaultPrevented()||(r(l),e.preventDefault(),a.trigger("pjax:clicked",[l]))}}function n(e,i,n){n=g(i,n);var o=e.currentTarget,a=t(o);if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:(a.attr("method")||"GET").toUpperCase(),url:a.attr("action"),container:a.attr("data-pjax"),target:o};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(o),s.processData=!1,s.contentType=!1;else{if(a.find(":file").length)return;s.data=a.serializeArray()}r(t.extend({},s,n)),e.preventDefault()}function r(e){function i(i,n,r){r||(r={}),r.relatedTarget=e.target;var o=t.Event(i,r);return l.trigger(o,n),!o.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=f(e.url).hash,o=t.type(e.container);if("string"!==o)throw"expected string value for 'container' option; got "+o;var s,l=e.context=t(e.container);if(!l.length)throw"the container selector '"+e.container+"' did not match anything";e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:e.container}):e.data._pjax=e.container,e.beforeSend=function(t,r){if("GET"!==r.type&&(r.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e.container),!i("pjax:beforeSend",[t,r]))return!1;r.timeout>0&&(s=setTimeout(function(){i("pjax:timeout",[t,e])&&t.abort("timeout")},r.timeout),r.timeout=0);var o=f(r.url);n&&(o.hash=n),e.requestUrl=d(o)},e.complete=function(t,n){s&&clearTimeout(s),i("pjax:complete",[t,n,e]),i("pjax:end",[t,e])},e.error=function(t,n,r){var o=v("",t,e),s=i("pjax:error",[t,n,r,e]);"GET"==e.type&&"abort"!==n&&s&&a(o.url)},e.success=function(o,s,u){var h=r.state,d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,p=u.getResponseHeader("X-PJAX-Version"),g=v(o,u,e),m=f(g.url);if(n&&(m.hash=n,g.url=m.href),d&&p&&d!==p)a(g.url);else if(g.contents){if(r.state={id:e.id||c(),url:g.url,title:g.title,container:e.container,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,g.title,g.url),t.contains(l,document.activeElement))try{document.activeElement.blur()}catch(t){}g.title&&(document.title=g.title),i("pjax:beforeReplace",[g.contents,e],{state:r.state,previousState:h}),l.html(g.contents);var _=l.find("input[autofocus], textarea[autofocus]").last()[0];_&&document.activeElement!==_&&_.focus(),function(e){if(e){var i=t("script[src]");e.each(function(){var e=this.src,n=i.filter(function(){return this.src===e});if(!n.length){var r=document.createElement("script"),o=t(this).attr("type");o&&(r.type=o),r.src=t(this).attr("src"),document.head.appendChild(r)}})}}(g.scripts);var y=e.scrollTo;if(n){var b=decodeURIComponent(n.slice(1)),w=document.getElementById(b)||document.getElementsByName(b)[0];w&&(y=t(w).offset().top)}"number"==typeof y&&t(window).scrollTop(y),i("pjax:success",[o,s,u,e])}else a(g.url)},r.state||(r.state={id:c(),url:window.location.href,title:document.title,container:e.container,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title)),u(r.xhr),r.options=e;var p=r.xhr=t.ajax(e);return p.readyState>0&&(e.push&&!e.replace&&(function(t,e){S[t]=e,k.push(t),y(C,0),y(k,r.defaults.maxCacheLength)}(r.state.id,[e.container,h(l)]),window.history.pushState(null,"",e.requestUrl)),i("pjax:start",[p,e]),i("pjax:send",[p,e])),r.xhr}function o(e,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(n,g(e,i)))}function a(t){window.history.replaceState(null,"",r.state.url),window.location.replace(t)}function s(e){T||u(r.xhr);var i,n=r.state,o=e.state;if(o&&o.container){if(T&&$==o.url)return;if(n){if(n.id===o.id)return;i=n.id<o.id?"forward":"back"}var s=S[o.id]||[],l=s[0]||o.container,c=t(l),d=s[1];if(c.length){n&&function(t,e,i){var n,o;S[e]=i,"forward"===t?(n=k,o=C):(n=C,o=k),n.push(e),(e=o.pop())&&delete S[e],y(n,r.defaults.maxCacheLength)}(i,n.id,[l,h(c)]);var f=t.Event("pjax:popstate",{state:o,direction:i});c.trigger(f);var p={id:o.id,url:o.url,container:l,push:!1,fragment:o.fragment,timeout:o.timeout,scrollTo:!1};if(d){c.trigger("pjax:start",[null,p]),r.state=o,o.title&&(document.title=o.title);var g=t.Event("pjax:beforeReplace",{state:o,previousState:n});c.trigger(g,[d,p]),c.html(d),c.trigger("pjax:end",[null,p])}else r(p);c[0].offsetHeight}else a(location.href)}T=!1}function l(e){var i=t.isFunction(e.url)?e.url():e.url,n=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&r.append(t("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,i){var n=i.split("=");r.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if(t.isArray(o))t.each(o,function(e,i){r.append(t("<input>",{type:"hidden",name:i.name,value:i.value}))});else if("object"==typeof o){var a;for(a in o)r.append(t("<input>",{type:"hidden",name:a,value:o[a]}))}t(document.body).append(r),r.submit()}function u(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function c(){return(new Date).getTime()}function h(e){var i=e.clone();return i.find("script").each(function(){this.src||t._data(this,"globalEval",!1)}),i.contents()}function d(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function f(t){var e=document.createElement("a");return e.href=t,e}function p(t){return t.href.replace(/#.*/,"")}function g(e,i){return e&&i?((i=t.extend({},i)).container=e,i):t.isPlainObject(e)?e:{container:e}}function m(t,e){return t.filter(e).add(t.find(e))}function _(e){return t.parseHTML(e,document,!0)}function v(e,i,n){var r,o,a={},s=/<html/i.test(e),l=i.getResponseHeader("X-PJAX-URL");if(a.url=l?d(f(l)):n.requestUrl,s){o=t(_(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var u=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);r=null!=u?t(_(u[0])):o}else r=o=t(_(e));if(0===o.length)return a;if(a.title=m(r,"title").last().text(),n.fragment){var c=o;"body"!==n.fragment&&(c=m(c,n.fragment).first()),c.length&&(a.contents="body"===n.fragment?c:c.contents(),a.title||(a.title=c.attr("title")||c.data("title")))}else s||(a.contents=o);return a.contents&&(a.contents=a.contents.not(function(){return t(this).is("title")}),a.contents.find("title").remove(),a.scripts=m(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=t.trim(a.title)),a}function y(t,e){for(;t.length>e;)delete S[t.shift()]}function b(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function w(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=E,t.pjax.click=i,t.pjax.submit=n,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:b},t(window).on("popstate.pjax",s)}function E(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=w,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",s)}var T=!0,$=window.location.href,x=window.history.state;x&&x.container&&(r.state=x),"state"in window.history&&(T=!1);var S={},C=[],k=[];t.event.props&&t.inArray("state",t.event.props)<0?t.event.props.push("state"):"state"in t.Event.prototype||t.event.addProp("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?w():E()}(jQuery),function(t){var e="object"==typeof window&&window||"object"==typeof self&&self;"undefined"==typeof exports||exports.nodeType?e&&(e.hljs=t({}),"function"==typeof define&&define.amd&&define([],function(){return e.hljs})):t(exports)}(function(t){var e=[],i=Object.keys,n={},r={},o=/^(no-?highlight|plain|text)$/i,a=/\blang(?:uage)?-([\w-]+)\b/i,s=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,l={case_insensitive:"cI",lexemes:"l",contains:"c",keywords:"k",subLanguage:"sL",className:"cN",begin:"b",beginKeywords:"bK",end:"e",endsWithParent:"eW",illegal:"i",excludeBegin:"eB",excludeEnd:"eE",returnBegin:"rB",returnEnd:"rE",variants:"v",IDENT_RE:"IR",UNDERSCORE_IDENT_RE:"UIR",NUMBER_RE:"NR",C_NUMBER_RE:"CNR",BINARY_NUMBER_RE:"BNR",RE_STARTERS_RE:"RSR",BACKSLASH_ESCAPE:"BE",APOS_STRING_MODE:"ASM",QUOTE_STRING_MODE:"QSM",PHRASAL_WORDS_MODE:"PWM",C_LINE_COMMENT_MODE:"CLCM",C_BLOCK_COMMENT_MODE:"CBCM",HASH_COMMENT_MODE:"HCM",NUMBER_MODE:"NM",C_NUMBER_MODE:"CNM",BINARY_NUMBER_MODE:"BNM",CSS_NUMBER_MODE:"CSSNM",REGEXP_MODE:"RM",TITLE_MODE:"TM",UNDERSCORE_TITLE_MODE:"UTM",COMMENT:"C",beginRe:"bR",endRe:"eR",illegalRe:"iR",lexemesRe:"lR",terminators:"t",terminator_end:"tE"},u="</span>",c={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},h="of and for in not or if then".split(" ");function d(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t){return t.nodeName.toLowerCase()}function p(t){return o.test(t)}function g(t){var e,i={},n=Array.prototype.slice.call(arguments,1);for(e in t)i[e]=t[e];return n.forEach(function(t){for(e in t)i[e]=t[e]}),i}function m(t){var e=[];return function t(i,n){for(var r=i.firstChild;r;r=r.nextSibling)3===r.nodeType?n+=r.nodeValue.length:1===r.nodeType&&(e.push({event:"start",offset:n,node:r}),n=t(r,n),f(r).match(/br|hr|img|input/)||e.push({event:"stop",offset:n,node:r}));return n}(t,0),e}function _(t){return t.v&&!t.cached_variants&&(t.cached_variants=t.v.map(function(e){return g(t,{v:null},e)})),t.cached_variants?t.cached_variants:function t(e){return!!e&&(e.eW||t(e.starts))}(t)?[g(t,{starts:t.starts?g(t.starts):null})]:[t]}function v(t){if(l&&!t.langApiRestored){for(var e in t.langApiRestored=!0,l)t[e]&&(t[l[e]]=t[e]);(t.c||[]).concat(t.v||[]).forEach(v)}}function y(t){function e(t){return t&&t.source||t}function n(i,n){return new RegExp(e(i),"m"+(t.cI?"i":"")+(n?"g":""))}!function r(o,a){o.compiled||(o.compiled=!0,o.k=o.k||o.bK,o.k&&(o.k=function(t,e){var n={};return"string"==typeof t?r("keyword",t):i(t).forEach(function(e){r(e,t[e])}),n;function r(t,i){e&&(i=i.toLowerCase()),i.split(" ").forEach(function(e){var i=e.split("|");n[i[0]]=[t,function(t,e){return e?Number(e):function(t){return-1!=h.indexOf(t.toLowerCase())}(t)?0:1}(i[0],i[1])]})}}(o.k,t.cI)),o.lR=n(o.l||/\w+/,!0),a&&(o.bK&&(o.b="\\b("+o.bK.split(" ").join("|")+")\\b"),o.b||(o.b=/\B|\b/),o.bR=n(o.b),o.endSameAsBegin&&(o.e=o.b),o.e||o.eW||(o.e=/\B|\b/),o.e&&(o.eR=n(o.e)),o.tE=e(o.e)||"",o.eW&&a.tE&&(o.tE+=(o.e?"|":"")+a.tE)),o.i&&(o.iR=n(o.i)),null==o.relevance&&(o.relevance=1),o.c||(o.c=[]),o.c=Array.prototype.concat.apply([],o.c.map(function(t){return _("self"===t?o:t)})),o.c.forEach(function(t){r(t,o)}),o.starts&&r(o.starts,a),o.t=function(t){var i,r,o={},a=[],s={},l=1;function u(t,e){o[l]=t,a.push([t,e]),l+=new RegExp(e.toString()+"|").exec("").length-1+1}for(var c=0;c<t.c.length;c++)u(r=t.c[c],r.bK?"\\.?(?:"+r.b+")\\.?":r.b);t.tE&&u("end",t.tE),t.i&&u("illegal",t.i);var h=a.map(function(t){return t[1]});return i=n(function(t,i){for(var n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,o="",a=0;a<t.length;a++){var s=r+=1,l=e(t[a]);for(0<a&&(o+="|"),o+="(";0<l.length;){var u=n.exec(l);if(null==u){o+=l;break}o+=l.substring(0,u.index),l=l.substring(u.index+u[0].length),"\\"==u[0][0]&&u[1]?o+="\\"+String(Number(u[1])+s):(o+=u[0],"("==u[0]&&r++)}o+=")"}return o}(h),!0),s.lastIndex=0,s.exec=function(e){var n;if(0===a.length)return null;i.lastIndex=s.lastIndex;var r=i.exec(e);if(!r)return null;for(var l=0;l<r.length;l++)if(null!=r[l]&&null!=o[""+l]){n=o[""+l];break}return"string"==typeof n?(r.type=n,r.extra=[t.i,t.tE]):(r.type="begin",r.rule=n),r},s}(o))}(t)}function b(t,e,i,r){function o(t,e,i,n){if(!i&&""===e)return"";if(!t)return e;var r='<span class="'+(n?"":c.classPrefix);return(r+=t+'">')+e+(i?"":u)}function a(){_+=null!=g.sL?function(){var t="string"==typeof g.sL;if(t&&!n[g.sL])return d(v);var e=t?b(g.sL,v,!0,m[g.sL]):w(v,g.sL.length?g.sL:void 0);return 0<g.relevance&&(E+=e.relevance),t&&(m[g.sL]=e.top),o(e.language,e.value,!1,!0)}():function(){var t,e,i,n,r,a,s;if(!g.k)return d(v);for(n="",e=0,g.lR.lastIndex=0,i=g.lR.exec(v);i;)n+=d(v.substring(e,i.index)),r=g,a=i,s=f.cI?a[0].toLowerCase():a[0],(t=r.k.hasOwnProperty(s)&&r.k[s])?(E+=t[1],n+=o(t[0],d(i[0]))):n+=d(i[0]),e=g.lR.lastIndex,i=g.lR.exec(v);return n+d(v.substr(e))}(),v=""}function s(t){_+=t.cN?o(t.cN,"",!0):"",g=Object.create(t,{parent:{value:g}})}var l={};function h(t,n){var r=n&&n[0];if(v+=t,null==r)return a(),0;if("begin"==l.type&&"end"==n.type&&l.index==n.index&&""===r)return v+=e.slice(n.index,n.index+1),1;if("begin"===(l=n).type)return function(t){var e=t[0],i=t.rule;return i&&i.endSameAsBegin&&(i.eR=new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),i.skip?v+=e:(i.eB&&(v+=e),a(),i.rB||i.eB||(v=e)),s(i),i.rB?0:e.length}(n);if("illegal"===n.type&&!i)throw new Error('Illegal lexeme "'+r+'" for mode "'+(g.cN||"<unnamed>")+'"');if("end"===n.type){var o=function(t){var e=t[0],i=function t(e,i){if(function(t,e){var i=t&&t.exec(e);return i&&0===i.index}(e.eR,i)){for(;e.endsParent&&e.parent;)e=e.parent;return e}if(e.eW)return t(e.parent,i)}(g,e);if(i){var n=g;for(n.skip?v+=e:(n.rE||n.eE||(v+=e),a(),n.eE&&(v=e));g.cN&&(_+=u),g.skip||g.sL||(E+=g.relevance),(g=g.parent)!==i.parent;);return i.starts&&(i.endSameAsBegin&&(i.starts.eR=i.eR),s(i.starts)),n.rE?0:e.length}}(n);if(null!=o)return o}return v+=r,r.length}var f=x(t);if(!f)throw new Error('Unknown language: "'+t+'"');y(f);var p,g=r||f,m={},_="";for(p=g;p!==f;p=p.parent)p.cN&&(_=o(p.cN,"",!0)+_);var v="",E=0;try{for(var T,$,S=0;g.t.lastIndex=S,T=g.t.exec(e);)$=h(e.substring(S,T.index),T),S=T.index+$;for(h(e.substr(S)),p=g;p.parent;p=p.parent)p.cN&&(_+=u);return{relevance:E,value:_,i:!1,language:t,top:g}}catch(t){if(t.message&&-1!==t.message.indexOf("Illegal"))return{i:!0,relevance:0,value:d(e)};throw t}}function w(t,e){e=e||c.languages||i(n);var r={relevance:0,value:d(t)},o=r;return e.filter(x).filter(S).forEach(function(e){var i=b(e,t,!1);i.language=e,i.relevance>o.relevance&&(o=i),i.relevance>r.relevance&&(o=r,r=i)}),o.language&&(r.second_best=o),r}function E(t){return c.tabReplace||c.useBR?t.replace(s,function(t,e){return c.useBR&&"\n"===t?"<br>":c.tabReplace?e.replace(/\t/g,c.tabReplace):""}):t}function T(t){var i,n,o,s,l,u=function(t){var e,i,n,r,o=t.className+" ";if(o+=t.parentNode?t.parentNode.className:"",i=a.exec(o))return x(i[1])?i[1]:"no-highlight";for(e=0,n=(o=o.split(/\s+/)).length;e<n;e++)if(p(r=o[e])||x(r))return r}(t);p(u)||(c.useBR?(i=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):i=t,l=i.textContent,o=u?b(u,l,!0):w(l),(n=m(i)).length&&((s=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=o.value,o.value=function(t,i,n){var r=0,o="",a=[];function s(){return t.length&&i.length?t[0].offset!==i[0].offset?t[0].offset<i[0].offset?t:i:"start"===i[0].event?t:i:t.length?t:i}function l(t){o+="<"+f(t)+e.map.call(t.attributes,function(t){return" "+t.nodeName+'="'+d(t.value).replace('"',"&quot;")+'"'}).join("")+">"}function u(t){o+="</"+f(t)+">"}function c(t){("start"===t.event?l:u)(t.node)}for(;t.length||i.length;){var h=s();if(o+=d(n.substring(r,h[0].offset)),r=h[0].offset,h===t){for(a.reverse().forEach(u);c(h.splice(0,1)[0]),(h=s())===t&&h.length&&h[0].offset===r;);a.reverse().forEach(l)}else"start"===h[0].event?a.push(h[0].node):a.pop(),c(h.splice(0,1)[0])}return o+d(n.substr(r))}(n,m(s),l)),o.value=E(o.value),t.innerHTML=o.value,t.className=function(t,e,i){var n=e?r[e]:i,o=[t.trim()];return t.match(/\bhljs\b/)||o.push("hljs"),-1===t.indexOf(n)&&o.push(n),o.join(" ").trim()}(t.className,u,o.language),t.result={language:o.language,re:o.relevance},o.second_best&&(t.second_best={language:o.second_best.language,re:o.second_best.relevance}))}function $(){if(!$.called){$.called=!0;var t=document.querySelectorAll("pre code");e.forEach.call(t,T)}}function x(t){return t=(t||"").toLowerCase(),n[t]||n[r[t]]}function S(t){var e=x(t);return e&&!e.disableAutodetect}return t.highlight=b,t.highlightAuto=w,t.fixMarkup=E,t.highlightBlock=T,t.configure=function(t){c=g(c,t)},t.initHighlighting=$,t.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",$,!1),addEventListener("load",$,!1)},t.registerLanguage=function(e,i){var o=n[e]=i(t);v(o),o.rawDefinition=i.bind(null,t),o.aliases&&o.aliases.forEach(function(t){r[t]=e})},t.listLanguages=function(){return i(n)},t.getLanguage=x,t.autoDetection=S,t.inherit=g,t.IR=t.IDENT_RE="[a-zA-Z]\\w*",t.UIR=t.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",t.NR=t.NUMBER_RE="\\b\\d+(\\.\\d+)?",t.CNR=t.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",t.BNR=t.BINARY_NUMBER_RE="\\b(0b[01]+)",t.RSR=t.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",t.BE=t.BACKSLASH_ESCAPE={b:"\\\\[\\s\\S]",relevance:0},t.ASM=t.APOS_STRING_MODE={cN:"string",b:"'",e:"'",i:"\\n",c:[t.BE]},t.QSM=t.QUOTE_STRING_MODE={cN:"string",b:'"',e:'"',i:"\\n",c:[t.BE]},t.PWM=t.PHRASAL_WORDS_MODE={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},t.C=t.COMMENT=function(e,i,n){var r=t.inherit({cN:"comment",b:e,e:i,c:[]},n||{});return r.c.push(t.PWM),r.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),r},t.CLCM=t.C_LINE_COMMENT_MODE=t.C("//","$"),t.CBCM=t.C_BLOCK_COMMENT_MODE=t.C("/\\*","\\*/"),t.HCM=t.HASH_COMMENT_MODE=t.C("#","$"),t.NM=t.NUMBER_MODE={cN:"number",b:t.NR,relevance:0},t.CNM=t.C_NUMBER_MODE={cN:"number",b:t.CNR,relevance:0},t.BNM=t.BINARY_NUMBER_MODE={cN:"number",b:t.BNR,relevance:0},t.CSSNM=t.CSS_NUMBER_MODE={cN:"number",b:t.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},t.RM=t.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[t.BE,{b:/\[/,e:/\]/,relevance:0,c:[t.BE]}]},t.TM=t.TITLE_MODE={cN:"title",b:t.IR,relevance:0},t.UTM=t.UNDERSCORE_TITLE_MODE={cN:"title",b:t.UIR,relevance:0},t.METHOD_GUARD={b:"\\.\\s*"+t.UIR,relevance:0},t}),hljs.registerLanguage("properties",function(t){var e="[ \\t\\f]*",i="("+e+"[:=]"+e+"|[ \\t\\f]+)",n="([^\\\\\\W:= \\t\\f\\n]|\\\\.)+",r="([^\\\\:= \\t\\f\\n]|\\\\.)+",o={e:i,relevance:0,starts:{cN:"string",e:/$/,relevance:0,c:[{b:"\\\\\\n"}]}};return{cI:!0,i:/\S/,c:[t.C("^\\s*[!#]","$"),{b:n+i,rB:!0,c:[{cN:"attr",b:n,endsParent:!0,relevance:0}],starts:o},{b:r+i,rB:!0,relevance:0,c:[{cN:"meta",b:r,endsParent:!0,relevance:0}],starts:o},{cN:"attr",relevance:0,b:r+e+"$"}]}}),hljs.registerLanguage("python",function(t){var e={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},i={cN:"meta",b:/^(>>>|\.\.\.) /},n={cN:"subst",b:/\{/,e:/\}/,k:e,i:/#/},r={b:/\{\{/,relevance:0},o={cN:"string",c:[t.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t.BE,i],relevance:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t.BE,i],relevance:10},{b:/(fr|rf|f)'''/,e:/'''/,c:[t.BE,i,r,n]},{b:/(fr|rf|f)"""/,e:/"""/,c:[t.BE,i,r,n]},{b:/(u|r|ur)'/,e:/'/,relevance:10},{b:/(u|r|ur)"/,e:/"/,relevance:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},{b:/(fr|rf|f)'/,e:/'/,c:[t.BE,r,n]},{b:/(fr|rf|f)"/,e:/"/,c:[t.BE,r,n]},t.ASM,t.QSM]},a={cN:"number",relevance:0,v:[{b:t.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:t.CNR+"[lLjJ]?"}]},s={cN:"params",b:/\(/,e:/\)/,c:["self",i,a,o,t.HCM]};return n.c=[o,a,i],{aliases:["py","gyp","ipython"],k:e,i:/(<\/|->|\?)|=>/,c:[i,a,o,t.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[t.UTM,s,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("less",function(t){function e(t){return{cN:"string",b:"~?"+t+".*?"+t}}function i(t,e,i){return{cN:t,b:e,relevance:i}}var n="[\\w-]+",r="("+n+"|@{"+n+"})",o=[],a=[],s={b:"\\(",e:"\\)",c:a,relevance:0};a.push(t.CLCM,t.CBCM,e("'"),e('"'),t.CSSNM,{b:"(url|data-uri)\\(",starts:{cN:"string",e:"[\\)\\n]",eE:!0}},i("number","#[0-9A-Fa-f]+\\b"),s,i("variable","@@?"+n,10),i("variable","@{"+n+"}"),i("built_in","~?`[^`]*?`"),{cN:"attribute",b:n+"\\s*:",e:":",rB:!0,eE:!0},{cN:"meta",b:"!important"});var l=a.concat({b:"{",e:"}",c:o}),u={bK:"when",eW:!0,c:[{bK:"and not"}].concat(a)},c={b:r+"\\s*:",rB:!0,e:"[;}]",relevance:0,c:[{cN:"attribute",b:r,e:":",eE:!0,starts:{eW:!0,i:"[<=$]",relevance:0,c:a}}]},h={cN:"keyword",b:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{e:"[;{}]",rE:!0,c:a,relevance:0}},d={cN:"variable",v:[{b:"@"+n+"\\s*:",relevance:15},{b:"@"+n}],starts:{e:"[;}]",rE:!0,c:l}},f={v:[{b:"[\\.#:&\\[>]",e:"[;{}]"},{b:r,e:"{"}],rB:!0,rE:!0,i:"[<='$\"]",relevance:0,c:[t.CLCM,t.CBCM,u,i("keyword","all\\b"),i("variable","@{"+n+"}"),i("selector-tag",r+"%?",0),i("selector-id","#"+r),i("selector-class","\\."+r,0),i("selector-tag","&",0),{cN:"selector-attr",b:"\\[",e:"\\]"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"\\(",e:"\\)",c:l},{b:"!important"}]};return o.push(t.CLCM,t.CBCM,h,d,c,f),{cI:!0,i:"[=>'/<($\"]",c:o}}),hljs.registerLanguage("perl",function(t){var e="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",i={cN:"subst",b:"[$@]\\{",e:"\\}",k:e},n={b:"->{",e:"}"},r={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,relevance:0}]},o=[t.BE,i,r],a=[r,t.HCM,t.C("^\\=\\w","\\=cut",{eW:!0}),n,{cN:"string",c:o,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",relevance:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",relevance:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",relevance:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",relevance:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",relevance:5},{b:"qw\\s+q",e:"q",relevance:5},{b:"'",e:"'",c:[t.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[t.BE]},{b:"{\\w+}",c:[],relevance:0},{b:"-?\\w+\\s*\\=\\>",c:[],relevance:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{b:"(\\/\\/|"+t.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",relevance:0,c:[t.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[t.BE],relevance:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,relevance:5,c:[t.TM]},{b:"-\\w\\b",relevance:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return i.c=a,{aliases:["pl","pm"],l:/[\w\.]+/,k:e,c:n.c=a}}),hljs.registerLanguage("diff",function(t){return{aliases:["patch"],c:[{cN:"meta",relevance:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/^\*{15}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("scss",function(t){var e={cN:"variable",b:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},i={cN:"number",b:"#[0-9A-Fa-f]+"};return t.CSSNM,t.QSM,t.ASM,t.CBCM,{cI:!0,i:"[=/|']",c:[t.CLCM,t.CBCM,{cN:"selector-id",b:"\\#[A-Za-z0-9_-]+",relevance:0},{cN:"selector-class",b:"\\.[A-Za-z0-9_-]+",relevance:0},{cN:"selector-attr",b:"\\[",e:"\\]",i:"$"},{cN:"selector-tag",b:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{b:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{b:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},e,{cN:"attribute",b:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",i:"[^\\s]"},{b:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{b:":",e:";",c:[e,i,t.CSSNM,t.QSM,t.ASM,{cN:"meta",b:"!important"}]},{b:"@",e:"[{;]",k:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",c:[e,t.QSM,t.ASM,i,t.CSSNM,{b:"\\s[A-Za-z0-9_.-]+",relevance:0}]}]}}),hljs.registerLanguage("bash",function(t){var e={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},i={cN:"string",b:/"/,e:/"/,c:[t.BE,e,{cN:"variable",b:/\$\(/,e:/\)/,c:[t.BE]}]};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,relevance:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[t.inherit(t.TM,{b:/\w[\w\d_]*/})],relevance:0},t.HCM,i,{cN:"",b:/\\"/},{cN:"string",b:/'/,e:/'/},e]}}),hljs.registerLanguage("shell",function(t){return{aliases:["console"],c:[{cN:"meta",b:"^\\s{0,3}[/\\w\\d\\[\\]()@-]*[>%$#]",starts:{e:"$",sL:"bash"}}]}}),hljs.registerLanguage("makefile",function(t){var e={cN:"variable",v:[{b:"\\$\\("+t.UIR+"\\)",c:[t.BE]},{b:/\$[@%<?\^\+\*]/}]},i={cN:"string",b:/"/,e:/"/,c:[t.BE,e]},n={cN:"variable",b:/\$\([\w-]+\s/,e:/\)/,k:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},c:[e]},r={b:"^"+t.UIR+"\\s*[:+?]?=",i:"\\n",rB:!0,c:[{b:"^"+t.UIR,e:"[:+?]?=",eE:!0}]},o={cN:"section",b:/^[^\s]+:/,e:/$/,c:[e]};return{aliases:["mk","mak"],k:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",l:/[\w-]+/,c:[t.HCM,e,i,n,r,{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},o]}}),hljs.registerLanguage("json",function(t){var e={literal:"true false null"},i=[t.CLCM,t.CBCM],n=[t.QSM,t.CNM],r={e:",",eW:!0,eE:!0,c:n,k:e},o={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[t.BE],i:"\\n"},t.inherit(r,{b:/:/})].concat(i),i:"\\S"},a={b:"\\[",e:"\\]",c:[t.inherit(r)],i:"\\S"};return n.push(o,a),i.forEach(function(t){n.push(t)}),{c:n,k:e,i:"\\S"}}),hljs.registerLanguage("ini",function(t){var e={cN:"string",c:[t.BE],v:[{b:"'''",e:"'''",relevance:10},{b:'"""',e:'"""',relevance:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[t.C(";","$"),t.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_\.-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_\.-]+/},{b:/=/,eW:!0,relevance:0,c:[t.C(";","$"),t.HCM,{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},e,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},t.NM]}]}]}}),hljs.registerLanguage("http",function(t){var e="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+e,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+e+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:e},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",relevance:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),hljs.registerLanguage("coffeescript",function(t){var e={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},i="[A-Za-z$_][0-9A-Za-z$_]*",n={cN:"subst",b:/#\{/,e:/}/,k:e},r=[t.BNM,t.inherit(t.CNM,{starts:{e:"(\\s*/)?",relevance:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[t.BE]},{b:/'/,e:/'/,c:[t.BE]},{b:/"""/,e:/"""/,c:[t.BE,n]},{b:/"/,e:/"/,c:[t.BE,n]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[n,t.HCM]},{b:"//[gim]*",relevance:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W)/}]},{b:"@"+i},{sL:"javascript",eB:!0,eE:!0,v:[{b:"```",e:"```"},{b:"`",e:"`"}]}];n.c=r;var o=t.inherit(t.TM,{b:i}),a="(\\(.*\\))?\\s*\\B[-=]>",s={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:e,c:["self"].concat(r)}]};return{aliases:["coffee","cson","iced"],k:e,i:/\/\*/,c:r.concat([t.C("###","###"),t.HCM,{cN:"function",b:"^\\s*"+i+"\\s*=\\s*"+a,e:"[-=]>",rB:!0,c:[o,s]},{b:/[:\(,=]\s*/,relevance:0,c:[{cN:"function",b:a,e:"[-=]>",rB:!0,c:[s]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[o]},o]},{b:i+":",e:":",rB:!0,rE:!0,relevance:0}])}}),hljs.registerLanguage("css",function(t){var e={b:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[t.ASM,t.QSM]}]},t.CSSNM,t.QSM,t.ASM,t.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[t.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,relevance:0,c:[t.ASM,t.QSM,t.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{b:"{",e:"}",i:/\S/,c:[t.CBCM,e]}]}}),hljs.registerLanguage("xml",function(t){var e={eW:!0,i:/</,relevance:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",relevance:0},{b:/=\s*/,relevance:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",relevance:10,c:[{b:"\\[",e:"\\]"}]},t.C("\x3c!--","--\x3e",{relevance:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",relevance:10},{cN:"meta",b:/<\?xml/,e:/\?>/,relevance:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0},{b:'b"',e:'"',skip:!0},{b:"b'",e:"'",skip:!0},t.inherit(t.ASM,{i:null,cN:null,c:null,skip:!0}),t.inherit(t.QSM,{i:null,cN:null,c:null,skip:!0})]},{cN:"tag",b:"<style(?=\\s|>)",e:">",k:{name:"style"},c:[e],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>)",e:">",k:{name:"script"},c:[e],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,relevance:0},e]}]}}),hljs.registerLanguage("django",function(t){var e={b:/\|[A-Za-z]+:?/,k:{name:"truncatewords removetags linebreaksbr yesno get_digit timesince random striptags filesizeformat escape linebreaks length_is ljust rjust cut urlize fix_ampersands title floatformat capfirst pprint divisibleby add make_list unordered_list urlencode timeuntil urlizetrunc wordcount stringformat linenumbers slice date dictsort dictsortreversed default_if_none pluralize lower join center default truncatewords_html upper length phone2numeric wordwrap time addslashes slugify first escapejs force_escape iriencode last safe safeseq truncatechars localize unlocalize localtime utc timezone"},c:[t.QSM,t.ASM]};return{aliases:["jinja"],cI:!0,sL:"xml",c:[t.C(/\{%\s*comment\s*%}/,/\{%\s*endcomment\s*%}/),t.C(/\{#/,/#}/),{cN:"template-tag",b:/\{%/,e:/%}/,c:[{cN:"name",b:/\w+/,k:{name:"comment endcomment load templatetag ifchanged endifchanged if endif firstof for endfor ifnotequal endifnotequal widthratio extends include spaceless endspaceless regroup ifequal endifequal ssi now with cycle url filter endfilter debug block endblock else autoescape endautoescape csrf_token empty elif endwith static trans blocktrans endblocktrans get_static_prefix get_media_prefix plural get_current_language language get_available_languages get_current_language_bidi get_language_info get_language_info_list localize endlocalize localtime endlocaltime timezone endtimezone get_current_timezone verbatim"},starts:{eW:!0,k:"in by as",c:[e],relevance:0}}]},{cN:"template-variable",b:/\{\{/,e:/}}/,c:[e]}]}}),hljs.registerLanguage("objectivec",function(t){var e=/[a-zA-Z@][a-zA-Z0-9_]*/,i="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:{keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},l:e,i:"</",c:[{cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t.CLCM,t.CBCM,t.CNM,t.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[t.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+i.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:i,l:e,c:[t.UTM]},{b:"\\."+t.UIR,relevance:0}]}}),hljs.registerLanguage("ruby",function(t){var e="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",i={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},n={cN:"doctag",b:"@[A-Za-z]+"},r={b:"#<",e:">"},o=[t.C("#","$",{c:[n]}),t.C("^\\=begin","^\\=end",{c:[n],relevance:10}),t.C("^__END__","\\n$")],a={cN:"subst",b:"#\\{",e:"}",k:i},s={cN:"string",c:[t.BE,a],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<[-~]?'?(\w+)(?:.|\n)*?\n\s*\1\b/,rB:!0,c:[{b:/<<[-~]?'?/},{b:/\w+/,endSameAsBegin:!0,c:[t.BE,a]}]}]},l={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:i},u=[s,r,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[t.inherit(t.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+t.IR+"::)?"+t.IR}]}].concat(o)},{cN:"function",bK:"def",e:"$|;",c:[t.inherit(t.TM,{b:e}),l].concat(o)},{b:t.IR+"::"},{cN:"symbol",b:t.UIR+"(\\!|\\?)?:",relevance:0},{cN:"symbol",b:":(?!\\s)",c:[s,{b:e}],relevance:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:i},{b:"("+t.RSR+"|unless)\\s*",k:"unless",c:[r,{cN:"regexp",c:[t.BE,a],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(o),relevance:0}].concat(o);a.c=u;var c=[{b:/^\s*=>/,starts:{e:"$",c:l.c=u}},{cN:"meta",b:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{e:"$",c:u}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:i,i:/\/\*/,c:o.concat(c).concat(u)}}),hljs.registerLanguage("yaml",function(t){var e="true false yes no null",i={cN:"string",relevance:0,v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/\S+/}],c:[t.BE,{cN:"template-variable",v:[{b:"{{",e:"}}"},{b:"%{",e:"}"}]}]};return{cI:!0,aliases:["yml","YAML","yaml"],c:[{cN:"attr",v:[{b:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{b:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{b:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{cN:"meta",b:"^---s*$",relevance:10},{cN:"string",b:"[\\|>]([0-9]?[+-])?[ ]*\\n( *)[\\S ]+\\n(\\2[\\S ]+\\n?)*"},{b:"<%[%=-]?",e:"[%-]?%>",sL:"ruby",eB:!0,eE:!0,relevance:0},{cN:"type",b:"!"+t.UIR},{cN:"type",b:"!!"+t.UIR},{cN:"meta",b:"&"+t.UIR+"$"},{cN:"meta",b:"\\*"+t.UIR+"$"},{cN:"bullet",b:"\\-(?=[ ]|$)",relevance:0},t.HCM,{bK:e,k:{literal:e}},{cN:"number",b:t.CNR+"\\b"},i]}}),hljs.registerLanguage("java",function(t){var e="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do";return{aliases:["jsp"],k:e,i:/<\/|#/,c:[t.C("/\\*\\*","\\*/",{relevance:0,c:[{b:/\w+@/,relevance:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),t.CLCM,t.CBCM,t.ASM,t.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},t.UTM]},{bK:"new throw return else",relevance:0},{cN:"function",b:"([Ã-Ê¸a-zA-Z_$][Ã-Ê¸a-zA-Z_$0-9]*(<[Ã-Ê¸a-zA-Z_$][Ã-Ê¸a-zA-Z_$0-9]*(\\s*,\\s*[Ã-Ê¸a-zA-Z_$][Ã-Ê¸a-zA-Z_$0-9]*)*>)?\\s+)+"+t.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:e,c:[{b:t.UIR+"\\s*\\(",rB:!0,relevance:0,c:[t.UTM]},{cN:"params",b:/\(/,e:/\)/,k:e,relevance:0,c:[t.ASM,t.QSM,t.CNM,t.CBCM]},t.CLCM,t.CBCM]},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0},{cN:"meta",b:"@[A-Za-z]+"}]}}),hljs.registerLanguage("sql",function(t){var e=t.C("--","$");return{cI:!0,i:/[<>{}*]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment values with",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"as abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias all allocate allow alter always analyze ancillary and anti any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound bucket buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain explode export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force foreign form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour hours http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lateral lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minutes minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notnull notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second seconds section securefile security seed segment select self semi sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tablesample tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unnest unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace window with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null unknown",built_in:"array bigint binary bit blob bool boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text time timestamp tinyint varchar varchar2 varying void"},c:[{cN:"string",b:"'",e:"'",c:[t.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[t.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[t.BE]},t.CNM,t.CBCM,e,t.HCM]},t.CBCM,e,t.HCM]}}),hljs.registerLanguage("apache",function(t){var e={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[t.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,relevance:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,relevance:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",e]},e,t.QSM]}}],i:/\S/}}),hljs.registerLanguage("kotlin",function(t){var e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual trait volatile transient native default",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},i={cN:"symbol",b:t.UIR+"@"},n={cN:"subst",b:"\\${",e:"}",c:[t.CNM]},r={cN:"variable",b:"\\$"+t.UIR},o={cN:"string",v:[{b:'"""',e:'"""',c:[r,n]},{b:"'",e:"'",i:/\n/,c:[t.BE]},{b:'"',e:'"',i:/\n/,c:[t.BE,r,n]}]};n.c.push(o);var a={cN:"meta",b:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UIR+")?"},s={cN:"meta",b:"@"+t.UIR,c:[{b:/\(/,e:/\)/,c:[t.inherit(o,{cN:"meta-string"})]}]},l=t.C("/\\*","\\*/",{c:[t.CBCM]}),u={v:[{cN:"type",b:t.UIR},{b:/\(/,e:/\)/,c:[]}]},c=u;return c.v[1].c=[u],u.v[1].c=[c],{aliases:["kt"],k:e,c:[t.C("/\\*\\*","\\*/",{relevance:0,c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),t.CLCM,l,{cN:"keyword",b:/\b(break|continue|return|this)\b/,starts:{c:[{cN:"symbol",b:/@\w+/}]}},i,a,s,{cN:"function",bK:"fun",e:"[(]|$",rB:!0,eE:!0,k:e,i:/fun\s+(<.*>)?[^\s\(]+(\s+[^\s\(]+)\s*=/,relevance:5,c:[{b:t.UIR+"\\s*\\(",rB:!0,relevance:0,c:[t.UTM]},{cN:"type",b:/</,e:/>/,k:"reified",relevance:0},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:e,relevance:0,c:[{b:/:/,e:/[=,\/]/,eW:!0,c:[u,t.CLCM,l],relevance:0},t.CLCM,l,a,s,o,t.CNM]},l]},{cN:"class",bK:"class interface trait",e:/[:\{(]|$/,eE:!0,i:"extends implements",c:[{bK:"public protected internal private constructor"},t.UTM,{cN:"type",b:/</,e:/>/,eB:!0,eE:!0,relevance:0},{cN:"type",b:/[,:]\s*/,e:/[<\(,]|$/,eB:!0,rE:!0},a,s]},o,{cN:"meta",b:"^#!/usr/bin/env",e:"$",i:"\n"},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0}]}}),hljs.registerLanguage("markdown",function(t){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",relevance:0},{cN:"bullet",b:"^\\s*([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",relevance:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```\\w*\\s*$",e:"^```[ ]*$"},{b:"`.+?`"},{b:"^( {4}|\\t)",e:"$",relevance:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,relevance:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],relevance:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}}),hljs.registerLanguage("swift",function(t){var e={keyword:"#available #colorLiteral #column #else #elseif #endif #file #fileLiteral #function #if #imageLiteral #line #selector #sourceLocation _ __COLUMN__ __FILE__ __FUNCTION__ __LINE__ Any as as! as? associatedtype associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},i=t.C("/\\*","\\*/",{c:["self"]}),n={cN:"subst",b:/\\\(/,e:"\\)",k:e,c:[]},r={cN:"string",c:[t.BE,n],v:[{b:/"""/,e:/"""/},{b:/"/,e:/"/}]},o={cN:"number",b:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0};return n.c=[o],{k:e,c:[r,t.CLCM,i,{cN:"type",b:"\\b[A-Z][\\wÃ-Ê¸']*[!?]"},{cN:"type",b:"\\b[A-Z][\\wÃ-Ê¸']*",relevance:0},o,{cN:"function",bK:"func",e:"{",eE:!0,c:[t.inherit(t.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{b:/</,e:/>/},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:e,c:["self",o,r,t.CBCM,{b:":"}],i:/["']/}],i:/\[|%/},{cN:"class",bK:"struct protocol class extension enum",k:e,e:"\\{",eE:!0,c:[t.inherit(t.TM,{b:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{cN:"meta",b:"(@discardableResult|@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@objcMembers|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain|@dynamicMemberLookup|@propertyWrapper)"},{bK:"import",e:/$/,c:[t.CLCM,i]}]}}),hljs.registerLanguage("plaintext",function(t){return{disableAutodetect:!0}}),hljs.registerLanguage("tex",function(t){var e={cN:"tag",b:/\\/,relevance:0,c:[{cN:"name",v:[{b:/[a-zA-Z\u0430-\u044f\u0410-\u042f]+[*]?/},{b:/[^a-zA-Z\u0430-\u044f\u0410-\u042f0-9]/}],starts:{eW:!0,relevance:0,c:[{cN:"string",v:[{b:/\[/,e:/\]/},{b:/\{/,e:/\}/}]},{b:/\s*=\s*/,eW:!0,relevance:0,c:[{cN:"number",b:/-?\d*\.?\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?/}]}]}}]};return{c:[e,{cN:"formula",c:[e],relevance:0,v:[{b:/\$\$/,e:/\$\$/},{b:/\$/,e:/\$/}]},t.C("%","$",{relevance:0})]}}),hljs.registerLanguage("typescript",function(t){var e="[A-Za-z$_][0-9A-Za-z$_]*",i={keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class public private protected get set super static implements enum export import declare type namespace abstract as from extends async await",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document any number boolean string void Promise"},n={cN:"meta",b:"@"+e},r={b:"\\(",e:/\)/,k:i,c:["self",t.QSM,t.ASM,t.NM]},o={cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:i,c:[t.CLCM,t.CBCM,n,r]},a={cN:"number",v:[{b:"\\b(0[bB][01]+)n?"},{b:"\\b(0[oO][0-7]+)n?"},{b:t.CNR+"n?"}],relevance:0},s={cN:"subst",b:"\\$\\{",e:"\\}",k:i,c:[]},l={b:"html`",e:"",starts:{e:"`",rE:!1,c:[t.BE,s],sL:"xml"}},u={b:"css`",e:"",starts:{e:"`",rE:!1,c:[t.BE,s],sL:"css"}},c={cN:"string",b:"`",e:"`",c:[t.BE,s]};return s.c=[t.ASM,t.QSM,l,u,c,a,t.RM],{aliases:["ts"],k:i,c:[{cN:"meta",b:/^\s*['"]use strict['"]/},t.ASM,t.QSM,l,u,c,t.CLCM,t.CBCM,a,{b:"("+t.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[t.CLCM,t.CBCM,t.RM,{cN:"function",b:"(\\(.*?\\)|"+t.IR+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:t.IR},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:i,c:["self",t.CLCM,t.CBCM]}]}]}],relevance:0},{cN:"function",bK:"function",e:/[\{;]/,eE:!0,k:i,c:["self",t.inherit(t.TM,{b:e}),o],i:/%/,relevance:0},{bK:"constructor",e:/[\{;]/,eE:!0,c:["self",o]},{b:/module\./,k:{built_in:"module"},relevance:0},{bK:"module",e:/\{/,eE:!0},{bK:"interface",e:/\{/,eE:!0,k:"interface extends"},{b:/\$[(.]/},{b:"\\."+t.IR,relevance:0},n,r]}}),hljs.registerLanguage("nginx",function(t){var e={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+t.UIR}]},i={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,i:"=>",c:[t.HCM,{cN:"string",c:[t.BE,e],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[e]},{cN:"regexp",c:[t.BE,e],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},e]};return{aliases:["nginxconf"],c:[t.HCM,{b:t.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:t.UIR}],relevance:0},{b:t.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:t.UIR,starts:i}],relevance:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("go",function(t){var e={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],k:e,i:"</",c:[t.CLCM,t.CBCM,{cN:"string",v:[t.QSM,{b:"'",e:"[^\\\\]'"},{b:"`",e:"`"}]},{cN:"number",v:[{b:t.CNR+"[i]",relevance:1},t.CNM]},{b:/:=/},{cN:"function",bK:"func",e:"\\s*(\\{|$)",eE:!0,c:[t.TM,{cN:"params",b:/\(/,e:/\)/,k:e,i:/["']/}]}]}}),hljs.registerLanguage("javascript",function(t){var e="[A-Za-z$_][0-9A-Za-z$_]*",i={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},n={cN:"number",v:[{b:"\\b(0[bB][01]+)n?"},{b:"\\b(0[oO][0-7]+)n?"},{b:t.CNR+"n?"}],relevance:0},r={cN:"subst",b:"\\$\\{",e:"\\}",k:i,c:[]},o={b:"html`",e:"",starts:{e:"`",rE:!1,c:[t.BE,r],sL:"xml"}},a={b:"css`",e:"",starts:{e:"`",rE:!1,c:[t.BE,r],sL:"css"}},s={cN:"string",b:"`",e:"`",c:[t.BE,r]};r.c=[t.ASM,t.QSM,o,a,s,n,t.RM];var l=r.c.concat([t.CBCM,t.CLCM]);return{aliases:["js","jsx"],k:i,c:[{cN:"meta",relevance:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},t.ASM,t.QSM,o,a,s,t.CLCM,t.CBCM,n,{b:/[{,\n]\s*/,relevance:0,c:[{b:e+"\\s*:",rB:!0,relevance:0,c:[{cN:"attr",b:e,relevance:0}]}]},{b:"("+t.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[t.CLCM,t.CBCM,t.RM,{cN:"function",b:"(\\(.*?\\)|"+e+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:e},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:i,c:l}]}]},{cN:"",b:/\s/,e:/\s*/,skip:!0},{b:/</,e:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,sL:"xml",c:[{b:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},{b:/<[A-Za-z0-9\\._:-]+/,e:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,skip:!0,c:[{b:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[t.inherit(t.TM,{b:e}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:l}],i:/\[|%/},{b:/\$[(.]/},t.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},t.UTM]},{bK:"constructor get set",e:/\{/,eE:!0}],i:/#(?!!)/}}),hljs.registerLanguage("php",function(t){var e={b:"\\$+[a-zA-Z_-Ã¿][a-zA-Z0-9_-Ã¿]*"},i={cN:"meta",b:/<\?(php)?|\?>/},n={cN:"string",c:[t.BE,i],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},t.inherit(t.ASM,{i:null}),t.inherit(t.QSM,{i:null})]},r={v:[t.BNM,t.CNM]};return{aliases:["php","php3","php4","php5","php6","php7"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[t.HCM,t.C("//","$",{c:[i]}),t.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),t.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:t.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[t.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},i,{cN:"keyword",b:/\$this\b/},e,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[t.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",e,t.CBCM,n,r]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},t.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[t.UTM]},{bK:"use",e:";",c:[t.UTM]},{b:"=>"},n,r]}}),hljs.registerLanguage("stata",function(t){return{aliases:["do","ado"],case_insensitive:!0,keywords:"if else in foreach for forv forva forval forvalu forvalue forvalues by bys bysort xi quietly qui capture about ac ac_7 acprplot acprplot_7 adjust ado adopath adoupdate alpha ameans an ano anov anova anova_estat anova_terms anovadef aorder ap app appe appen append arch arch_dr arch_estat arch_p archlm areg areg_p args arima arima_dr arima_estat arima_p as asmprobit asmprobit_estat asmprobit_lf asmprobit_mfx__dlg asmprobit_p ass asse asser assert avplot avplot_7 avplots avplots_7 bcskew0 bgodfrey bias binreg bip0_lf biplot bipp_lf bipr_lf bipr_p biprobit bitest bitesti bitowt blogit bmemsize boot bootsamp bootstrap bootstrap_8 boxco_l boxco_p boxcox boxcox_6 boxcox_p bprobit br break brier bro brow brows browse brr brrstat bs bs_7 bsampl_w bsample bsample_7 bsqreg bstat bstat_7 bstat_8 bstrap bstrap_7 bubble bubbleplot ca ca_estat ca_p cabiplot camat canon canon_8 canon_8_p canon_estat canon_p cap caprojection capt captu captur capture cat cc cchart cchart_7 cci cd censobs_table centile cf char chdir checkdlgfiles checkestimationsample checkhlpfiles checksum chelp ci cii cl class classutil clear cli clis clist clo clog clog_lf clog_p clogi clogi_sw clogit clogit_lf clogit_p clogitp clogl_sw cloglog clonevar clslistarray cluster cluster_measures cluster_stop cluster_tree cluster_tree_8 clustermat cmdlog cnr cnre cnreg cnreg_p cnreg_sw cnsreg codebook collaps4 collapse colormult_nb colormult_nw compare compress conf confi confir confirm conren cons const constr constra constrai constrain constraint continue contract copy copyright copysource cor corc corr corr2data corr_anti corr_kmo corr_smc corre correl correla correlat correlate corrgram cou coun count cox cox_p cox_sw coxbase coxhaz coxvar cprplot cprplot_7 crc cret cretu cretur creturn cross cs cscript cscript_log csi ct ct_is ctset ctst_5 ctst_st cttost cumsp cumsp_7 cumul cusum cusum_7 cutil d|0 datasig datasign datasigna datasignat datasignatu datasignatur datasignature datetof db dbeta de dec deco decod decode deff des desc descr descri describ describe destring dfbeta dfgls dfuller di di_g dir dirstats dis discard disp disp_res disp_s displ displa display distinct do doe doed doedi doedit dotplot dotplot_7 dprobit drawnorm drop ds ds_util dstdize duplicates durbina dwstat dydx e|0 ed edi edit egen eivreg emdef en enc enco encod encode eq erase ereg ereg_lf ereg_p ereg_sw ereghet ereghet_glf ereghet_glf_sh ereghet_gp ereghet_ilf ereghet_ilf_sh ereghet_ip eret eretu eretur ereturn err erro error esize est est_cfexist est_cfname est_clickable est_expand est_hold est_table est_unhold est_unholdok estat estat_default estat_summ estat_vce_only esti estimates etodow etof etomdy ex exi exit expand expandcl fac fact facto factor factor_estat factor_p factor_pca_rotated factor_rotate factormat fcast fcast_compute fcast_graph fdades fdadesc fdadescr fdadescri fdadescrib fdadescribe fdasav fdasave fdause fh_st file open file read file close file filefilter fillin find_hlp_file findfile findit findit_7 fit fl fli flis flist for5_0 forest forestplot form forma format fpredict frac_154 frac_adj frac_chk frac_cox frac_ddp frac_dis frac_dv frac_in frac_mun frac_pp frac_pq frac_pv frac_wgt frac_xo fracgen fracplot fracplot_7 fracpoly fracpred fron_ex fron_hn fron_p fron_tn fron_tn2 frontier ftodate ftoe ftomdy ftowdate funnel funnelplot g|0 gamhet_glf gamhet_gp gamhet_ilf gamhet_ip gamma gamma_d2 gamma_p gamma_sw gammahet gdi_hexagon gdi_spokes ge gen gene gener genera generat generate genrank genstd genvmean gettoken gl gladder gladder_7 glim_l01 glim_l02 glim_l03 glim_l04 glim_l05 glim_l06 glim_l07 glim_l08 glim_l09 glim_l10 glim_l11 glim_l12 glim_lf glim_mu glim_nw1 glim_nw2 glim_nw3 glim_p glim_v1 glim_v2 glim_v3 glim_v4 glim_v5 glim_v6 glim_v7 glm glm_6 glm_p glm_sw glmpred glo glob globa global glogit glogit_8 glogit_p gmeans gnbre_lf gnbreg gnbreg_5 gnbreg_p gomp_lf gompe_sw gomper_p gompertz gompertzhet gomphet_glf gomphet_glf_sh gomphet_gp gomphet_ilf gomphet_ilf_sh gomphet_ip gphdot gphpen gphprint gprefs gprobi_p gprobit gprobit_8 gr gr7 gr_copy gr_current gr_db gr_describe gr_dir gr_draw gr_draw_replay gr_drop gr_edit gr_editviewopts gr_example gr_example2 gr_export gr_print gr_qscheme gr_query gr_read gr_rename gr_replay gr_save gr_set gr_setscheme gr_table gr_undo gr_use graph graph7 grebar greigen greigen_7 greigen_8 grmeanby grmeanby_7 gs_fileinfo gs_filetype gs_graphinfo gs_stat gsort gwood h|0 hadimvo hareg hausman haver he heck_d2 heckma_p heckman heckp_lf heckpr_p heckprob hel help hereg hetpr_lf hetpr_p hetprob hettest hexdump hilite hist hist_7 histogram hlogit hlu hmeans hotel hotelling hprobit hreg hsearch icd9 icd9_ff icd9p iis impute imtest inbase include inf infi infil infile infix inp inpu input ins insheet insp inspe inspec inspect integ inten intreg intreg_7 intreg_p intrg2_ll intrg_ll intrg_ll2 ipolate iqreg ir irf irf_create irfm iri is_svy is_svysum isid istdize ivprob_1_lf ivprob_lf ivprobit ivprobit_p ivreg ivreg_footnote ivtob_1_lf ivtob_lf ivtobit ivtobit_p jackknife jacknife jknife jknife_6 jknife_8 jkstat joinby kalarma1 kap kap_3 kapmeier kappa kapwgt kdensity kdensity_7 keep ksm ksmirnov ktau kwallis l|0 la lab labbe labbeplot labe label labelbook ladder levels levelsof leverage lfit lfit_p li lincom line linktest lis list lloghet_glf lloghet_glf_sh lloghet_gp lloghet_ilf lloghet_ilf_sh lloghet_ip llogi_sw llogis_p llogist llogistic llogistichet lnorm_lf lnorm_sw lnorma_p lnormal lnormalhet lnormhet_glf lnormhet_glf_sh lnormhet_gp lnormhet_ilf lnormhet_ilf_sh lnormhet_ip lnskew0 loadingplot loc loca local log logi logis_lf logistic logistic_p logit logit_estat logit_p loglogs logrank loneway lookfor lookup lowess lowess_7 lpredict lrecomp lroc lroc_7 lrtest ls lsens lsens_7 lsens_x lstat ltable ltable_7 ltriang lv lvr2plot lvr2plot_7 m|0 ma mac macr macro makecns man manova manova_estat manova_p manovatest mantel mark markin markout marksample mat mat_capp mat_order mat_put_rr mat_rapp mata mata_clear mata_describe mata_drop mata_matdescribe mata_matsave mata_matuse mata_memory mata_mlib mata_mosave mata_rename mata_which matalabel matcproc matlist matname matr matri matrix matrix_input__dlg matstrik mcc mcci md0_ md1_ md1debug_ md2_ md2debug_ mds mds_estat mds_p mdsconfig mdslong mdsmat mdsshepard mdytoe mdytof me_derd mean means median memory memsize menl meqparse mer merg merge meta mfp mfx mhelp mhodds minbound mixed_ll mixed_ll_reparm mkassert mkdir mkmat mkspline ml ml_5 ml_adjs ml_bhhhs ml_c_d ml_check ml_clear ml_cnt ml_debug ml_defd ml_e0 ml_e0_bfgs ml_e0_cycle ml_e0_dfp ml_e0i ml_e1 ml_e1_bfgs ml_e1_bhhh ml_e1_cycle ml_e1_dfp ml_e2 ml_e2_cycle ml_ebfg0 ml_ebfr0 ml_ebfr1 ml_ebh0q ml_ebhh0 ml_ebhr0 ml_ebr0i ml_ecr0i ml_edfp0 ml_edfr0 ml_edfr1 ml_edr0i ml_eds ml_eer0i ml_egr0i ml_elf ml_elf_bfgs ml_elf_bhhh ml_elf_cycle ml_elf_dfp ml_elfi ml_elfs ml_enr0i ml_enrr0 ml_erdu0 ml_erdu0_bfgs ml_erdu0_bhhh ml_erdu0_bhhhq ml_erdu0_cycle ml_erdu0_dfp ml_erdu0_nrbfgs ml_exde ml_footnote ml_geqnr ml_grad0 ml_graph ml_hbhhh ml_hd0 ml_hold ml_init ml_inv ml_log ml_max ml_mlout ml_mlout_8 ml_model ml_nb0 ml_opt ml_p ml_plot ml_query ml_rdgrd ml_repor ml_s_e ml_score ml_searc ml_technique ml_unhold mleval mlf_ mlmatbysum mlmatsum mlog mlogi mlogit mlogit_footnote mlogit_p mlopts mlsum mlvecsum mnl0_ mor more mov move mprobit mprobit_lf mprobit_p mrdu0_ mrdu1_ mvdecode mvencode mvreg mvreg_estat n|0 nbreg nbreg_al nbreg_lf nbreg_p nbreg_sw nestreg net newey newey_7 newey_p news nl nl_7 nl_9 nl_9_p nl_p nl_p_7 nlcom nlcom_p nlexp2 nlexp2_7 nlexp2a nlexp2a_7 nlexp3 nlexp3_7 nlgom3 nlgom3_7 nlgom4 nlgom4_7 nlinit nllog3 nllog3_7 nllog4 nllog4_7 nlog_rd nlogit nlogit_p nlogitgen nlogittree nlpred no nobreak noi nois noisi noisil noisily note notes notes_dlg nptrend numlabel numlist odbc old_ver olo olog ologi ologi_sw ologit ologit_p ologitp on one onew onewa oneway op_colnm op_comp op_diff op_inv op_str opr opro oprob oprob_sw oprobi oprobi_p oprobit oprobitp opts_exclusive order orthog orthpoly ou out outf outfi outfil outfile outs outsh outshe outshee outsheet ovtest pac pac_7 palette parse parse_dissim pause pca pca_8 pca_display pca_estat pca_p pca_rotate pcamat pchart pchart_7 pchi pchi_7 pcorr pctile pentium pergram pergram_7 permute permute_8 personal peto_st pkcollapse pkcross pkequiv pkexamine pkexamine_7 pkshape pksumm pksumm_7 pl plo plot plugin pnorm pnorm_7 poisgof poiss_lf poiss_sw poisso_p poisson poisson_estat post postclose postfile postutil pperron pr prais prais_e prais_e2 prais_p predict predictnl preserve print pro prob probi probit probit_estat probit_p proc_time procoverlay procrustes procrustes_estat procrustes_p profiler prog progr progra program prop proportion prtest prtesti pwcorr pwd q\\s qby qbys qchi qchi_7 qladder qladder_7 qnorm qnorm_7 qqplot qqplot_7 qreg qreg_c qreg_p qreg_sw qu quadchk quantile quantile_7 que quer query range ranksum ratio rchart rchart_7 rcof recast reclink recode reg reg3 reg3_p regdw regr regre regre_p2 regres regres_p regress regress_estat regriv_p remap ren rena renam rename renpfix repeat replace report reshape restore ret retu retur return rm rmdir robvar roccomp roccomp_7 roccomp_8 rocf_lf rocfit rocfit_8 rocgold rocplot rocplot_7 roctab roctab_7 rolling rologit rologit_p rot rota rotat rotate rotatemat rreg rreg_p ru run runtest rvfplot rvfplot_7 rvpplot rvpplot_7 sa safesum sample sampsi sav save savedresults saveold sc sca scal scala scalar scatter scm_mine sco scob_lf scob_p scobi_sw scobit scor score scoreplot scoreplot_help scree screeplot screeplot_help sdtest sdtesti se search separate seperate serrbar serrbar_7 serset set set_defaults sfrancia sh she shel shell shewhart shewhart_7 signestimationsample signrank signtest simul simul_7 simulate simulate_8 sktest sleep slogit slogit_d2 slogit_p smooth snapspan so sor sort spearman spikeplot spikeplot_7 spikeplt spline_x split sqreg sqreg_p sret sretu sretur sreturn ssc st st_ct st_hc st_hcd st_hcd_sh st_is st_issys st_note st_promo st_set st_show st_smpl st_subid stack statsby statsby_8 stbase stci stci_7 stcox stcox_estat stcox_fr stcox_fr_ll stcox_p stcox_sw stcoxkm stcoxkm_7 stcstat stcurv stcurve stcurve_7 stdes stem stepwise stereg stfill stgen stir stjoin stmc stmh stphplot stphplot_7 stphtest stphtest_7 stptime strate strate_7 streg streg_sw streset sts sts_7 stset stsplit stsum sttocc sttoct stvary stweib su suest suest_8 sum summ summa summar summari summariz summarize sunflower sureg survcurv survsum svar svar_p svmat svy svy_disp svy_dreg svy_est svy_est_7 svy_estat svy_get svy_gnbreg_p svy_head svy_header svy_heckman_p svy_heckprob_p svy_intreg_p svy_ivreg_p svy_logistic_p svy_logit_p svy_mlogit_p svy_nbreg_p svy_ologit_p svy_oprobit_p svy_poisson_p svy_probit_p svy_regress_p svy_sub svy_sub_7 svy_x svy_x_7 svy_x_p svydes svydes_8 svygen svygnbreg svyheckman svyheckprob svyintreg svyintreg_7 svyintrg svyivreg svylc svylog_p svylogit svymarkout svymarkout_8 svymean svymlog svymlogit svynbreg svyolog svyologit svyoprob svyoprobit svyopts svypois svypois_7 svypoisson svyprobit svyprobt svyprop svyprop_7 svyratio svyreg svyreg_p svyregress svyset svyset_7 svyset_8 svytab svytab_7 svytest svytotal sw sw_8 swcnreg swcox swereg swilk swlogis swlogit swologit swoprbt swpois swprobit swqreg swtobit swweib symmetry symmi symplot symplot_7 syntax sysdescribe sysdir sysuse szroeter ta tab tab1 tab2 tab_or tabd tabdi tabdis tabdisp tabi table tabodds tabodds_7 tabstat tabu tabul tabula tabulat tabulate te tempfile tempname tempvar tes test testnl testparm teststd tetrachoric time_it timer tis tob tobi tobit tobit_p tobit_sw token tokeni tokeniz tokenize tostring total translate translator transmap treat_ll treatr_p treatreg trim trimfill trnb_cons trnb_mean trpoiss_d2 trunc_ll truncr_p truncreg tsappend tset tsfill tsline tsline_ex tsreport tsrevar tsrline tsset tssmooth tsunab ttest ttesti tut_chk tut_wait tutorial tw tware_st two twoway twoway__fpfit_serset twoway__function_gen twoway__histogram_gen twoway__ipoint_serset twoway__ipoints_serset twoway__kdensity_gen twoway__lfit_serset twoway__normgen_gen twoway__pci_serset twoway__qfit_serset twoway__scatteri_serset twoway__sunflower_gen twoway_ksm_serset ty typ type typeof u|0 unab unabbrev unabcmd update us use uselabel var var_mkcompanion var_p varbasic varfcast vargranger varirf varirf_add varirf_cgraph varirf_create varirf_ctable varirf_describe varirf_dir varirf_drop varirf_erase varirf_graph varirf_ograph varirf_rename varirf_set varirf_table varlist varlmar varnorm varsoc varstable varstable_w varstable_w2 varwle vce vec vec_fevd vec_mkphi vec_p vec_p_w vecirf_create veclmar veclmar_w vecnorm vecnorm_w vecrank vecstable verinst vers versi versio version view viewsource vif vwls wdatetof webdescribe webseek webuse weib1_lf weib2_lf weib_lf weib_lf0 weibhet_glf weibhet_glf_sh weibhet_glfa weibhet_glfa_sh weibhet_gp weibhet_ilf weibhet_ilf_sh weibhet_ilfa weibhet_ilfa_sh weibhet_ip weibu_sw weibul_p weibull weibull_c weibull_s weibullhet wh whelp whi which whil while wilc_st wilcoxon win wind windo window winexec wntestb wntestb_7 wntestq xchart xchart_7 xcorr xcorr_7 xi xi_6 xmlsav xmlsave xmluse xpose xsh xshe xshel xshell xt_iis xt_tis xtab_p xtabond xtbin_p xtclog xtcloglog xtcloglog_8 xtcloglog_d2 xtcloglog_pa_p xtcloglog_re_p xtcnt_p xtcorr xtdata xtdes xtfront_p xtfrontier xtgee xtgee_elink xtgee_estat xtgee_makeivar xtgee_p xtgee_plink xtgls xtgls_p xthaus xthausman xtht_p xthtaylor xtile xtint_p xtintreg xtintreg_8 xtintreg_d2 xtintreg_p xtivp_1 xtivp_2 xtivreg xtline xtline_ex xtlogit xtlogit_8 xtlogit_d2 xtlogit_fe_p xtlogit_pa_p xtlogit_re_p xtmixed xtmixed_estat xtmixed_p xtnb_fe xtnb_lf xtnbreg xtnbreg_pa_p xtnbreg_refe_p xtpcse xtpcse_p xtpois xtpoisson xtpoisson_d2 xtpoisson_pa_p xtpoisson_refe_p xtpred xtprobit xtprobit_8 xtprobit_d2 xtprobit_re_p xtps_fe xtps_lf xtps_ren xtps_ren_8 xtrar_p xtrc xtrc_p xtrchh xtrefe_p xtreg xtreg_be xtreg_fe xtreg_ml xtreg_pa_p xtreg_re xtregar xtrere_p xtset xtsf_ll xtsf_llti xtsum xttab xttest0 xttobit xttobit_8 xttobit_p xttrans yx yxview__barlike_draw yxview_area_draw yxview_bar_draw yxview_dot_draw yxview_dropline_draw yxview_function_draw yxview_iarrow_draw yxview_ilabels_draw yxview_normal_draw yxview_pcarrow_draw yxview_pcbarrow_draw yxview_pccapsym_draw yxview_pcscatter_draw yxview_pcspike_draw yxview_rarea_draw yxview_rbar_draw yxview_rbarm_draw yxview_rcap_draw yxview_rcapsym_draw yxview_rconnected_draw yxview_rline_draw yxview_rscatter_draw yxview_rspike_draw yxview_spike_draw yxview_sunflower_draw zap_s zinb zinb_llf zinb_plf zip zip_llf zip_p zip_plf zt_ct_5 zt_hc_5 zt_hcd_5 zt_is_5 zt_iss_5 zt_sho_5 zt_smp_5 ztbase_5 ztcox_5 ztdes_5 ztereg_5 ztfill_5 ztgen_5 ztir_5 ztjoin_5 ztnb ztnb_p ztp ztp_p zts_5 ztset_5 ztspli_5 ztsum_5 zttoct_5 ztvary_5 ztweib_5",contains:[{className:"symbol",begin:/`[a-zA-Z0-9_]+'/},{className:"variable",begin:/\$\{?[a-zA-Z0-9_]+\}?/},{className:"string",variants:[{begin:'`"[^\r\n]*?"\''},{b:'"[^\r\n"]*"'}]},{cN:"built_in",v:[{b:"\\b(abs|acos|asin|atan|atan2|atanh|ceil|cloglog|comb|cos|digamma|exp|floor|invcloglog|invlogit|ln|lnfact|lnfactorial|lngamma|log|log10|max|min|mod|reldif|round|sign|sin|sqrt|sum|tan|tanh|trigamma|trunc|betaden|Binomial|binorm|binormal|chi2|chi2tail|dgammapda|dgammapdada|dgammapdadx|dgammapdx|dgammapdxdx|F|Fden|Ftail|gammaden|gammap|ibeta|invbinomial|invchi2|invchi2tail|invF|invFtail|invgammap|invibeta|invnchi2|invnFtail|invnibeta|invnorm|invnormal|invttail|nbetaden|nchi2|nFden|nFtail|nibeta|norm|normal|normalden|normd|npnchi2|tden|ttail|uniform|abbrev|char|index|indexnot|length|lower|ltrim|match|plural|proper|real|regexm|regexr|regexs|reverse|rtrim|string|strlen|strlower|strltrim|strmatch|strofreal|strpos|strproper|strreverse|strrtrim|strtrim|strupper|subinstr|subinword|substr|trim|upper|word|wordcount|_caller|autocode|byteorder|chop|clip|cond|e|epsdouble|epsfloat|group|inlist|inrange|irecode|matrix|maxbyte|maxdouble|maxfloat|maxint|maxlong|mi|minbyte|mindouble|minfloat|minint|minlong|missing|r|recode|replay|return|s|scalar|d|date|day|dow|doy|halfyear|mdy|month|quarter|week|year|d|daily|dofd|dofh|dofm|dofq|dofw|dofy|h|halfyearly|hofd|m|mofd|monthly|q|qofd|quarterly|tin|twithin|w|weekly|wofd|y|yearly|yh|ym|yofd|yq|yw|cholesky|colnumb|colsof|corr|det|diag|diag0cnt|el|get|hadamard|I|inv|invsym|issym|issymmetric|J|matmissing|matuniform|mreldif|nullmat|rownumb|rowsof|sweep|syminv|trace|vec|vecdiag)(?=\\()"}]},t.C("^[ \t]*\\*.*$",!1),t.CLCM,t.CBCM]}}),hljs.registerLanguage("cs",function(t){var e={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let nameof on orderby partial remove select set value var when where yield",literal:"null false true"},i={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},n={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},r=t.inherit(n,{i:/\n/}),o={cN:"subst",b:"{",e:"}",k:e},a=t.inherit(o,{i:/\n/}),s={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},t.BE,a]},l={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},o]},u=t.inherit(l,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},a]});o.c=[l,s,n,t.ASM,t.QSM,i,t.CBCM],a.c=[u,s,r,t.ASM,t.QSM,i,t.inherit(t.CBCM,{i:/\n/})];var c={v:[l,s,n,t.ASM,t.QSM]},h=t.IR+"(<"+t.IR+"(\\s*,\\s*"+t.IR+")*>)?(\\[\\])?";return{aliases:["csharp","c#"],k:e,i:/::/,c:[t.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",relevance:0},{b:"\x3c!--|--\x3e"},{b:"</?",e:">"}]}]}),t.CLCM,t.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},c,i,{bK:"class interface",e:/[{;=]/,i:/[^\s:,]/,c:[t.TM,t.CLCM,t.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[t.inherit(t.TM,{b:"[a-zA-Z](\\.?\\w)*"}),t.CLCM,t.CBCM]},{cN:"meta",b:"^\\s*\\[",eB:!0,e:"\\]",eE:!0,c:[{cN:"meta-string",b:/"/,e:/"/}]},{bK:"new return throw await else",relevance:0},{cN:"function",b:"("+h+"\\s+)+"+t.IR+"\\s*\\(",rB:!0,e:/\s*[{;=]/,eE:!0,k:e,c:[{b:t.IR+"\\s*\\(",rB:!0,c:[t.TM],relevance:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:e,relevance:0,c:[c,i,t.CBCM]},t.CLCM,t.CBCM]}]}}),hljs.registerLanguage("r",function(t){var e="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[t.HCM,{b:e,l:e,k:{keyword:"function if in break next repeat else for return switch while try tryCatch stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},relevance:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",relevance:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",relevance:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",relevance:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{b:"`",e:"`",relevance:0},{cN:"string",c:[t.BE],v:[{b:'"',e:'"'},{b:"'",e:"'"}]}]}}),hljs.registerLanguage("lua",function(t){var e="\\[=*\\[",i="\\]=*\\]",n={b:e,e:i,c:["self"]},r=[t.C("--(?!"+e+")","$"),t.C("--"+e,i,{c:[n],relevance:10})];return{l:t.UIR,k:{literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstringmodule next pairs pcall print rawequal rawget rawset require select setfenvsetmetatable tonumber tostring type unpack xpcall arg selfcoroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},c:r.concat([{cN:"function",bK:"function",e:"\\)",c:[t.inherit(t.TM,{b:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{cN:"params",b:"\\(",eW:!0,c:r}].concat(r)},t.CNM,t.ASM,t.QSM,{cN:"string",b:e,e:i,c:[n],relevance:5}])}}),hljs.registerLanguage("cpp",function(t){var e={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},i={cN:"string",v:[{b:'(u8?|U|L)?"',e:'"',i:"\\n",c:[t.BE]},{b:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",e:"'",i:"."},{b:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\((?:.|\n)*?\)\1"/}]},n={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},r={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,relevance:0},t.inherit(i,{cN:"meta-string"}),{cN:"meta-string",b:/<[^\n>]*>/,e:/$/,i:"\\n"},t.CLCM,t.CBCM]},o=t.IR+"\\s*\\(",a={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},s=[e,t.CLCM,t.CBCM,n,i];return{aliases:["c","cc","h","c++","h++","hpp","hh","hxx","cxx"],k:a,i:"</",c:s.concat([r,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,c:["self",e]},{b:t.IR+"::",k:a},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:a,c:s.concat([{b:/\(/,e:/\)/,k:a,c:s.concat(["self"]),relevance:0}]),relevance:0},{cN:"function",b:"("+t.IR+"[\\*&\\s]+)+"+o,rB:!0,e:/[{;=]/,eE:!0,k:a,i:/[^\w\s\*&]/,c:[{b:o,rB:!0,c:[t.TM],relevance:0},{cN:"params",b:/\(/,e:/\)/,k:a,relevance:0,c:[t.CLCM,t.CBCM,i,n,e,{b:/\(/,e:/\)/,k:a,relevance:0,c:["self",t.CLCM,t.CBCM,i,n,e]}]},t.CLCM,t.CBCM,r]},{cN:"class",bK:"class struct",e:/[{;:]/,c:[{b:/</,e:/>/,c:["self"]},t.TM]}]),exports:{preprocessor:r,strings:i,k:a}}}),function(t,e){"use strict";function i(i){try{var r=e.querySelectorAll("code.hljs");for(var o in r)r.hasOwnProperty(o)&&n(r[o],i)}catch(e){t.console.error("LineNumbers error: ",e)}}function n(t,e){if("object"==typeof t){var i=(e=e||{singleLine:!1}).singleLine?0:1;s(function(){(function t(e){var i=e.childNodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];a(o.textContent)>0&&(o.childNodes.length>0?t(o):r(o.parentNode))}})(t),t.innerHTML=function(t,e){var i=o(t);if(""===i[i.length-1].trim()&&i.pop(),i.length>e){for(var n="",r=0,a=i.length;r<a;r++)n+=l('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[d,c,f,p,h,r+1,i[r].length>0?i[r]:" "]);return l('<table class="{0}">{1}</table>',[u,n])}return t}(t.innerHTML,i)})}}function r(t){var e=t.className;if(/hljs-/.test(e)){for(var i=o(t.innerHTML),n=0,r="";n<i.length;n++)r+=l('<span class="{0}">{1}</span>\n',[e,i[n]]);t.innerHTML=r.trim()}}function o(t){return 0===t.length?[]:t.split(g)}function a(t){return(t.trim().match(g)||[]).length}function s(e){t.setTimeout(e,0)}function l(t,e){return t.replace(/\{(\d+)\}/g,function(t,i){return e[i]?e[i]:t})}var u="hljs-ln",c="hljs-ln-line",h="hljs-ln-code",d="hljs-ln-numbers",f="hljs-ln-n",p="data-line-number",g=/\r\n|\r|\n/g;t.hljs?(t.hljs.initLineNumbersOnLoad=function(n){"complete"===e.readyState?i(n):t.addEventListener("DOMContentLoaded",function(){i(n)})},t.hljs.lineNumbersBlock=n,function(){var t=e.createElement("style");t.type="text/css",t.innerHTML=l(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[u,f,p]),e.getElementsByTagName("head")[0].appendChild(t)}()):t.console.error("highlight.js not detected!")}(window,document),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,i){return e>t?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,i,n){var r;return(r="translate3d"===u.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"}).transition="all "+i+"ms "+n,r}function n(t,e){return("string"==typeof t?t:a(t)).indexOf(" "+e+" ")>=0}function r(t,e){var i=a(t),r=i+e;n(i,e)||(t.className=r.substring(1))}function o(t,e){var i,r=a(t);n(t,e)&&(i=r.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function a(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={version:"0.2.0"},u=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,i;for(e in t)void 0!==(i=t[e])&&t.hasOwnProperty(e)&&(u[e]=i);return this},l.status=null,l.set=function(e){var n=l.isStarted();e=t(e,u.minimum,1),l.status=1===e?null:e;var r=l.render(!n),o=r.querySelector(u.barSelector),a=u.speed,s=u.easing;return r.offsetWidth,c(function(t){""===u.positionUsing&&(u.positionUsing=l.getPositioningCSS()),h(o,i(e,a,s)),1===e?(h(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){h(r,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},a)},a)):setTimeout(t,a)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},u.trickleSpeed)};return u.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var i=l.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*u.trickleRate)},function(){var t=0,e=0;l.promise=function(i){return i&&"resolved"!==i.state()?(0===e&&l.start(),t++,e++,i.always(function(){0===--e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");r(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=u.template;var n,o=i.querySelector(u.barSelector),a=t?"-100":e(l.status||0),c=document.querySelector(u.parent);return h(o,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),u.showSpinner||(n=i.querySelector(u.spinnerSelector))&&s(n),c!=document.body&&r(c,"nprogress-custom-parent"),c.appendChild(i),i},l.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(u.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&s(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var c=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),h=function(){function t(t){return t=function(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}(t),n[t]||(n[t]=function(t){var e=document.body.style;if(t in e)return t;for(var n,r=i.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((n=i[r]+o)in e)return n;return t}(t))}function e(e,i,n){i=t(i),e.style[i]=n}var i=["Webkit","O","Moz","ms"],n={};return function(t,i){var n,r,o=arguments;if(2==o.length)for(n in i)void 0!==(r=i[n])&&i.hasOwnProperty(n)&&e(t,n,r);else e(t,o[1],o[2])}}();return l}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.POWERMODE=e():t.POWERMODE=e()}(this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){"use strict";var n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerHeight,n.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:999999",window.addEventListener("resize",function(){n.width=window.innerWidth,n.height=window.innerHeight}),document.body.appendChild(n);var r=n.getContext("2d"),o=[],a=0,s=!1;function l(t,e){return Math.random()*(e-t)+t}function u(t){if(h.colorful){var e=l(0,360);return"hsla("+l(e-10,e+10)+", 100%, "+l(50,80)+"%, 1)"}return window.getComputedStyle(t).color}function c(t,e,i){return{x:t,y:e,alpha:1,color:i,velocity:{x:2*Math.random()-1,y:2*Math.random()-3.5}}}function h(){for(var t=function(){var t,e=document.activeElement;if("TEXTAREA"===e.tagName||"INPUT"===e.tagName&&"text"===e.getAttribute("type")){var n=i(1)(e,e.selectionEnd);return t=e.getBoundingClientRect(),{x:n.left+t.left,y:n.top+t.top,color:u(e)}}var r=window.getSelection();if(r.rangeCount){var o=r.getRangeAt(0),a=o.startContainer;return a.nodeType===document.TEXT_NODE&&(a=a.parentNode),{x:(t=o.getBoundingClientRect()).left,y:t.top,color:u(a)}}return{x:0,y:0,color:"transparent"}}(),e=5+Math.round(10*Math.random());e--;)o[a]=c(t.x,t.y,t.color),a=(a+1)%500;if(h.shake){var n=1+2*Math.random(),r=n*(Math.random()>.5?-1:1),l=n*(Math.random()>.5?-1:1);document.body.style.marginLeft=r+"px",document.body.style.marginTop=l+"px",setTimeout(function(){document.body.style.marginLeft="",document.body.style.marginTop=""},75)}s||requestAnimationFrame(d)}function d(){s=!0,r.clearRect(0,0,n.width,n.height);for(var t=!1,e=n.getBoundingClientRect(),i=0;i<o.length;++i){var a=o[i];a.alpha<=.1||(a.velocity.y+=.075,a.x+=a.velocity.x,a.y+=a.velocity.y,a.alpha*=.96,r.globalAlpha=a.alpha,r.fillStyle=a.color,r.fillRect(Math.round(a.x-1.5)-e.left,Math.round(a.y-1.5)-e.top,3,3),t=!0)}t?requestAnimationFrame(d):s=!1}h.shake=!0,h.colorful=!1,t.exports=h},function(t,e){!function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],i=null!=window.mozInnerScreenX;function n(t,n,r){var o=r&&r.debug||!1;if(o){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);var l=s.style,u=window.getComputedStyle?getComputedStyle(t):t.currentStyle;l.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(l.wordWrap="break-word"),l.position="absolute",o||(l.visibility="hidden"),e.forEach(function(t){l[t]=u[t]}),i?t.scrollHeight>parseInt(u.height)&&(l.overflowY="scroll"):l.overflow="hidden",s.textContent=t.value.substring(0,n),"INPUT"===t.nodeName&&(s.textContent=s.textContent.replace(/\s/g," "));var c=document.createElement("span");c.textContent=t.value.substring(n)||".",s.appendChild(c);var h={top:c.offsetTop+parseInt(u.borderTopWidth),left:c.offsetLeft+parseInt(u.borderLeftWidth)};return o?c.style.backgroundColor="#aaa":document.body.removeChild(s),h}void 0!==t&&void 0!==t.exports?t.exports=n:window.getCaretCoordinates=n}()}])}),function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define([],e(t)):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";function e(t,e){this.settings=n(i,e||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}const i={src:"data-src",srcset:"data-srcset",selector:".lazyload"},n=function(){let t={},e=!1,i=0,r=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);i<r;i++)!function(i){for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e&&"[object Object]"===Object.prototype.toString.call(i[r])?t[r]=n(!0,t[r],i[r]):t[r]=i[r])}(arguments[i]);return t};if(e.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this;this.observer=new IntersectionObserver(function(t){t.forEach(function(t){if(t.intersectionRatio>0){e.observer.unobserve(t.target);let i=t.target.getAttribute(e.settings.src),n=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(i&&(t.target.src=i),n&&(t.target.srcset=n)):t.target.style.backgroundImage="url("+i+")"}})},{root:null,rootMargin:"0px",threshold:[0]}),this.images.forEach(function(t){e.observer.observe(t)})},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;this.images.forEach(function(e){let i=e.getAttribute(t.settings.src),n=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(i&&(e.src=i),n&&(e.srcset=n)):e.style.backgroundImage="url("+i+")"})},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,i){return new e(t,i)},t.jQuery){const i=t.jQuery;i.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new e(i.makeArray(this),t),this}}return e}),function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,i){"use strict";function n(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new u,this.expressionManager=new u,this.motions={},this.expressions={},this.isTexLoaded=!1}function r(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function o(){this.id="",this.type=-1,this.value=null}function a(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=_.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function s(){this.tr=new Float32Array(16),this.identity()}function l(t,e){s.prototype.constructor.call(this),this.width=t,this.height=e}function u(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function c(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function h(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function d(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function f(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function p(){s.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function g(){}var m=0;n.prototype.getModelMatrix=function(){return this.modelMatrix},n.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},n.prototype.getAlpha=function(){return this.alpha},n.prototype.isInitialized=function(){return this.initialized},n.prototype.setInitialized=function(t){this.initialized=t},n.prototype.isUpdating=function(){return this.updating},n.prototype.setUpdating=function(t){this.updating=t},n.prototype.getLive2DModel=function(){return this.live2DModel},n.prototype.setLipSync=function(t){this.lipSync=t},n.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},n.prototype.setAccel=function(t,e,i){this.accelX=t,this.accelY=e,this.accelZ=i},n.prototype.setDrag=function(t,e){this.dragX=t,this.dragY=e},n.prototype.getMainMotionManager=function(){return this.mainMotionManager},n.prototype.getExpressionManager=function(){return this.expressionManager},n.prototype.loadModelData=function(t,e){var i=g.getPlatformManager();this.debugMode&&i.log("Load model : "+t);var n=this;i.loadLive2DModel(t,function(t){n.live2DModel=t,n.live2DModel.saveParam(),0==Live2D.getError()?(n.modelMatrix=new l(n.live2DModel.getCanvasWidth(),n.live2DModel.getCanvasHeight()),n.modelMatrix.setWidth(2),n.modelMatrix.setCenterPosition(0,0),e(n.live2DModel)):console.error("Error : Failed to loadModelData().")})},n.prototype.loadTexture=function(t,e,i){m++;var n=g.getPlatformManager();this.debugMode&&n.log("Load Texture : "+e);var r=this;n.loadTexture(this.live2DModel,t,e,function(){0==--m&&(r.isTexLoaded=!0),"function"==typeof i&&i()})},n.prototype.loadMotion=function(t,e,i){var n=g.getPlatformManager();this.debugMode&&n.log("Load Motion : "+e);var r=null,o=this;n.loadBytes(e,function(e){r=Live2DMotion.loadMotion(e),null!=t&&(o.motions[t]=r),i(r)})},n.prototype.loadExpression=function(t,e,i){var n=g.getPlatformManager();this.debugMode&&n.log("Load Expression : "+e);var o=this;n.loadBytes(e,function(e){null!=t&&(o.expressions[t]=r.loadJson(e)),"function"==typeof i&&i()})},n.prototype.loadPose=function(t,e){var i=g.getPlatformManager();this.debugMode&&i.log("Load Pose : "+t);var n=this;try{i.loadBytes(t,function(t){n.pose=h.load(t),"function"==typeof e&&e()})}catch(t){console.warn(t)}},n.prototype.loadPhysics=function(t){var e=g.getPlatformManager();this.debugMode&&e.log("Load Physics : "+t);var i=this;try{e.loadBytes(t,function(t){i.physics=c.load(t)})}catch(t){console.warn(t)}},n.prototype.hitTestSimple=function(t,e,i){if(null===this.live2DModel)return!1;var n=this.live2DModel.getDrawDataIndex(t);if(n<0)return!1;for(var r=this.live2DModel.getTransformedPoints(n),o=this.live2DModel.getCanvasWidth(),a=0,s=this.live2DModel.getCanvasHeight(),l=0,u=0;u<r.length;u+=2){var c=r[u],h=r[u+1];c<o&&(o=c),c>a&&(a=c),h<s&&(s=h),h>l&&(l=h)}var d=this.modelMatrix.invertTransformX(e),f=this.modelMatrix.invertTransformY(i);return o<=d&&d<=a&&s<=f&&f<=l},n.prototype.hitTestSimpleCustom=function(t,e,i,n){return null!==this.live2DModel&&i>=t[0]&&i<=e[0]&&n<=t[1]&&n>=e[1]},r.prototype=new AMotion,r.EXPRESSION_DEFAULT="DEFAULT",r.TYPE_SET=0,r.TYPE_ADD=1,r.TYPE_MULT=2,r.loadJson=function(t){var e=new r,i=g.getPlatformManager().jsonParseFromBytes(t);if(e.setFadeIn(parseInt(i.fade_in)>0?parseInt(i.fade_in):1e3),e.setFadeOut(parseInt(i.fade_out)>0?parseInt(i.fade_out):1e3),null==i.params)return e;var n=i.params,a=n.length;e.paramList=[];for(var s=0;s<a;s++){var l=n[s],u=l.id.toString(),c=parseFloat(l.val),h=r.TYPE_ADD,d=null!=l.calc?l.calc.toString():"add";if((h="add"===d?r.TYPE_ADD:"mult"===d?r.TYPE_MULT:"set"===d?r.TYPE_SET:r.TYPE_ADD)==r.TYPE_ADD)c-=f=null==l.def?0:parseFloat(l.def);else if(h==r.TYPE_MULT){var f;0==(f=null==l.def?1:parseFloat(l.def))&&(f=1),c/=f}var p=new o;p.id=u,p.type=h,p.value=c,e.paramList.push(p)}return e},r.prototype.updateParamExe=function(t,e,i,n){for(var o=this.paramList.length-1;o>=0;--o){var a=this.paramList[o];a.type==r.TYPE_ADD?t.addToParamFloat(a.id,a.value,i):a.type==r.TYPE_MULT?t.multParamFloat(a.id,a.value,i):a.type==r.TYPE_SET&&t.setParamFloat(a.id,a.value,i)}},a.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},a.prototype.setInterval=function(t){this.blinkIntervalMsec=t},a.prototype.setEyeMotion=function(t,e,i){this.closingMotionMsec=t,this.closedMotionMsec=e,this.openingMotionMsec=i},a.prototype.updateParam=function(t){var e,i=UtSystem.getUserTimeMSec(),n=0;switch(this.eyeState){case _.STATE_CLOSING:(n=(i-this.stateStartTime)/this.closingMotionMsec)>=1&&(n=1,this.eyeState=_.STATE_CLOSED,this.stateStartTime=i),e=1-n;break;case _.STATE_CLOSED:(n=(i-this.stateStartTime)/this.closedMotionMsec)>=1&&(this.eyeState=_.STATE_OPENING,this.stateStartTime=i),e=0;break;case _.STATE_OPENING:(n=(i-this.stateStartTime)/this.openingMotionMsec)>=1&&(n=1,this.eyeState=_.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=n;break;case _.STATE_INTERVAL:this.nextBlinkTime<i&&(this.eyeState=_.STATE_CLOSING,this.stateStartTime=i),e=1;break;case _.STATE_FIRST:default:this.eyeState=_.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),t.setParamFloat(this.eyeID_L,e),t.setParamFloat(this.eyeID_R,e)};var _=function(){};_.STATE_FIRST="STATE_FIRST",_.STATE_INTERVAL="STATE_INTERVAL",_.STATE_CLOSING="STATE_CLOSING",_.STATE_CLOSED="STATE_CLOSED",_.STATE_OPENING="STATE_OPENING",s.mul=function(t,e,i){var n,r,o,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<4;n++)for(r=0;r<4;r++)for(o=0;o<4;o++)a[n+4*r]+=t[n+4*o]*e[o+4*r];for(n=0;n<16;n++)i[n]=a[n]},s.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},s.prototype.getArray=function(){return this.tr},s.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},s.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},s.prototype.getScaleX=function(){return this.tr[0]},s.prototype.getScaleY=function(){return this.tr[5]},s.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},s.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},s.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},s.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},s.prototype.multTranslate=function(t,e){var i=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];s.mul(i,this.tr,this.tr)},s.prototype.translate=function(t,e){this.tr[12]=t,this.tr[13]=e},s.prototype.translateX=function(t){this.tr[12]=t},s.prototype.translateY=function(t){this.tr[13]=t},s.prototype.multScale=function(t,e){var i=[t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1];s.mul(i,this.tr,this.tr)},s.prototype.scale=function(t,e){this.tr[0]=t,this.tr[5]=e},l.prototype=new s,l.prototype.setPosition=function(t,e){this.translate(t,e)},l.prototype.setCenterPosition=function(t,e){var i=this.width*this.getScaleX(),n=this.height*this.getScaleY();this.translate(t-i/2,e-n/2)},l.prototype.top=function(t){this.setY(t)},l.prototype.bottom=function(t){var e=this.height*this.getScaleY();this.translateY(t-e)},l.prototype.left=function(t){this.setX(t)},l.prototype.right=function(t){var e=this.width*this.getScaleX();this.translateX(t-e)},l.prototype.centerX=function(t){var e=this.width*this.getScaleX();this.translateX(t-e/2)},l.prototype.centerY=function(t){var e=this.height*this.getScaleY();this.translateY(t-e/2)},l.prototype.setX=function(t){this.translateX(t)},l.prototype.setY=function(t){this.translateY(t)},l.prototype.setHeight=function(t){var e=t/this.height,i=-e;this.scale(e,i)},l.prototype.setWidth=function(t){var e=t/this.width,i=-e;this.scale(e,i)},u.prototype=new MotionQueueManager,u.prototype.getCurrentPriority=function(){return this.currentPriority},u.prototype.getReservePriority=function(){return this.reservePriority},u.prototype.reserveMotion=function(t){return!(this.reservePriority>=t||this.currentPriority>=t||(this.reservePriority=t,0))},u.prototype.setReservePriority=function(t){this.reservePriority=t},u.prototype.updateParam=function(t){var e=MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),e},u.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},c.load=function(t){for(var e=new c,i=g.getPlatformManager().jsonParseFromBytes(t).physics_hair,n=i.length,r=0;r<n;r++){var o=i[r],a=new PhysicsHair,s=o.setup,l=parseFloat(s.length),u=parseFloat(s.regist),h=parseFloat(s.mass);a.setup(l,u,h);for(var d=o.src,f=d.length,p=0;p<f;p++){var m=d[p],_=m.id,v=PhysicsHair.Src.SRC_TO_X;"x"===(T=m.ptype)?v=PhysicsHair.Src.SRC_TO_X:"y"===T?v=PhysicsHair.Src.SRC_TO_Y:"angle"===T?v=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var y=parseFloat(m.scale),b=parseFloat(m.weight);a.addSrcParam(v,_,y,b)}var w=o.targets,E=w.length;for(p=0;p<E;p++){var T,$=w[p];_=$.id,v=PhysicsHair.Target.TARGET_FROM_ANGLE;"angle"===(T=$.ptype)?v=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===T?v=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");y=parseFloat($.scale),b=parseFloat($.weight);a.addTargetParam(v,_,y,b)}e.physicsList.push(a)}return e},c.prototype.updateParam=function(t){for(var e=UtSystem.getUserTimeMSec()-this.startTimeMSec,i=0;i<this.physicsList.length;i++)this.physicsList[i].update(t,e)},h.load=function(t){for(var e=new h,i=g.getPlatformManager().jsonParseFromBytes(t).parts_visible,n=i.length,r=0;r<n;r++){for(var o=i[r].group,a=o.length,s=new Array,l=0;l<a;l++){var u=o[l],c=new d(u.id);if(s[l]=c,null!=u.link){var f=u.link,p=f.length;c.link=new Array;for(var m=0;m<p;m++){var _=new d(f[m]);c.link.push(_)}}}e.partsGroups.push(s)}return e},h.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var e=UtSystem.getUserTimeMSec(),i=0==this.lastTime?0:(e-this.lastTime)/1e3;this.lastTime=e,i<0&&(i=0);for(var n=0;n<this.partsGroups.length;n++)this.normalizePartsOpacityGroup(t,this.partsGroups[n],i),this.copyOpacityOtherParts(t,this.partsGroups[n])}},h.prototype.initParam=function(t){if(null!=t)for(var e=0;e<this.partsGroups.length;e++)for(var i=this.partsGroups[e],n=0;n<i.length;n++){i[n].initIndex(t);var r=i[n].partsIndex,o=i[n].paramIndex;if(!(r<0)){var a=0!=t.getParamFloat(o);if(t.setPartsOpacity(r,a?1:0),t.setParamFloat(o,a?1:0),null!=i[n].link)for(var s=0;s<i[n].link.length;s++)i[n].link[s].initIndex(t)}}},h.prototype.normalizePartsOpacityGroup=function(t,e,i){for(var n=-1,r=1,o=0;o<e.length;o++){var a=e[o].partsIndex,s=e[o].paramIndex;if(!(a<0)&&0!=t.getParamFloat(s)){if(n>=0)break;n=o,r=t.getPartsOpacity(a),(r+=i/.5)>1&&(r=1)}}n<0&&(n=0,r=1);for(o=0;o<e.length;o++){if(!((a=e[o].partsIndex)<0))if(n==o)t.setPartsOpacity(a,r);else{var l,u=t.getPartsOpacity(a);(1-(l=r<.5?-.5*r/.5+1:.5*(1-r)/.5))*(1-r)>.15&&(l=1-.15/(1-r)),u>l&&(u=l),t.setPartsOpacity(a,u)}}},h.prototype.copyOpacityOtherParts=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(null!=n.link&&!(n.partsIndex<0))for(var r=t.getPartsOpacity(n.partsIndex),o=0;o<n.link.length;o++){var a=n.link[o];a.partsIndex<0||t.setPartsOpacity(a.partsIndex,r)}}},d.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},f.FRAME_RATE=30,f.prototype.setPoint=function(t,e){this.faceTargetX=t,this.faceTargetY=e},f.prototype.getX=function(){return this.faceX},f.prototype.getY=function(){return this.faceY},f.prototype.update=function(){var t=40/7.5/f.FRAME_RATE;if(0!=this.lastTimeSec){var e=UtSystem.getUserTimeMSec(),i=(e-this.lastTimeSec)*f.FRAME_RATE/1e3;this.lastTimeSec=e;var n=i*t/(.15*f.FRAME_RATE),r=this.faceTargetX-this.faceX,o=this.faceTargetY-this.faceY;if(!(Math.abs(r)<=this.EPSILON&&Math.abs(o)<=this.EPSILON)){var a=Math.sqrt(r*r+o*o),s=t*o/a,l=t*r/a-this.faceVX,u=s-this.faceVY,c=Math.sqrt(l*l+u*u);(c<-n||c>n)&&(l*=n/c,u*=n/c,c=n),this.faceVX+=l,this.faceVY+=u;var h=.5*(Math.sqrt(n*n+16*n*a-8*n*a)-n),d=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);d>h&&(this.faceVX*=h/d,this.faceVY*=h/d),this.faceX+=this.faceVX,this.faceY+=this.faceVY}}else this.lastTimeSec=UtSystem.getUserTimeMSec()},p.prototype=new s,p.prototype.getMaxScale=function(){return this.max},p.prototype.getMinScale=function(){return this.min},p.prototype.setMaxScale=function(t){this.max=t},p.prototype.setMinScale=function(t){this.min=t},p.prototype.isMaxScale=function(){return this.getScaleX()==this.max},p.prototype.isMinScale=function(){return this.getScaleX()==this.min},p.prototype.adjustTranslate=function(t,e){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+e)<this.screenTop&&(e=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+e)>this.screenBottom&&(e=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var i=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];s.mul(i,this.tr,this.tr)},p.prototype.adjustScale=function(t,e,i){var n=i*this.tr[0];n<this.min?this.tr[0]>0&&(i=this.min/this.tr[0]):n>this.max&&this.tr[0]>0&&(i=this.max/this.tr[0]);var r=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],o=[i,0,0,0,0,i,0,0,0,0,1,0,0,0,0,1],a=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1];s.mul(a,this.tr,this.tr),s.mul(o,this.tr,this.tr),s.mul(r,this.tr,this.tr)},p.prototype.setScreenRect=function(t,e,i,n){this.screenLeft=t,this.screenRight=e,this.screenTop=n,this.screenBottom=i},p.prototype.setMaxScreenRect=function(t,e,i,n){this.maxLeft=t,this.maxRight=e,this.maxTop=n,this.maxBottom=i},p.prototype.getScreenLeft=function(){return this.screenLeft},p.prototype.getScreenRight=function(){return this.screenRight},p.prototype.getScreenBottom=function(){return this.screenBottom},p.prototype.getScreenTop=function(){return this.screenTop},p.prototype.getMaxLeft=function(){return this.maxLeft},p.prototype.getMaxRight=function(){return this.maxRight},p.prototype.getMaxBottom=function(){return this.maxBottom},p.prototype.getMaxTop=function(){return this.maxTop},g.platformManager=null,g.getPlatformManager=function(){return g.platformManager},g.setPlatformManager=function(t){g.platformManager=t},t.exports={L2DTargetPoint:f,Live2DFramework:g,L2DViewMatrix:p,L2DPose:h,L2DPartsParam:d,L2DPhysics:c,L2DMotionManager:u,L2DModelMatrix:l,L2DMatrix44:s,EYE_STATE:_,L2DEyeBlink:a,L2DExpressionParam:o,L2DExpressionMotion:r,L2DBaseModel:n}},function(t,e,i){"use strict";t.exports={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,DEBUG_DRAW_HIT_AREA:!1,DEBUG_DRAW_ALPHA_MODEL:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_SLEEPY:2,PRIORITY_NORMAL:3,PRIORITY_FORCE:4,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_SLEEPY:"sleepy",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=function(t){n=t},e.getContext=function(){return n};var n=void 0},function(t,e,i){"use strict";function n(){}n.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.depth=0,n.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.tmp=new Array(16),n.reset=function(){this.depth=0},n.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},n.push=function(){var t=(this.depth,16*(this.depth+1));this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var e=0;e<16;e++)this.matrixStack[t+e]=this.currentMatrix[e];this.depth++},n.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,e=0;e<16;e++)this.currentMatrix[e]=this.matrixStack[t+e]},n.getMatrix=function(){return this.currentMatrix},n.multMatrix=function(t){var e,i,n;for(e=0;e<16;e++)this.tmp[e]=0;for(e=0;e<4;e++)for(i=0;i<4;i++)for(n=0;n<4;n++)this.tmp[e+4*i]+=this.currentMatrix[e+4*n]*t[n+4*i];for(e=0;e<16;e++)this.currentMatrix[e]=this.tmp[e]},t.exports=n},function(t,e,i){t.exports=i(5)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=$.width,i=$.height;x=new m.L2DTargetPoint;var n=i/e,r=v.default.VIEW_LOGICAL_LEFT,a=v.default.VIEW_LOGICAL_RIGHT,s=-n,l=n;if(window.Live2D.captureFrame=!1,(S=new m.L2DViewMatrix).setScreenRect(r,a,s,l),S.setMaxScreenRect(v.default.VIEW_LOGICAL_MAX_LEFT,v.default.VIEW_LOGICAL_MAX_RIGHT,v.default.VIEW_LOGICAL_MAX_BOTTOM,v.default.VIEW_LOGICAL_MAX_TOP),S.setMaxScale(v.default.VIEW_MAX_SCALE),S.setMinScale(v.default.VIEW_MIN_SCALE),(C=new m.L2DMatrix44).multScale(1,e/i),(k=new m.L2DMatrix44).multTranslate(-e/2,-i/2),k.multScale(2/e,-2/e),T=function(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=0;e<t.length;e++)try{var i=$.getContext(t[e],{premultipliedAlpha:!0});if(i)return i}catch(t){}return null}(),(0,b.setContext)(T),!T)return console.error("Failed to create WebGL context."),void(window.WebGLRenderingContext&&console.error("Your browser don't support WebGL, check https://get.webgl.org/ for futher information."));window.Live2D.setGL(T),T.clearColor(0,0,0,0),function(t){w.reloadFlg=!0,w.count++,w.changeModel(T,t)}(t),o()}function o(){E||(E=!0,function t(){!function(){y.default.reset(),y.default.loadIdentity(),x.update(),w.setDrag(x.getX(),x.getY()),T.clear(T.COLOR_BUFFER_BIT),y.default.multMatrix(C.getArray()),y.default.multMatrix(S.getArray()),y.default.push();for(var t=0;t<w.numModels();t++){var e=w.getModel(t);if(null==e)return;e.initialized&&!e.updating&&(e.update(),e.draw(T))}y.default.pop()}();var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(window.Live2D.captureFrame){window.Live2D.captureFrame=!1;var i=document.createElement("a");document.body.appendChild(i),i.setAttribute("type","hidden"),i.href=$.toDataURL(),i.download=window.Live2D.captureName||"live2d.png",i.click()}e(t,$)}())}function a(t,e,i){function n(t,e){return 180*Math.acos(function(t,e){return t.x*e.x+t.y*e.y}({x:0,y:1},function(t,e){var i=Math.sqrt(t*t+e*e);return{x:t/i,y:e/i}}(t,e)))/Math.PI}if(e.x<i.left+i.width&&e.y<i.top+i.height&&e.x>i.left&&e.y>i.top)return e;var r=t.x-e.x,o=t.y-e.y,a=n(r,o);e.x<t.x&&(a=360-a);var s=360-n(i.left-t.x,-1*(i.top-t.y)),l=360-n(i.left-t.x,-1*(i.top+i.height-t.y)),u=n(i.left+i.width-t.x,-1*(i.top-t.y)),c=n(i.left+i.width-t.x,-1*(i.top+i.height-t.y)),h=o/r,d={};if(a<u){var f=i.top-t.y,p=f/h;d={y:t.y+f,x:t.x+p}}else if(a<c){var g=i.left+i.width-t.x,m=g*h;d={y:t.y+m,x:t.x+g}}else if(a<l){var _=i.top+i.height-t.y,v=_/h;d={y:t.y+_,x:t.x+v}}else if(a<s){var y=t.x-i.left,b=y*h;d={y:t.y-b,x:t.x-y}}else{var w=i.top-t.y,E=w/h;d={y:t.y+w,x:t.x+E}}return d}function s(t){L=!0;var e=$.getBoundingClientRect(),i=p(t.clientX-e.left),n=g(t.clientY-e.top),r=a({x:e.left+e.width/2,y:e.top+e.height*A},{x:t.clientX,y:t.clientY},e),o=d(r.x-e.left),s=f(r.y-e.top);v.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+o+" y:"+s+")"),i,n,x.setPoint(o,s)}function l(){L&&(L=!1),x.setPoint(0,0)}function u(){v.default.DEBUG_LOG&&console.log("Set Session Storage."),sessionStorage.setItem("Sleepy","1")}function c(t){if("mousewheel"==t.type);else if("mousedown"==t.type)!function(t){L=!0;var e=$.getBoundingClientRect(),i=p(t.clientX-e.left),n=g(t.clientY-e.top),r=a({x:e.left+e.width/2,y:e.top+e.height*A},{x:t.clientX,y:t.clientY},e),o=d(r.x-e.left),s=f(r.y-e.top);v.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+o+" y:"+s+")"),i,n,w.tapEvent(o,s)}(t);else if("mousemove"==t.type){"1"===sessionStorage.getItem("Sleepy")&&sessionStorage.setItem("Sleepy","0"),s(t)}else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else if("mouseout"==t.type){v.default.DEBUG_LOG&&console.log("Mouse out Window."),l();var e=sessionStorage.getItem("SleepyTimer");window.clearTimeout(e),e=window.setTimeout(u,5e4),sessionStorage.setItem("SleepyTimer",e)}}function h(t){var e=t.touches[0];"touchstart"==t.type?1==t.touches.length&&s(e):"touchmove"==t.type?function(t){var e=$.getBoundingClientRect(),i=p(t.clientX-e.left),n=g(t.clientY-e.top),r=a({x:e.left+e.width/2,y:e.top+e.height*A},{x:t.clientX,y:t.clientY},e),o=d(r.x-e.left),s=f(r.y-e.top);v.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+o+" y:"+s+")"),L&&(i,n,x.setPoint(o,s))}(e):"touchend"==t.type&&l()}function d(t){var e=k.transformX(t);return S.invertTransformX(e)}function f(t){var e=k.transformY(t);return S.invertTransformY(e)}function p(t){return k.transformX(t)}function g(t){return k.transformY(t)}i(6);var m=i(0),_=n(i(8)),v=n(i(1)),y=n(i(3)),b=i(2),w=(window.navigator.platform.toLowerCase(),new _.default),E=!1,T=null,$=null,x=null,S=null,C=null,k=null,L=!1,A=.5;window.loadlive2d=function(t,e,i){A=void 0===i?.5:i,function(t){($=document.getElementById(t)).addEventListener&&(window.addEventListener("click",c),window.addEventListener("mousedown",c),window.addEventListener("mousemove",c),window.addEventListener("mouseup",c),document.addEventListener("mouseout",c),window.addEventListener("touchstart",h),window.addEventListener("touchend",h),window.addEventListener("touchmove",h))}(t),r(e)}},function(t,e,i){"use strict";(function(t){!function(){function e(){$t||(this._$MT=null,this._$5S=null,this._$NP=0,e._$42++,this._$5S=new U(this))}function i(t){if(!$t){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new w,at.glContext.length>at.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new P,this.tmpMatrix2=new P,this.tmpMatrixForMask=new P,this.tmpMatrixForDraw=new P,this.CHANNEL_COLORS=new Array;var e=new S;(e=new S).r=0,e.g=0,e.b=0,e.a=1,this.CHANNEL_COLORS.push(e),(e=new S).r=1,e.g=0,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new S).r=0,e.g=1,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new S).r=0,e.g=0,e.b=1,e.a=0,this.CHANNEL_COLORS.push(e);for(var i=0;i<this.CHANNEL_COLORS.length;i++)this.dp_webgl.setChannelFlagAsColor(i,this.CHANNEL_COLORS[i])}}function n(t,e,i){this.clipIDList=new Array,this.clipIDList=i,this.clippingMaskDrawIndexList=new Array;for(var n=0;n<i.length;n++)this.clippingMaskDrawIndexList.push(e.getDrawDataIndex(i[n]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new w,this.allClippedDrawRect=new w,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function r(t,e){this._$gP=t,this.drawDataIndex=e}function o(){$t||(this.color=null)}function a(){$t||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function s(){}function l(){this._$r=null,this._$0S=null}function u(){$t||(this.x=null,this.y=null,this.width=null,this.height=null)}function c(t){$t||et.prototype.constructor.call(this,t)}function h(t){$t||et.prototype.constructor.call(this,t)}function d(){$t||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,d._$42++)}function f(){$t||(this.p1=new p,this.p2=new p,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function p(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function g(t,e,i){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=i}function _(t,e,i,n){g.prototype.constructor.call(this,e,i,n),this._$tL=null,this._$tL=t}function v(t,e,i){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=i}function y(t,e,i,n){v.prototype.constructor.call(this,e,i,n),this._$YP=null,this._$YP=t}function b(){$t||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function w(){$t||(this.x=null,this.y=null,this.width=null,this.height=null)}function E(){}function T(){$t||(this.x=null,this.y=null)}function $(){$t||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function x(){$t||(this._$Eb=x._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=x.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function S(){$t||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=at.L2D_COLOR_BLEND_MODE_MULT)}function C(){$t||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function k(){}function L(){$t||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=L._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function A(){}function M(){$t||(this._$Ob=null)}function P(){this.m=new Float32Array(16),this.identity()}function D(t){$t||et.prototype.constructor.call(this,t)}function R(){$t||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function O(){$t||(a.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=O._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function I(){this._$P=new Float32Array(100),this.size=0}function N(){this._$4P=null,this._$I0=null,this._$RP=null}function B(){}function F(){}function U(t){$t||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(U._$is),this._$_2=new Float32Array(U._$is),this._$vr=new Float32Array(U._$is),this._$Rr=new Float32Array(U._$is),this._$Or=new Float32Array(U._$is),this._$fs=new Float32Array(U._$is),this._$Js=new Array(U._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(B._$Qb),this._$ZP=new Float32Array(2*B._$1r),this._$Ri=t,this._$b0=U._$HP++,this.clipManager=null,this.dp_webgl=null)}function j(){}function H(){$t||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=St.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function G(){$t||(x.prototype.constructor.call(this),this._$sb=new Int32Array(G._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==G._$NT&&(G._$NT=G._$9r(256),G._$vS=G._$9r(256),G._$no=G._$vb(256)))}function z(){$t||(C.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function q(t){ot.prototype.constructor.call(this,t),this._$8r=C._$ur,this._$Yr=null,this._$Wr=null}function W(){$t||($.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function Y(){$t||(this._$NL=null,this._$3S=null,this._$aS=null,Y._$42++)}function V(){$t||(e.prototype.constructor.call(this),this._$zo=new G)}function X(){$t||(a.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=X._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function K(t,e){return String.fromCharCode(t.getUint8(e))}function I(){this._$P=new Float32Array(100),this.size=0}function N(){this._$4P=null,this._$I0=null,this._$RP=null}function Q(){$t||(C.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function Z(t){ot.prototype.constructor.call(this,t),this._$8r=C._$ur,this._$Cr=null,this._$hr=null}function J(){$t||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,J._$42++)}function tt(t){this._$VS=null,this._$e0=null,this._$e0=t}function et(t){$t||(this.id=t)}function it(){$t||(this._$4S=null)}function nt(t,e){this.canvas=t,this.context=e,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function rt(){$t||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function ot(t){$t||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function at(){}function st(){}function lt(t){$t||(this._$ib=t)}function ut(){$t||(W.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=ut._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=ut._$42++)}function ct(t){Et.prototype.constructor.call(this,t),this._$8r=W._$ur,this._$Cr=null,this._$hr=null}function ht(){$t||(this.x=null,this.y=null)}function dt(t){$t||(e.prototype.constructor.call(this),this.drawParamWebGL=new _t(t),this.drawParamWebGL.setGL(at.getGL(t)))}function ft(){$t||(this.motions=null,this._$eb=!1,this.motions=new Array)}function pt(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=pt._$Gs++}function gt(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function mt(t){$t||et.prototype.constructor.call(this,t)}function _t(t){$t||(x.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function vt(t,e,i){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),e}function yt(t,e,i){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.DYNAMIC_DRAW),e}function bt(t){$t||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}function wt(){}function Et(t){$t||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function Tt(){}var $t=!0;e._$0s=1,e._$4s=2,e._$42=0,e._$62=function(t,i){try{if(i instanceof ArrayBuffer&&(i=new DataView(i)),!(i instanceof DataView))throw new lt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var n,r=new bt(i),o=r._$ST(),a=r._$ST(),l=r._$ST();if(109!=o||111!=a||99!=l)throw new lt("_$gi _$C _$li , _$Q0 _$P0.");if(n=r._$ST(),r._$gr(n),n>F._$T7)throw t._$NP|=e._$4s,new lt("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+F._$T7+" < _$f0 : "+n+" )@_$SS#loadModel()\n");var u=r._$nP();if(n>=F._$s7){var c=r._$9T(),h=r._$9T();if(-30584!=c||-30584!=h)throw t._$NP|=e._$0s,new lt("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(u);var d=t.getModelContext();d.setDrawParam(t.getDrawParam()),d.init()}catch(t){s._$Rb(t)}},e.prototype._$KS=function(t){this._$MT=t},e.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new d,this._$MT._$zP()),this._$MT},e.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},e.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},e.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),this._$5S.getParamFloat(t)},e.prototype.setParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-i)+e*i)},e.prototype.addToParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+e*i)},e.prototype.multParamFloat=function(t,e,i){"number"!=typeof t&&(t=this._$5S.getParamIndex(h.getID(t))),arguments.length<3&&(i=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(e-1)*i))},e.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(h.getID(t))},e.prototype.loadParam=function(){this._$5S.loadParam()},e.prototype.saveParam=function(){this._$5S.saveParam()},e.prototype.init=function(){this._$5S.init()},e.prototype.update=function(){this._$5S.update()},e.prototype._$Rs=function(){return s._$li("_$60 _$PT _$Rs()"),-1},e.prototype._$Ds=function(t){s._$li("_$60 _$PT _$SS#_$Ds() \n")},e.prototype._$K2=function(){},e.prototype.draw=function(){},e.prototype.getModelContext=function(){return this._$5S},e.prototype._$s2=function(){return this._$NP},e.prototype._$P7=function(t,e,i,n){var r=-1,o=0,a=this;if(0!=i)if(1==t.length){var s=t[0],l=0!=a.getParamFloat(s),u=e[0],c=a.getPartsOpacity(u),h=i/n;l?(c+=h)>1&&(c=1):(c-=h)<0&&(c=0),a.setPartsOpacity(u,c)}else{for(var d=0;d<t.length;d++){s=t[d];if(g=0!=a.getParamFloat(s)){if(r>=0)break;r=d;u=e[d];o=a.getPartsOpacity(u),(o+=i/n)>1&&(o=1)}}r<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),r=0,o=1,a.loadParam(),a.setParamFloat(t[r],o),a.saveParam());for(d=0;d<t.length;d++){u=e[d];if(r==d)a.setPartsOpacity(u,o);else{var f,p=a.getPartsOpacity(u);(1-(f=o<.5?-.5*o/.5+1:.5*(1-o)/.5))*(1-o)>.15&&(f=1-.15/(1-o)),p>f&&(p=f),a.setPartsOpacity(u,p)}}}else for(d=0;d<t.length;d++){s=t[d],u=e[d];var g=0!=a.getParamFloat(s);a.setPartsOpacity(u,g?1:0)}},e.prototype.setPartsOpacity=function(t,e){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(c.getID(t))),this._$5S.setPartsOpacity(t,e)},e.prototype.getPartsDataIndex=function(t){return t instanceof c||(t=c.getID(t)),this._$5S.getPartsDataIndex(t)},e.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(c.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},e.prototype.getDrawParam=function(){},e.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(D.getID(t))},e.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},e.prototype.getTransformedPoints=function(t){var e=this._$5S._$C2(t);return e instanceof ct?e.getTransformedPoints():null},e.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var e=this._$5S._$aS[t];return null!=e&&e.getType()==W._$wb&&e instanceof ut?e.getIndexArray():null},i.CHANNEL_COUNT=4,i.RENDER_TEXTURE_USE_MIPMAP=!1,i.NOT_USED_FRAME=-100,i.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;t>=0;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},i.prototype.releaseShader=function(){for(var t=at.frameBuffers.length,e=0;e<t;e++)this.gl.deleteFramebuffer(at.frameBuffers[e].framebuffer);at.frameBuffers=[],at.glContext=[]},i.prototype.init=function(t,e,i){for(var r=0;r<e.length;r++){var o=e[r].getClipIDList();if(null!=o){var a=this.findSameClip(o);null==a&&(a=new n(this,t,o),this.clipContextList.push(a));var s=e[r].getDrawDataID(),l=t.getDrawDataIndex(s);a.addClippedDrawData(s,l),i[r].clipBufPre_clipContext=a}}},i.prototype.getMaskRenderTexture=function(){var t;return t=this.dp_webgl.createFramebuffer(),at.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},i.prototype.setupClip=function(t,e){for(var i=0,n=0;n<this.clipContextList.length;n++){var r=this.clipContextList[n];this.calcClippedDrawTotalBounds(t,r),r.isUsing&&i++}if(i>0){var o=e.gl.getParameter(e.gl.FRAMEBUFFER_BINDING),a=new Array(4);a[0]=0,a[1]=0,a[2]=e.gl.canvas.width,a[3]=e.gl.canvas.height,e.gl.viewport(0,0,at.clippingMaskBufferSize,at.clippingMaskBufferSize),this.setupLayoutBounds(i),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,at.frameBuffers[this.curFrameNo].framebuffer),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT);for(n=0;n<this.clipContextList.length;n++){var s=(r=this.clipContextList[n]).allClippedDrawRect,l=(r.layoutChannelNo,r.layoutBounds);this.tmpBoundsOnModel._$jL(s),this.tmpBoundsOnModel.expand(.05*s.width,.05*s.height);var u=l.width/this.tmpBoundsOnModel.width,c=l.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(u,c,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(u,c,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var h=this.tmpMatrixForMask.getArray(),d=0;d<16;d++)r.matrixForMask[d]=h[d];var f=this.tmpMatrixForDraw.getArray();for(d=0;d<16;d++)r.matrixForDraw[d]=f[d];for(var p=r.clippingMaskDrawIndexList.length,g=0;g<p;g++){var m=r.clippingMaskDrawIndexList[g],_=t.getDrawData(m),v=t._$C2(m);e.setClipBufPre_clipContextForMask(r),_.draw(e,t,v)}}e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,o),e.setClipBufPre_clipContextForMask(null),e.gl.viewport(a[0],a[1],a[2],a[3])}},i.prototype.getColorBuffer=function(){return this.colorBuffer},i.prototype.findSameClip=function(t){for(var e=0;e<this.clipContextList.length;e++){var i=this.clipContextList[e],n=i.clipIDList.length;if(n==t.length){for(var r=0,o=0;o<n;o++)for(var a=i.clipIDList[o],s=0;s<n;s++)if(t[s]==a){r++;break}if(r==n)return i}}return null},i.prototype.calcClippedDrawTotalBounds=function(t,e){for(var i=t._$Ri.getModelImpl().getCanvasWidth(),n=t._$Ri.getModelImpl().getCanvasHeight(),r=i>n?i:n,o=r,a=r,s=0,l=0,u=e.clippedDrawContextList.length,c=0;c<u;c++){var h=e.clippedDrawContextList[c].drawDataIndex,d=t._$C2(h);if(d._$yo()){for(var f=d.getTransformedPoints(),p=f.length,g=[],m=[],_=0,v=B._$i2;v<p;v+=B._$No)g[_]=f[v],m[_]=f[v+1],_++;var y=Math.min.apply(null,g),b=Math.min.apply(null,m),w=Math.max.apply(null,g),E=Math.max.apply(null,m);y<o&&(o=y),b<a&&(a=b),w>s&&(s=w),E>l&&(l=E)}}if(o==r)e.allClippedDrawRect.x=0,e.allClippedDrawRect.y=0,e.allClippedDrawRect.width=0,e.allClippedDrawRect.height=0,e.isUsing=!1;else{var T=s-o,$=l-a;e.allClippedDrawRect.x=o,e.allClippedDrawRect.y=a,e.allClippedDrawRect.width=T,e.allClippedDrawRect.height=$,e.isUsing=!0}},i.prototype.setupLayoutBounds=function(t){var e=t/i.CHANNEL_COUNT,n=t%i.CHANNEL_COUNT;e=~~e,n=~~n;for(var r=0,o=0;o<i.CHANNEL_COUNT;o++){var a=e+(o<n?1:0);if(0==a);else if(1==a){(h=this.clipContextList[r++]).layoutChannelNo=o,h.layoutBounds.x=0,h.layoutBounds.y=0,h.layoutBounds.width=1,h.layoutBounds.height=1}else if(2==a)for(var l=0;l<a;l++){var u=0;c=~~(c=l%2),(h=this.clipContextList[r++]).layoutChannelNo=o,h.layoutBounds.x=.5*c,h.layoutBounds.y=0,h.layoutBounds.width=.5,h.layoutBounds.height=1}else if(a<=4)for(l=0;l<a;l++){c=~~(c=l%2),u=~~(u=l/2),(h=this.clipContextList[r++]).layoutChannelNo=o,h.layoutBounds.x=.5*c,h.layoutBounds.y=.5*u,h.layoutBounds.width=.5,h.layoutBounds.height=.5}else if(a<=9)for(l=0;l<a;l++){var c,h;c=~~(c=l%3),u=~~(u=l/3),(h=this.clipContextList[r++]).layoutChannelNo=o,h.layoutBounds.x=c/3,h.layoutBounds.y=u/3,h.layoutBounds.width=1/3,h.layoutBounds.height=1/3}else s._$li("_$6 _$0P mask count : %d",a)}},n.prototype.addClippedDrawData=function(t,e){var i=new r(t,e);this.clippedDrawContextList.push(i)},a._$JT=function(t,e,i){var n=t/e,r=i/e,o=1-(1-r)*(1-r),a=1-(1-r)*(1-r),s=1/3*(1-r)*o+(r*(2/3)+1/3*(1-r))*(1-o),l=(r+2/3*(1-r))*a+(r*(1/3)+2/3*(1-r))*(1-a);if(n<=0)return 0;if(n>=1)return 1;var u=n*n;return(1-3*l+3*s-0)*(n*u)+(3*l-6*s+0)*u+(3*s-0)*n+0},a.prototype._$a0=function(){},a.prototype.setFadeIn=function(t){this._$dP=t},a.prototype.setFadeOut=function(t){this._$eo=t},a.prototype._$pT=function(t){this._$V0=t},a.prototype.getFadeOut=function(){return this._$eo},a.prototype._$4T=function(){return this._$eo},a.prototype._$mT=function(){return this._$V0},a.prototype.getDurationMSec=function(){return-1},a.prototype.getLoopDurationMSec=function(){return-1},a.prototype.updateParam=function(t,e){if(e._$AT&&!e._$9L){var i=k.getUserTimeMSec();if(e._$z2<0){e._$z2=i,e._$bs=i;var n=this.getDurationMSec();e._$Do<0&&(e._$Do=n<=0?-1:e._$z2+n)}var r=this._$V0;0<=(r=r*(0==this._$dP?1:st._$r2((i-e._$bs)/this._$dP))*(0==this._$eo||e._$Do<0?1:st._$r2((e._$Do-i)/this._$eo)))&&r<=1||console.log("### assert!! ### "),this.updateParamExe(t,i,r,e),e._$Do>0&&e._$Do<i&&(e._$9L=!0)}},a.prototype.updateParamExe=function(t,e,i,n){},s._$8s=0,s._$fT=new Object,s.start=function(t){var e=s._$fT[t];null==e&&((e=new l)._$r=t,s._$fT[t]=e),e._$0S=k.getSystemTimeMSec()},s.dump=function(t){var e=s._$fT[t];if(null!=e){var i=k.getSystemTimeMSec()-e._$0S;return console.log(t+" : "+i+"ms"),i}return-1},s.end=function(t){var e=s._$fT[t];return null!=e?k.getSystemTimeMSec()-e._$0S:-1},s._$li=function(t,e){console.log("_$li : "+t+"\n",e)},s._$Ji=function(t,e){console.log(t,e)},s._$dL=function(t,e){console.log(t,e),console.log("\n")},s._$KL=function(t,e){for(var i=0;i<e;i++)i%16==0&&i>0?console.log("\n"):i%8==0&&i>0&&console.log("  "),console.log("%02X ",255&t[i]);console.log("\n")},s._$nr=function(t,e,i){console.log("%s\n",t);for(var n=e.length,r=0;r<n;++r)console.log("%5d",e[r]),console.log("%s\n",i),console.log(",");console.log("\n")},s._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},u.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},u.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},u.prototype._$EL=function(){return this.x+this.width},u.prototype._$5T=function(){return this.y+this.height},u.prototype._$jL=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},u.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},c.prototype=new et,c._$tP=new Object,c._$27=function(){c._$tP.clear()},c.getID=function(t){var e=c._$tP[t];return null==e&&(e=new c(t),c._$tP[t]=e),e},c.prototype._$3s=function(){return new c},h.prototype=new et,h._$tP=new Object,h._$27=function(){h._$tP.clear()},h.getID=function(t){var e=h._$tP[t];return null==e&&(e=new h(t),h._$tP[t]=e),e},h.prototype._$3s=function(){return new h},d._$42=0,d.prototype._$zP=function(){null==this._$vo&&(this._$vo=new it),null==this._$F2&&(this._$F2=new Array)},d.prototype.getCanvasWidth=function(){return this._$ao},d.prototype.getCanvasHeight=function(){return this._$1S},d.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},d.prototype._$6S=function(t){this._$F2.push(t)},d.prototype._$Xr=function(){return this._$F2},d.prototype._$E2=function(){return this._$vo},f.prototype.setup=function(t,e,i){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=e,this.p1._$p=i,this.p2._$p=i,this.p2.y=t,this.setup())},f.prototype.getPhysicsPoint1=function(){return this.p1},f.prototype.getPhysicsPoint2=function(){return this.p2},f.prototype._$qr=function(){return this._$Db},f.prototype._$pr=function(t){this._$Db=t},f.prototype._$5r=function(){return this._$M2},f.prototype._$Cs=function(){return this._$9b},f.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},f.prototype.addSrcParam=function(t,e,i,n){var r=new _(t,e,i,n);this._$lL.push(r)},f.prototype.addTargetParam=function(t,e,i,n){var r=new y(t,e,i,n);this._$qP.push(r)},f.prototype.update=function(t,e){if(0==this._$iP)return this._$iP=this._$iT=e,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var i=(e-this._$iT)/1e3;if(0!=i){for(var n=this._$lL.length-1;n>=0;--n)this._$lL[n]._$oP(t,this);this._$oo(t,i),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/i,this._$ks=this._$M2}for(n=this._$qP.length-1;n>=0;--n)this._$qP[n]._$YS(t,this);this._$iT=e},f.prototype._$oo=function(t,e){e<.033&&(e=.033);var i=1/e;this.p1.vx=(this.p1.x-this.p1._$s0)*i,this.p1.vy=(this.p1.y-this.p1._$70)*i,this.p1.ax=(this.p1.vx-this.p1._$7L)*i,this.p1.ay=(this.p1.vy-this.p1._$HL)*i,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var n,r,o=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),a=Math.cos(o),s=Math.sin(o),l=9.8*this.p2._$p,u=this._$Db*wt._$bS,c=l*Math.cos(o-u);n=c*s,r=c*a;var h=-this.p1.fx*s*s,d=-this.p1.fy*s*a,f=-this.p2.vx*this._$L2,p=-this.p2.vy*this._$L2;this.p2.fx=n+h+f,this.p2.fy=r+d+p,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*e,this.p2.vy+=this.p2.ay*e,this.p2.x+=this.p2.vx*e,this.p2.y+=this.p2.vy*e;var g=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/g,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/g,this.p2.vx=(this.p2.x-this.p2._$s0)*i,this.p2.vy=(this.p2.y-this.p2._$70)*i,this.p2._$xT()},p.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},g.prototype._$oP=function(t,e){},_.prototype=new g,_.prototype._$oP=function(t,e){var i=this.scale*t.getParamFloat(this._$wL),n=e.getPhysicsPoint1();switch(this._$tL){default:case f.Src.SRC_TO_X:n.x=n.x+(i-n.x)*this._$V0;break;case f.Src.SRC_TO_Y:n.y=n.y+(i-n.y)*this._$V0;break;case f.Src.SRC_TO_G_ANGLE:var r=e._$qr();r+=(i-r)*this._$V0,e._$pr(r)}},v.prototype._$YS=function(t,e){},y.prototype=new v,y.prototype._$YS=function(t,e){switch(this._$YP){default:case f.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*e._$5r(),this._$V0);break;case f.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*e._$Cs(),this._$V0)}},f.Src=function(){},f.Src.SRC_TO_X="SRC_TO_X",f.Src.SRC_TO_Y="SRC_TO_Y",f.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",f.Target=function(){},f.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",f.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",b.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},b.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=F.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},b.prototype._$e=function(){};var xt=function(){};xt._$ni=function(t,e,i,n,r,o,a,s,l){var u=a*o-s*r;if(0==u)return null;var c,h=((t-i)*o-(e-n)*r)/u;return c=0!=r?(t-i-h*a)/r:(e-n-h*s)/o,isNaN(c)&&(c=(t-i-h*a)/r,isNaN(c)&&(c=(e-n-h*s)/o),isNaN(c)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+r),console.log("v1x != 0 ? "+(0!=r)))),null==l?new Array(c,h):(l[0]=c,l[1]=h,l)},w.prototype._$8P=function(){return this.x+.5*this.width},w.prototype._$6P=function(){return this.y+.5*this.height},w.prototype._$EL=function(){return this.x+this.width},w.prototype._$5T=function(){return this.y+this.height},w.prototype._$jL=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},w.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},w.prototype.contains=function(t,e){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},w.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},E._$Z2=function(t,e,i,n){var r=e._$Q2(t,i),o=t._$vs(),a=t._$Tr();if(e._$zr(o,a,r),r<=0)return n[o[0]];if(1==r)return(s=n[o[0]])+((l=n[o[1]])-s)*(y=a[0])|0;if(2==r){var s=n[o[0]],l=n[o[1]],u=n[o[2]],c=n[o[3]];return(E=s+(l-s)*(y=a[0])|0)+((u+(c-u)*y|0)-E)*(b=a[1])|0}if(3==r){var h=n[o[0]],d=n[o[1]],f=n[o[2]],p=n[o[3]],g=n[o[4]],m=n[o[5]],_=n[o[6]],v=n[o[7]];return(E=(s=h+(d-h)*(y=a[0])|0)+((l=f+(p-f)*y|0)-s)*(b=a[1])|0)+(((u=g+(m-g)*y|0)+((c=_+(v-_)*y|0)-u)*b|0)-E)*(w=a[2])|0}if(4==r){var y,b,w,E,T=n[o[0]],$=n[o[1]],x=n[o[2]],S=n[o[3]],C=n[o[4]],k=n[o[5]],L=n[o[6]],A=n[o[7]],M=n[o[8]],P=n[o[9]],D=n[o[10]],R=n[o[11]],O=n[o[12]],I=n[o[13]],N=n[o[14]],B=n[o[15]];return(E=(s=(h=T+($-T)*(y=a[0])|0)+((d=x+(S-x)*y|0)-h)*(b=a[1])|0)+((l=(f=C+(k-C)*y|0)+((p=L+(A-L)*y|0)-f)*b|0)-s)*(w=a[2])|0)+(((u=(g=M+(P-M)*y|0)+((m=D+(R-D)*y|0)-g)*b|0)+((c=(_=O+(I-O)*y|0)+((v=N+(B-N)*y|0)-_)*b|0)-u)*w|0)-E)*a[3]|0}for(var F=1<<r,U=new Float32Array(F),j=0;j<F;j++){for(var H=j,G=1,z=0;z<r;z++)G*=H%2==0?1-a[z]:a[z],H/=2;U[j]=G}for(var q=new Float32Array(F),W=0;W<F;W++)q[W]=n[o[W]];var Y=0;for(W=0;W<F;W++)Y+=U[W]*q[W];return Y+.5|0},E._$br=function(t,e,i,n){var r=e._$Q2(t,i),o=t._$vs(),a=t._$Tr();if(e._$zr(o,a,r),r<=0)return n[o[0]];if(1==r)return(s=n[o[0]])+((l=n[o[1]])-s)*(h=a[0]);if(2==r){var s=n[o[0]],l=n[o[1]],u=n[o[2]],c=n[o[3]],h=a[0];return(1-(b=a[1]))*(s+(l-s)*h)+b*(u+(c-u)*h)}if(3==r){var d=n[o[0]],f=n[o[1]],p=n[o[2]],g=n[o[3]],m=n[o[4]],_=n[o[5]],v=n[o[6]],y=n[o[7]],b=(h=a[0],a[1]);return(1-(N=a[2]))*((1-b)*(d+(f-d)*h)+b*(p+(g-p)*h))+N*((1-b)*(m+(_-m)*h)+b*(v+(y-v)*h))}if(4==r){var w=n[o[0]],E=n[o[1]],T=n[o[2]],$=n[o[3]],x=n[o[4]],S=n[o[5]],C=n[o[6]],k=n[o[7]],L=n[o[8]],A=n[o[9]],M=n[o[10]],P=n[o[11]],D=n[o[12]],R=n[o[13]],O=n[o[14]],I=n[o[15]],N=(h=a[0],b=a[1],a[2]),B=a[3];return(1-B)*((1-N)*((1-b)*(w+(E-w)*h)+b*(T+($-T)*h))+N*((1-b)*(x+(S-x)*h)+b*(C+(k-C)*h)))+B*((1-N)*((1-b)*(L+(A-L)*h)+b*(M+(P-M)*h))+N*((1-b)*(D+(R-D)*h)+b*(O+(I-O)*h)))}for(var F=1<<r,U=new Float32Array(F),j=0;j<F;j++){for(var H=j,G=1,z=0;z<r;z++)G*=H%2==0?1-a[z]:a[z],H/=2;U[j]=G}for(var q=new Float32Array(F),W=0;W<F;W++)q[W]=n[o[W]];var Y=0;for(W=0;W<F;W++)Y+=U[W]*q[W];return Y},E._$Vr=function(t,e,i,n,r,o,a,s){var l=e._$Q2(t,i),u=t._$vs(),c=t._$Tr();e._$zr(u,c,l);var h=2*n,d=a;if(l<=0){var f=r[u[0]];if(2==s&&0==a)k._$jT(f,0,o,0,h);else for(var p=0;p<h;)o[d]=f[p++],o[d+1]=f[p++],d+=s}else if(1==l){f=r[u[0]];var g=r[u[1]],m=1-(y=c[0]);for(p=0;p<h;)o[d]=f[p]*m+g[p]*y,++p,o[d+1]=f[p]*m+g[p]*y,++p,d+=s}else if(2==l){f=r[u[0]],g=r[u[1]];var _=r[u[2]],v=r[u[3]],y=c[0],b=(H=1-(D=c[1]))*(m=1-y),w=H*y,E=D*m,T=D*y;for(p=0;p<h;)o[d]=b*f[p]+w*g[p]+E*_[p]+T*v[p],++p,o[d+1]=b*f[p]+w*g[p]+E*_[p]+T*v[p],++p,d+=s}else if(3==l){var $=r[u[0]],x=r[u[1]],S=r[u[2]],C=r[u[3]],L=r[u[4]],A=r[u[5]],M=r[u[6]],P=r[u[7]],D=(y=c[0],c[1]),R=(G=1-(at=c[2]))*(H=1-D)*(m=1-y),O=G*H*y,I=G*D*m,N=G*D*y,B=at*H*m,F=at*H*y,U=at*D*m,j=at*D*y;for(p=0;p<h;)o[d]=R*$[p]+O*x[p]+I*S[p]+N*C[p]+B*L[p]+F*A[p]+U*M[p]+j*P[p],++p,o[d+1]=R*$[p]+O*x[p]+I*S[p]+N*C[p]+B*L[p]+F*A[p]+U*M[p]+j*P[p],++p,d+=s}else if(4==l){var H,G,z=r[u[0]],q=r[u[1]],W=r[u[2]],Y=r[u[3]],V=r[u[4]],X=r[u[5]],K=r[u[6]],Q=r[u[7]],Z=r[u[8]],J=r[u[9]],tt=r[u[10]],et=r[u[11]],it=r[u[12]],nt=r[u[13]],rt=r[u[14]],ot=r[u[15]],at=(y=c[0],D=c[1],c[2]),st=c[3],lt=1-st,ut=lt*(G=1-at)*(H=1-D)*(m=1-y),ct=lt*G*H*y,ht=lt*G*D*m,dt=lt*G*D*y,ft=lt*at*H*m,pt=lt*at*H*y,gt=lt*at*D*m,mt=lt*at*D*y,_t=st*G*H*m,vt=st*G*H*y,yt=st*G*D*m,bt=st*G*D*y,wt=st*at*H*m,Et=st*at*H*y,Tt=st*at*D*m,$t=st*at*D*y;for(p=0;p<h;)o[d]=ut*z[p]+ct*q[p]+ht*W[p]+dt*Y[p]+ft*V[p]+pt*X[p]+gt*K[p]+mt*Q[p]+_t*Z[p]+vt*J[p]+yt*tt[p]+bt*et[p]+wt*it[p]+Et*nt[p]+Tt*rt[p]+$t*ot[p],++p,o[d+1]=ut*z[p]+ct*q[p]+ht*W[p]+dt*Y[p]+ft*V[p]+pt*X[p]+gt*K[p]+mt*Q[p]+_t*Z[p]+vt*J[p]+yt*tt[p]+bt*et[p]+wt*it[p]+Et*nt[p]+Tt*rt[p]+$t*ot[p],++p,d+=s}else{for(var xt=1<<l,St=new Float32Array(xt),Ct=0;Ct<xt;Ct++){for(var kt=Ct,Lt=1,At=0;At<l;At++)Lt*=kt%2==0?1-c[At]:c[At],kt/=2;St[Ct]=Lt}for(var Mt=new Float32Array(xt),Pt=0;Pt<xt;Pt++)Mt[Pt]=r[u[Pt]];for(p=0;p<h;){var Dt=0,Rt=0,Ot=p+1;for(Pt=0;Pt<xt;Pt++)Dt+=St[Pt]*Mt[Pt][p],Rt+=St[Pt]*Mt[Pt][Ot];p+=2,o[d]=Dt,o[d+1]=Rt,d+=s}}},T.prototype._$HT=function(t,e){this.x=t,this.y=e},T.prototype._$HT=function(t){this.x=t.x,this.y=t.y},$._$ur=-2,$._$ES=500,$._$wb=2,$._$8S=3,$._$52=$._$ES,$._$R2=$._$ES,$._$or=function(){return $._$52},$._$Pr=function(){return $._$R2},$.prototype.convertClipIDForV2_11=function(t){var e=[];return null==t?null:0==t.length?null:/,/.test(t)?e=t.id.split(","):(e.push(t.id),e)},$.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=F._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},$.prototype.getClipIDList=function(){return this.clipIDList},$.prototype.init=function(t){},$.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=E._$Z2(t,this._$GS,e._$IS,this._$Lb),at._$Zs);else if(e._$IS[0])return;e._$7s=E._$br(t,this._$GS,e._$IS,this._$mS)},$.prototype._$2b=function(t,e){},$.prototype.getDrawDataID=function(){return this._$gP},$.prototype._$j2=function(t){this._$gP=t},$.prototype.getOpacity=function(t,e){return e._$7s},$.prototype._$zS=function(t,e){return e._$Us},$.prototype._$MS=function(t){for(var e=t.length-1;e>=0;--e){var i=t[e];i<$._$52?$._$52=i:i>$._$R2&&($._$R2=i)}},$.prototype.getTargetBaseDataID=function(){return this._$dr},$.prototype._$gs=function(t){this._$dr=t},$.prototype._$32=function(){return null!=this._$dr&&this._$dr!=mt._$2o()},$.prototype.preDraw=function(t,e,i){},$.prototype.draw=function(t,e,i){},$.prototype.getType=function(){},$.prototype._$B2=function(t,e,i){},x._$ps=32,x.CLIPPING_PROCESS_NONE=0,x.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,x.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,x.CLIPPING_PROCESS_DRAW=3,x.CLIPPING_PROCESS_CLEAR_ALPHA=4,x.prototype.setChannelFlagAsColor=function(t,e){this.CHANNEL_COLORS[t]=e},x.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},x.prototype._$ZT=function(){},x.prototype._$Uo=function(t,e,i,n,r,o,a){},x.prototype._$Rs=function(){return-1},x.prototype._$Ds=function(t){},x.prototype.setBaseColor=function(t,e,i,n){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),i<0?i=0:i>1&&(i=1),n<0?n=0:n>1&&(n=1),this._$lT=t,this._$C0=e,this._$tT=i,this._$WL=n},x.prototype._$WP=function(t){this.culling=t},x.prototype.setMatrix=function(t){for(var e=0;e<16;e++)this.matrix4x4[e]=t[e]},x.prototype._$IT=function(){return this.matrix4x4},x.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},x.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},x.prototype.setAnisotropy=function(t){this.anisotropy=t},x.prototype.getAnisotropy=function(){return this.anisotropy},x.prototype.getClippingProcess=function(){return this.clippingProcess},x.prototype.setClippingProcess=function(t){this.clippingProcess=t},x.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},x.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},x.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},x.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},C._$ur=-2,C._$c2=1,C._$_b=2,C.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},C.prototype.readV2_opacity=function(t){t.getFormatVersion()>=F.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},C.prototype.init=function(t){},C.prototype._$Nr=function(t,e){},C.prototype.interpolateOpacity=function(t,e,i,n){null==this._$mS?i.setInterpolatedOpacity(1):i.setInterpolatedOpacity(E._$br(t,e,n,this._$mS))},C.prototype._$2b=function(t,e){},C.prototype._$nb=function(t,e,i,n,r,o,a){},C.prototype.getType=function(){},C.prototype._$gs=function(t){this._$dr=t},C.prototype._$a2=function(t){this._$kP=t},C.prototype.getTargetBaseDataID=function(){return this._$dr},C.prototype.getBaseDataID=function(){return this._$kP},C.prototype._$32=function(){return null!=this._$dr&&this._$dr!=mt._$2o()},k._$W2=0,k._$CS=k._$W2,k._$Mo=function(){return!0},k._$XP=function(t){try{for(var e=getTimeMSec();getTimeMSec()-e<t;);}catch(t){t._$Rb()}},k.getUserTimeMSec=function(){return k._$CS==k._$W2?k.getSystemTimeMSec():k._$CS},k.setUserTimeMSec=function(t){k._$CS=t},k.updateUserTimeMSec=function(){return k._$CS=k.getSystemTimeMSec()},k.getTimeMSec=function(){return(new Date).getTime()},k.getSystemTimeMSec=function(){return(new Date).getTime()},k._$Q=function(t){},k._$jT=function(t,e,i,n,r){for(var o=0;o<r;o++)i[n+o]=t[e+o]},L._$ds=-2,L.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},L.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=L._$ds),this._$8o},L.prototype._$Pb=function(t,e){this._$8o=t,this._$2r=e},L.prototype.getParamID=function(){return this._$wL},L.prototype._$yP=function(t){this._$wL=t},L.prototype._$N2=function(){return this._$VP},L.prototype._$d2=function(){return this._$GP},L.prototype._$t2=function(t,e){this._$VP=t,this._$GP=e},L.prototype._$Lr=function(){return this._$O2},L.prototype._$wr=function(t){this._$O2=t},L.prototype._$SL=function(){return this._$ri},L.prototype._$AL=function(t){this._$ri=t},A.startsWith=function(t,e,i){var n=e+i.length;if(n>=t.length)return!1;for(var r=e;r<n;r++)if(A.getChar(t,r)!=i.charAt(r-e))return!1;return!0},A.getChar=function(t,e){return String.fromCharCode(t.getUint8(e))},A.createString=function(t,e,i){for(var n=new ArrayBuffer(2*i),r=new Uint16Array(n),o=0;o<i;o++)r[o]=t.getUint8(e+o);return String.fromCharCode.apply(null,r)},A._$LS=function(t,e,i,n){t instanceof ArrayBuffer&&(t=new DataView(t));var r=i,o=!1,a=!1,s=0,l=A.getChar(t,r);"-"==l&&(o=!0,r++);for(var u=!1;r<e;r++){switch(l=A.getChar(t,r)){case"0":s*=10;break;case"1":s=10*s+1;break;case"2":s=10*s+2;break;case"3":s=10*s+3;break;case"4":s=10*s+4;break;case"5":s=10*s+5;break;case"6":s=10*s+6;break;case"7":s=10*s+7;break;case"8":s=10*s+8;break;case"9":s=10*s+9;break;case".":a=!0,r++,u=!0;break;default:u=!0}if(u)break}if(a)for(var c=.1,h=!1;r<e;r++){switch(l=A.getChar(t,r)){case"0":break;case"1":s+=1*c;break;case"2":s+=2*c;break;case"3":s+=3*c;break;case"4":s+=4*c;break;case"5":s+=5*c;break;case"6":s+=6*c;break;case"7":s+=7*c;break;case"8":s+=8*c;break;case"9":s+=9*c;break;default:h=!0}if(c*=.1,h)break}return o&&(s=-s),n[0]=r,s},M.prototype._$zP=function(){this._$Ob=new Array},M.prototype._$F0=function(t){this._$Ob=t._$nP()},M.prototype._$Ur=function(t){if(t._$WS())return!0;for(var e=t._$v2(),i=this._$Ob.length-1;i>=0;--i){var n=this._$Ob[i].getParamIndex(e);if(n==L._$ds&&(n=t.getParamIndex(this._$Ob[i].getParamID())),t._$Xb(n))return!0}return!1},M.prototype._$Q2=function(t,e){for(var i,n,r=this._$Ob.length,o=t._$v2(),a=0,s=0;s<r;s++){var l=this._$Ob[s];if((i=l.getParamIndex(o))==L._$ds&&(i=t.getParamIndex(l.getParamID()),l._$Pb(i,o)),i<0)throw new Exception("err 23242 : "+l.getParamID());var u=i<0?0:t.getParamFloat(i);n=l._$N2();var c,h,d=l._$d2(),f=-1,p=0;if(n<1);else if(1==n)(c=d[0])-B._$J<u&&u<c+B._$J?(f=0,p=0):(f=0,e[0]=!0);else if(u<(c=d[0])-B._$J)f=0,e[0]=!0;else if(u<c+B._$J)f=0;else{for(var g=!1,m=1;m<n;++m){if(u<(h=d[m])+B._$J){h-B._$J<u?f=m:(f=m-1,p=(u-c)/(h-c),a++),g=!0;break}c=h}g||(f=n-1,p=0,e[0]=!0)}l._$wr(f),l._$AL(p)}return a},M.prototype._$zr=function(t,e,i){var n=1<<i;n+1>B._$Qb&&console.log("err 23245\n");for(var r=this._$Ob.length,o=1,a=1,s=0,l=0;l<n;++l)t[l]=0;for(var u=0;u<r;++u){var c=this._$Ob[u];if(0==c._$SL()){if((h=c._$Lr()*o)<0&&at._$3T)throw new Exception("err 23246");for(l=0;l<n;++l)t[l]+=h}else{var h=o*c._$Lr(),d=o*(c._$Lr()+1);for(l=0;l<n;++l)t[l]+=(l/a|0)%2==0?h:d;e[s++]=c._$SL(),a*=2}o*=c._$N2()}t[n]=65535,e[s]=-1},M.prototype._$h2=function(t,e,i){for(var n=new Float32Array(e),r=0;r<e;++r)n[r]=i[r];var o=new L;o._$yP(t),o._$t2(e,n),this._$Ob.push(o)},M.prototype._$J2=function(t){for(var e=t,i=this._$Ob.length,n=0;n<i;++n){var r=this._$Ob[n],o=r._$N2(),a=e%r._$N2(),s=r._$d2()[a];console.log("%s[%d]=%7.2f / ",r.getParamID(),a,s),e/=o}console.log("\n")},M.prototype.getParamCount=function(){return this._$Ob.length},M.prototype._$zs=function(){return this._$Ob},P.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},P.prototype.getArray=function(){return this.m},P.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},P.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var e=0;e<16;e++)this.m[e]=t[e]},P.prototype.mult=function(t,e,i){return null==e?null:(this==e?this.mult_safe(this.m,t.m,e.m,i):this.mult_fast(this.m,t.m,e.m,i),e)},P.prototype.mult_safe=function(t,e,i,n){if(t==i){var r=new Array(16);this.mult_fast(t,e,r,n);for(var o=15;o>=0;--o)i[o]=r[o]}else this.mult_fast(t,e,i,n)},P.prototype.mult_fast=function(t,e,i,n){n?(i[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2],i[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6],i[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10],i[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],i[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2],i[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6],i[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10],i[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],i[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2],i[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6],i[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10],i[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],i[3]=i[7]=i[11]=0,i[15]=1):(i[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],i[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],i[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],i[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],i[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],i[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],i[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],i[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],i[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],i[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],i[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],i[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],i[3]=t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],i[7]=t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],i[11]=t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],i[15]=t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15])},P.prototype.translate=function(t,e,i){this.m[12]=this.m[0]*t+this.m[4]*e+this.m[8]*i+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*e+this.m[9]*i+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*e+this.m[10]*i+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*e+this.m[11]*i+this.m[15]},P.prototype.scale=function(t,e,i){this.m[0]*=t,this.m[4]*=e,this.m[8]*=i,this.m[1]*=t,this.m[5]*=e,this.m[9]*=i,this.m[2]*=t,this.m[6]*=e,this.m[10]*=i,this.m[3]*=t,this.m[7]*=e,this.m[11]*=i},P.prototype.rotateX=function(t){var e=wt.fcos(t),i=wt._$9(t),n=this.m[4];this.m[4]=n*e+this.m[8]*i,this.m[8]=n*-i+this.m[8]*e,n=this.m[5],this.m[5]=n*e+this.m[9]*i,this.m[9]=n*-i+this.m[9]*e,n=this.m[6],this.m[6]=n*e+this.m[10]*i,this.m[10]=n*-i+this.m[10]*e,n=this.m[7],this.m[7]=n*e+this.m[11]*i,this.m[11]=n*-i+this.m[11]*e},P.prototype.rotateY=function(t){var e=wt.fcos(t),i=wt._$9(t),n=this.m[0];this.m[0]=n*e+this.m[8]*-i,this.m[8]=n*i+this.m[8]*e,n=this.m[1],this.m[1]=n*e+this.m[9]*-i,this.m[9]=n*i+this.m[9]*e,n=m[2],this.m[2]=n*e+this.m[10]*-i,this.m[10]=n*i+this.m[10]*e,n=m[3],this.m[3]=n*e+this.m[11]*-i,this.m[11]=n*i+this.m[11]*e},P.prototype.rotateZ=function(t){var e=wt.fcos(t),i=wt._$9(t),n=this.m[0];this.m[0]=n*e+this.m[4]*i,this.m[4]=n*-i+this.m[4]*e,n=this.m[1],this.m[1]=n*e+this.m[5]*i,this.m[5]=n*-i+this.m[5]*e,n=this.m[2],this.m[2]=n*e+this.m[6]*i,this.m[6]=n*-i+this.m[6]*e,n=this.m[3],this.m[3]=n*e+this.m[7]*i,this.m[7]=n*-i+this.m[7]*e},D.prototype=new et,D._$tP=new Object,D._$27=function(){D._$tP.clear()},D.getID=function(t){var e=D._$tP[t];return null==e&&(e=new D(t),D._$tP[t]=e),e},D.prototype._$3s=function(){return new D},R._$kS=-1,R._$pS=0,R._$hb=1,R.STATE_IDENTITY=0,R._$gb=1,R._$fo=2,R._$go=4,R.prototype.transform=function(t,e,i){var n,r,o,a,s,l,u=0,c=0;switch(this._$hi){default:return;case R._$go|R._$fo|R._$gb:for(n=this._$7,r=this._$H,o=this._$k,a=this._$f,s=this._$g,l=this._$w;--i>=0;){var h=t[u++],d=t[u++];e[c++]=n*h+r*d+o,e[c++]=a*h+s*d+l}return;case R._$go|R._$fo:for(n=this._$7,r=this._$H,a=this._$f,s=this._$g;--i>=0;){h=t[u++],d=t[u++];e[c++]=n*h+r*d,e[c++]=a*h+s*d}return;case R._$go|R._$gb:for(r=this._$H,o=this._$k,a=this._$f,l=this._$w;--i>=0;){h=t[u++];e[c++]=r*t[u++]+o,e[c++]=a*h+l}return;case R._$go:for(r=this._$H,a=this._$f;--i>=0;){h=t[u++];e[c++]=r*t[u++],e[c++]=a*h}return;case R._$fo|R._$gb:for(n=this._$7,o=this._$k,s=this._$g,l=this._$w;--i>=0;)e[c++]=n*t[u++]+o,e[c++]=s*t[u++]+l;return;case R._$fo:for(n=this._$7,s=this._$g;--i>=0;)e[c++]=n*t[u++],e[c++]=s*t[u++];return;case R._$gb:for(o=this._$k,l=this._$w;--i>=0;)e[c++]=t[u++]+o,e[c++]=t[u++]+l;return;case R.STATE_IDENTITY:return void(t==e&&u==c||k._$jT(t,u,e,c,2*i))}},R.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=R.STATE_IDENTITY,this._$Z=R._$pS):(this._$hi=R._$gb,this._$Z=R._$hb):0==this._$k&&0==this._$w?(this._$hi=R._$fo,this._$Z=R._$kS):(this._$hi=R._$fo|R._$gb,this._$Z=R._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=R._$go,this._$Z=R._$kS):(this._$hi=R._$go|R._$gb,this._$Z=R._$kS):0==this._$k&&0==this._$w?(this._$hi=R._$go|R._$fo,this._$Z=R._$kS):(this._$hi=R._$go|R._$fo|R._$gb,this._$Z=R._$kS)},R.prototype._$RT=function(t){this._$IT(t);var e=t[0],i=t[2],n=t[1],r=t[3],o=Math.sqrt(e*e+n*n),a=e*r-i*n;0==o?at._$so&&console.log("affine._$RT() / rt==0"):(t[0]=o,t[1]=a/o,t[2]=(n*r+e*i)/a,t[3]=Math.atan2(n,e))},R.prototype._$ho=function(t,e,i,n){var r=new Float32Array(6),o=new Float32Array(6);t._$RT(r),e._$RT(o);var a=new Float32Array(6);a[0]=r[0]+(o[0]-r[0])*i,a[1]=r[1]+(o[1]-r[1])*i,a[2]=r[2]+(o[2]-r[2])*i,a[3]=r[3]+(o[3]-r[3])*i,a[4]=r[4]+(o[4]-r[4])*i,a[5]=r[5]+(o[5]-r[5])*i,n._$CT(a)},R.prototype._$CT=function(t){var e=Math.cos(t[3]),i=Math.sin(t[3]);this._$7=t[0]*e,this._$f=t[0]*i,this._$H=t[1]*(t[2]*e-i),this._$g=t[1]*(t[2]*i+e),this._$k=t[4],this._$w=t[5],this.update()},R.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},O.prototype=new a,O._$cs="VISIBLE:",O._$ar="LAYOUT:",O._$Co=0,O._$D2=[],O._$1T=1,O.loadMotion=function(t){var e=new O,i=[0],n=t.length;e._$yT=0;for(var r=0;r<n;++r){var o=255&t[r];if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if("a"<=o&&o<="z"||"A"<=o&&o<="Z"||"_"==o){for(var a=r,s=-1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){s=r;break}if(s>=0){var l=new N;A.startsWith(t,a,O._$cs)?(l._$RP=N._$hs,l._$4P=new String(t,a,s-a)):A.startsWith(t,a,O._$ar)?(l._$4P=new String(t,a+7,s-a-7),A.startsWith(t,a+7,"ANCHOR_X")?l._$RP=N._$xs:A.startsWith(t,a+7,"ANCHOR_Y")?l._$RP=N._$us:A.startsWith(t,a+7,"SCALE_X")?l._$RP=N._$qs:A.startsWith(t,a+7,"SCALE_Y")?l._$RP=N._$Ys:A.startsWith(t,a+7,"X")?l._$RP=N._$ws:A.startsWith(t,a+7,"Y")&&(l._$RP=N._$Ns)):(l._$RP=N._$Fr,l._$4P=new String(t,a,s-a)),e.motions.push(l);var u=0;for(O._$D2.clear(),r=s+1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var c=A._$LS(t,n,r,i);if(i[0]>0){O._$D2.push(c),u++;var h=i[0];if(h<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=h}}l._$I0=O._$D2._$BL(),u>e._$yT&&(e._$yT=u)}}}else{for(a=r,s=-1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if("="==o){s=r;break}var d=!1;if(s>=0)for(s==a+4&&"f"==t[a+1]&&"p"==t[a+2]&&"s"==t[a+3]&&(d=!0),r=s+1;r<n&&"\r"!=(o=255&t[r])&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){c=A._$LS(t,n,r,i);i[0]>0&&d&&5<c&&c<121&&(e._$D0=c),r=i[0]}for(;r<n&&"\n"!=t[r]&&"\r"!=t[r];++r);}else for(;r<n&&"\n"!=t[r]&&"\r"!=t[r];++r);}return e._$AS=1e3*e._$yT/e._$D0|0,e},O.prototype.getDurationMSec=function(){return this._$AS},O.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var i=0;i<e._$I0.length&&i<10;i++)console.log("%5.2f ,",e._$I0[i]);console.log("\n")}},O.prototype.updateParamExe=function(t,e,i,n){for(var r=(e-n._$z2)*this._$D0/1e3,o=0|r,a=r-o,s=0;s<this.motions.length;s++){var l=this.motions[s],u=l._$I0.length,c=l._$4P;if(l._$RP==N._$hs){var h=l._$I0[o>=u?u-1:o];t.setParamFloat(c,h)}else if(N._$ws<=l._$RP&&l._$RP<=N._$Ys);else{var d=t.getParamFloat(c),f=l._$I0[o>=u?u-1:o],p=d+(f+(l._$I0[o+1>=u?u-1:o+1]-f)*a-d)*i;t.setParamFloat(c,p)}}o>=this._$yT&&(this._$E?(n._$z2=e,this.loopFadeIn&&(n._$bs=e)):n._$9L=!0)},O.prototype._$r0=function(){return this._$E},O.prototype._$aL=function(t){this._$E=t},O.prototype.isLoopFadeIn=function(){return this.loopFadeIn},O.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},I.prototype.clear=function(){this.size=0},I.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);k._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},I.prototype._$BL=function(){var t=new Float32Array(this.size);return k._$jT(this._$P,0,t,0,this.size),t},N._$Fr=0,N._$hs=1,N._$ws=100,N._$Ns=101,N._$xs=102,N._$us=103,N._$qs=104,N._$Ys=105,B._$Ms=1,B._$Qs=2,B._$i2=0,B._$No=2,B._$do=B._$Ms,B._$Ls=!0,B._$1r=5,B._$Qb=65,B._$J=1e-4,B._$FT=.001,B._$Ss=3,F._$o7=6,F._$S7=7,F._$s7=8,F._$77=9,F.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,F.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,F._$T7=F.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,F._$Is=-2004318072,F._$h0=0,F._$4L=23,F._$7P=33,F._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",t)},F._$9o=function(t){if(t<40)return F._$uT(t),null;if(t<50)return F._$uT(t),null;if(t<60)return F._$uT(t),null;if(t<100)switch(t){case 65:return new Q;case 66:return new M;case 67:return new L;case 68:return new z;case 69:return new b;case 70:return new ut;default:return F._$uT(t),null}else if(t<150)switch(t){case 131:return new rt;case 133:return new J;case 136:return new d;case 137:return new it;case 142:return new Y}return F._$uT(t),null},U._$HP=0,U._$_0=!0,U._$V2=-1,U._$W0=-1,U._$jr=!1,U._$ZS=!0,U._$tr=-1e6,U._$lr=1e6,U._$is=32,U._$e=!1,U.prototype.getDrawDataIndex=function(t){for(var e=this._$aS.length-1;e>=0;--e)if(null!=this._$aS[e]&&this._$aS[e].getDrawDataID()==t)return e;return-1},U.prototype.getDrawData=function(t){if(t instanceof D){if(null==this._$Bo){this._$Bo=new Object;for(var e=this._$aS.length,i=0;i<e;i++){var n=this._$aS[i],r=n.getDrawDataID();null!=r&&(this._$Bo[r]=n)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},U.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},U.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var t=this._$Ri.getModelImpl(),e=t._$Xr(),n=e.length,r=new Array,o=new Array,a=0;a<n;++a){var s=e[a];this._$F2.push(s),this._$Hr.push(s.init(this));for(var l=s.getBaseData(),u=l.length,c=0;c<u;++c)r.push(l[c]);for(c=0;c<u;++c){var h=l[c].init(this);h._$l2(a),o.push(h)}var d=s.getDrawData(),f=d.length;for(c=0;c<f;++c){var p=d[c],g=p.init(this);g._$IP=a,this._$aS.push(p),this._$8b.push(g)}}for(var m=r.length,_=mt._$2o();;){var v=!1;for(a=0;a<m;++a){var y=r[a];if(null!=y){var b=y.getTargetBaseDataID();(null==b||b==_||this.getBaseDataIndex(b)>=0)&&(this._$3S.push(y),this._$db.push(o[a]),r[a]=null,v=!0)}}if(!v)break}var w=t._$E2();if(null!=w){var E=w._$1s();if(null!=E){var T=E.length;for(a=0;a<T;++a){var $=E[a];null!=$&&this._$02($.getParamID(),$.getDefaultValue(),$.getMinValue(),$.getMaxValue())}}}this.clipManager=new i(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},U.prototype.update=function(){U._$e&&s.start("_$zL");for(var t=this._$_2.length,e=0;e<t;e++)this._$_2[e]!=this._$vr[e]&&(this._$Js[e]=U._$ZS,this._$vr[e]=this._$_2[e]);var i=this._$3S.length,n=this._$aS.length,r=W._$or(),o=W._$Pr()-r+1;(null==this._$Ws||this._$Ws.length<o)&&(this._$Ws=new Int16Array(o),this._$Vs=new Int16Array(o));for(e=0;e<o;e++)this._$Ws[e]=U._$V2,this._$Vs[e]=U._$V2;(null==this._$Er||this._$Er.length<n)&&(this._$Er=new Int16Array(n));for(e=0;e<n;e++)this._$Er[e]=U._$W0;U._$e&&s.dump("_$zL"),U._$e&&s.start("_$UL");for(var a=null,l=0;l<i;++l){var u=this._$3S[l],c=this._$db[l];try{u._$Nr(this,c),u._$2b(this,c)}catch(t){null==a&&(a=t)}}null!=a&&U._$_0&&s._$Rb(a),U._$e&&s.dump("_$UL"),U._$e&&s.start("_$DL");for(var h=null,d=0;d<n;++d){var f=this._$aS[d],p=this._$8b[d];try{if(f._$Nr(this,p),p._$u2())continue;f._$2b(this,p);var g,m=Math.floor(f._$zS(this,p)-r);try{g=this._$Vs[m]}catch(t){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",t.toString(),f.getDrawDataID().toString()),m=Math.floor(f._$zS(this,p)-r);continue}g==U._$V2?this._$Ws[m]=d:this._$Er[g]=d,this._$Vs[m]=d}catch(t){null==h&&(h=t,at._$sT(at._$H7))}}null!=h&&U._$_0&&s._$Rb(h),U._$e&&s.dump("_$DL"),U._$e&&s.start("_$eL");for(e=this._$Js.length-1;e>=0;e--)this._$Js[e]=U._$jr;return this._$QT=!1,U._$e&&s.dump("_$eL"),!1},U.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},U.prototype.draw=function(t){if(null!=this._$Ws){var e=this._$Ws.length;t._$ZT();for(var i=0;i<e;++i){var n=this._$Ws[i];if(n!=U._$V2)for(;;){var r=this._$aS[n],o=this._$8b[n];if(o._$yo()){var a=o._$IP,l=this._$Hr[a];o._$VS=l.getPartsOpacity(),r.draw(t,this,o)}var u=this._$Er[n];if(u<=n||u==U._$W0)break;n=u}}}else s._$li("call _$Ri.update() before _$Ri.draw() ")},U.prototype.getParamIndex=function(t){for(var e=this._$pb.length-1;e>=0;--e)if(this._$pb[e]==t)return e;return this._$02(t,0,U._$tr,U._$lr)},U.prototype._$BS=function(t){return this.getBaseDataIndex(t)},U.prototype.getBaseDataIndex=function(t){for(var e=this._$3S.length-1;e>=0;--e)if(null!=this._$3S[e]&&this._$3S[e].getBaseDataID()==t)return e;return-1},U.prototype._$UT=function(t,e){var i=new Float32Array(e);return k._$jT(t,0,i,0,t.length),i},U.prototype._$02=function(t,e,i,n){if(this._$qo>=this._$pb.length){var r=this._$pb.length,o=new Array(2*r);k._$jT(this._$pb,0,o,0,r),this._$pb=o,this._$_2=this._$UT(this._$_2,2*r),this._$vr=this._$UT(this._$vr,2*r),this._$Rr=this._$UT(this._$Rr,2*r),this._$Or=this._$UT(this._$Or,2*r);var a=new Array;k._$jT(this._$Js,0,a,0,r),this._$Js=a}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=e,this._$vr[this._$qo]=e,this._$Rr[this._$qo]=i,this._$Or[this._$qo]=n,this._$Js[this._$qo]=U._$ZS,this._$qo++},U.prototype._$Zo=function(t,e){this._$3S[t]=e},U.prototype.setParamFloat=function(t,e){e<this._$Rr[t]&&(e=this._$Rr[t]),e>this._$Or[t]&&(e=this._$Or[t]),this._$_2[t]=e},U.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),k._$jT(this._$fs,0,this._$_2,0,t)},U.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),k._$jT(this._$_2,0,this._$fs,0,t)},U.prototype._$v2=function(){return this._$co},U.prototype._$WS=function(){return this._$QT},U.prototype._$Xb=function(t){return this._$Js[t]==U._$ZS},U.prototype._$vs=function(){return this._$Es},U.prototype._$Tr=function(){return this._$ZP},U.prototype.getBaseData=function(t){return this._$3S[t]},U.prototype.getParamFloat=function(t){return this._$_2[t]},U.prototype.getParamMax=function(t){return this._$Or[t]},U.prototype.getParamMin=function(t){return this._$Rr[t]},U.prototype.setPartsOpacity=function(t,e){this._$Hr[t].setPartsOpacity(e)},U.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},U.prototype.getPartsDataIndex=function(t){for(var e=this._$F2.length-1;e>=0;--e)if(null!=this._$F2[e]&&this._$F2[e]._$p2()==t)return e;return-1},U.prototype._$q2=function(t){return this._$db[t]},U.prototype._$C2=function(t){return this._$8b[t]},U.prototype._$Bb=function(t){return this._$Hr[t]},U.prototype._$5s=function(t,e){for(var i=this._$Ws.length,n=t,r=0;r<i;++r){var o=this._$Ws[r];if(o!=U._$V2)for(;;){var a=this._$8b[o];a._$yo()&&(a._$GT()._$B2(this,a,n),n+=e);var s=this._$Er[o];if(s<=o||s==U._$W0)break;o=s}}},U.prototype.setDrawParam=function(t){this.dp_webgl=t},U.prototype.getDrawParam=function(){return this.dp_webgl},j._$0T=function(t){return j._$0T(new _$5(t))},j._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var e,i=t.length(),n=new Int8Array(i),r=new _$Xs(new _$kb(t),8192),o=0;(e=r.read(n,o,i-o))>0;)o+=e;return n},j._$C=function(t){var e=null,i=null;try{e=t instanceof Array?t:new _$Xs(t,8192),i=new _$js;for(var n,r=new Int8Array(1e3);(n=e.read(r))>0;)i.write(r,0,n);return i._$TS()}finally{null!=t&&t.close(),null!=i&&(i.flush(),i.close())}},H.prototype._$T2=function(){return k.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},H.prototype._$uo=function(t){this._$Br=t},H.prototype._$QS=function(t,e,i){this._$Dr=t,this._$Cb=e,this._$mr=i},H.prototype._$7T=function(t){var e,i=k.getUserTimeMSec(),n=0;switch(this._$_L){case STATE_CLOSING:(n=(i-this._$bb)/this._$Dr)>=1&&(n=1,this._$_L=St.STATE_CLOSED,this._$bb=i),e=1-n;break;case STATE_CLOSED:(n=(i-this._$bb)/this._$Cb)>=1&&(this._$_L=St.STATE_OPENING,this._$bb=i),e=0;break;case STATE_OPENING:(n=(i-this._$bb)/this._$mr)>=1&&(n=1,this._$_L=St.STATE_INTERVAL,this._$12=this._$T2()),e=n;break;case STATE_INTERVAL:this._$12<i&&(this._$_L=St.STATE_CLOSING,this._$bb=i),e=1;break;case STATE_FIRST:default:this._$_L=St.STATE_INTERVAL,this._$12=this._$T2(),e=1}this._$jo||(e=-e),t.setParamFloat(this._$iL,e),t.setParamFloat(this._$0L,e)};var St=function(){};St.STATE_FIRST="STATE_FIRST",St.STATE_INTERVAL="STATE_INTERVAL",St.STATE_CLOSING="STATE_CLOSING",St.STATE_CLOSED="STATE_CLOSED",St.STATE_OPENING="STATE_OPENING",G.prototype=new x,G._$As=32,G._$Gr=!1,G._$NT=null,G._$vS=null,G._$no=null,G._$9r=function(t){return new Float32Array(t)},G._$vb=function(t){return new Int16Array(t)},G._$cr=function(t,e){return null==t||t._$yL()<e.length?((t=G._$9r(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},G._$mb=function(t,e){return null==t||t._$yL()<e.length?((t=G._$vb(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},G._$Hs=function(){return G._$Gr},G._$as=function(t){G._$Gr=t},G.prototype.setGL=function(t){this.gl=t},G.prototype.setTransform=function(t){this.transform=t},G.prototype._$ZT=function(){},G.prototype._$Uo=function(t,e,i,n,r,o,a,s){if(!(o<.01)){var l=this._$U2[t],u=o>.9?at.EXPAND_W:0;this.gl.drawElements(l,i,n,r,o,u,this.transform,s)}},G.prototype._$Rs=function(){throw new Error("_$Rs")},G.prototype._$Ds=function(t){throw new Error("_$Ds")},G.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++)0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)},G.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=e},G.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=e},G.prototype._$nS=function(t){var e=Math.max(2*this._$sb.length,t+1+10),i=new Int32Array(e);k._$jT(this._$sb,0,i,0,this._$sb.length),this._$sb=i;var n=new Array;k._$jT(this._$U2,0,n,0,this._$U2.length),this._$U2=n},z.prototype=new C,z._$Xo=new Float32Array(2),z._$io=new Float32Array(2),z._$0o=new Float32Array(2),z._$Lo=new Float32Array(2),z._$To=new Float32Array(2),z._$Po=new Float32Array(2),z._$gT=new Array,z.prototype._$zP=function(){this._$GS=new M,this._$GS._$zP(),this._$Y0=new Array},z.prototype.getType=function(){return C._$c2},z.prototype._$F0=function(t){C.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),C.prototype.readV2_opacity.call(this,t)},z.prototype.init=function(t){var e=new q(this);return e._$Yr=new b,this._$32()&&(e._$Wr=new b),e},z.prototype._$Nr=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var i=e;if(this._$GS._$Ur(t)){var n=z._$gT;n[0]=!1;var r=this._$GS._$Q2(t,n);e._$Ib(n[0]),this.interpolateOpacity(t,this._$GS,e,n);var o=t._$vs(),a=t._$Tr();if(this._$GS._$zr(o,a,r),r<=0){var s=this._$Y0[o[0]];i._$Yr.init(s)}else if(1==r){s=this._$Y0[o[0]];var l=this._$Y0[o[1]],u=a[0];i._$Yr._$fL=s._$fL+(l._$fL-s._$fL)*u,i._$Yr._$gL=s._$gL+(l._$gL-s._$gL)*u,i._$Yr._$B0=s._$B0+(l._$B0-s._$B0)*u,i._$Yr._$z0=s._$z0+(l._$z0-s._$z0)*u,i._$Yr._$qT=s._$qT+(l._$qT-s._$qT)*u}else if(2==r){s=this._$Y0[o[0]],l=this._$Y0[o[1]];var c=this._$Y0[o[2]],h=this._$Y0[o[3]],d=(u=a[0],a[1]),f=s._$fL+(l._$fL-s._$fL)*u,p=c._$fL+(h._$fL-c._$fL)*u;i._$Yr._$fL=f+(p-f)*d,f=s._$gL+(l._$gL-s._$gL)*u,p=c._$gL+(h._$gL-c._$gL)*u,i._$Yr._$gL=f+(p-f)*d,f=s._$B0+(l._$B0-s._$B0)*u,p=c._$B0+(h._$B0-c._$B0)*u,i._$Yr._$B0=f+(p-f)*d,f=s._$z0+(l._$z0-s._$z0)*u,p=c._$z0+(h._$z0-c._$z0)*u,i._$Yr._$z0=f+(p-f)*d,f=s._$qT+(l._$qT-s._$qT)*u,p=c._$qT+(h._$qT-c._$qT)*u,i._$Yr._$qT=f+(p-f)*d}else if(3==r){var g=this._$Y0[o[0]],m=this._$Y0[o[1]],_=this._$Y0[o[2]],v=this._$Y0[o[3]],y=this._$Y0[o[4]],b=this._$Y0[o[5]],w=this._$Y0[o[6]],E=this._$Y0[o[7]],T=(u=a[0],d=a[1],a[2]),$=(f=g._$fL+(m._$fL-g._$fL)*u,p=_._$fL+(v._$fL-_._$fL)*u,y._$fL+(b._$fL-y._$fL)*u),x=w._$fL+(E._$fL-w._$fL)*u;i._$Yr._$fL=(1-T)*(f+(p-f)*d)+T*($+(x-$)*d),f=g._$gL+(m._$gL-g._$gL)*u,p=_._$gL+(v._$gL-_._$gL)*u,$=y._$gL+(b._$gL-y._$gL)*u,x=w._$gL+(E._$gL-w._$gL)*u,i._$Yr._$gL=(1-T)*(f+(p-f)*d)+T*($+(x-$)*d),f=g._$B0+(m._$B0-g._$B0)*u,p=_._$B0+(v._$B0-_._$B0)*u,$=y._$B0+(b._$B0-y._$B0)*u,x=w._$B0+(E._$B0-w._$B0)*u,i._$Yr._$B0=(1-T)*(f+(p-f)*d)+T*($+(x-$)*d),f=g._$z0+(m._$z0-g._$z0)*u,p=_._$z0+(v._$z0-_._$z0)*u,$=y._$z0+(b._$z0-y._$z0)*u,x=w._$z0+(E._$z0-w._$z0)*u,i._$Yr._$z0=(1-T)*(f+(p-f)*d)+T*($+(x-$)*d),f=g._$qT+(m._$qT-g._$qT)*u,p=_._$qT+(v._$qT-_._$qT)*u,$=y._$qT+(b._$qT-y._$qT)*u,x=w._$qT+(E._$qT-w._$qT)*u,i._$Yr._$qT=(1-T)*(f+(p-f)*d)+T*($+(x-$)*d)}else if(4==r){var S=this._$Y0[o[0]],C=this._$Y0[o[1]],k=this._$Y0[o[2]],L=this._$Y0[o[3]],A=this._$Y0[o[4]],M=this._$Y0[o[5]],P=this._$Y0[o[6]],D=this._$Y0[o[7]],R=this._$Y0[o[8]],O=this._$Y0[o[9]],I=this._$Y0[o[10]],N=this._$Y0[o[11]],B=this._$Y0[o[12]],F=this._$Y0[o[13]],U=this._$Y0[o[14]],j=this._$Y0[o[15]],H=(u=a[0],d=a[1],T=a[2],a[3]),G=(f=S._$fL+(C._$fL-S._$fL)*u,p=k._$fL+(L._$fL-k._$fL)*u,$=A._$fL+(M._$fL-A._$fL)*u,x=P._$fL+(D._$fL-P._$fL)*u,R._$fL+(O._$fL-R._$fL)*u),q=I._$fL+(N._$fL-I._$fL)*u,W=B._$fL+(F._$fL-B._$fL)*u,Y=U._$fL+(j._$fL-U._$fL)*u;i._$Yr._$fL=(1-H)*((1-T)*(f+(p-f)*d)+T*($+(x-$)*d))+H*((1-T)*(G+(q-G)*d)+T*(W+(Y-W)*d)),f=S._$gL+(C._$gL-S._$gL)*u,p=k._$gL+(L._$gL-k._$gL)*u,$=A._$gL+(M._$gL-A._$gL)*u,x=P._$gL+(D._$gL-P._$gL)*u,G=R._$gL+(O._$gL-R._$gL)*u,q=I._$gL+(N._$gL-I._$gL)*u,W=B._$gL+(F._$gL-B._$gL)*u,Y=U._$gL+(j._$gL-U._$gL)*u,i._$Yr._$gL=(1-H)*((1-T)*(f+(p-f)*d)+T*($+(x-$)*d))+H*((1-T)*(G+(q-G)*d)+T*(W+(Y-W)*d)),f=S._$B0+(C._$B0-S._$B0)*u,p=k._$B0+(L._$B0-k._$B0)*u,$=A._$B0+(M._$B0-A._$B0)*u,x=P._$B0+(D._$B0-P._$B0)*u,G=R._$B0+(O._$B0-R._$B0)*u,q=I._$B0+(N._$B0-I._$B0)*u,W=B._$B0+(F._$B0-B._$B0)*u,Y=U._$B0+(j._$B0-U._$B0)*u,i._$Yr._$B0=(1-H)*((1-T)*(f+(p-f)*d)+T*($+(x-$)*d))+H*((1-T)*(G+(q-G)*d)+T*(W+(Y-W)*d)),f=S._$z0+(C._$z0-S._$z0)*u,p=k._$z0+(L._$z0-k._$z0)*u,$=A._$z0+(M._$z0-A._$z0)*u,x=P._$z0+(D._$z0-P._$z0)*u,G=R._$z0+(O._$z0-R._$z0)*u,q=I._$z0+(N._$z0-I._$z0)*u,W=B._$z0+(F._$z0-B._$z0)*u,Y=U._$z0+(j._$z0-U._$z0)*u,i._$Yr._$z0=(1-H)*((1-T)*(f+(p-f)*d)+T*($+(x-$)*d))+H*((1-T)*(G+(q-G)*d)+T*(W+(Y-W)*d)),f=S._$qT+(C._$qT-S._$qT)*u,p=k._$qT+(L._$qT-k._$qT)*u,$=A._$qT+(M._$qT-A._$qT)*u,x=P._$qT+(D._$qT-P._$qT)*u,G=R._$qT+(O._$qT-R._$qT)*u,q=I._$qT+(N._$qT-I._$qT)*u,W=B._$qT+(F._$qT-B._$qT)*u,Y=U._$qT+(j._$qT-U._$qT)*u,i._$Yr._$qT=(1-H)*((1-T)*(f+(p-f)*d)+T*($+(x-$)*d))+H*((1-T)*(G+(q-G)*d)+T*(W+(Y-W)*d))}else{for(var V=0|Math.pow(2,r),X=new Float32Array(V),K=0;K<V;K++){for(var Q=K,Z=1,J=0;J<r;J++)Z*=Q%2==0?1-a[J]:a[J],Q/=2;X[K]=Z}for(var tt=new Array,et=0;et<V;et++)tt[et]=this._$Y0[o[et]];var it=0,nt=0,rt=0,ot=0,at=0;for(et=0;et<V;et++)it+=X[et]*tt[et]._$fL,nt+=X[et]*tt[et]._$gL,rt+=X[et]*tt[et]._$B0,ot+=X[et]*tt[et]._$z0,at+=X[et]*tt[et]._$qT;i._$Yr._$fL=it,i._$Yr._$gL=nt,i._$Yr._$B0=rt,i._$Yr._$z0=ot,i._$Yr._$qT=at}s=this._$Y0[o[0]];i._$Yr.reflectX=s.reflectX,i._$Yr.reflectY=s.reflectY}},z.prototype._$2b=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var i=e;if(i._$hS(!0),this._$32()){var n=this.getTargetBaseDataID();if(i._$8r==C._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)at._$so&&s._$li("_$L _$0P _$G :: %s",n),i._$hS(!1);else{var r=t.getBaseData(i._$8r);if(null!=r){var o=t._$q2(i._$8r),a=z._$Xo;a[0]=i._$Yr._$fL,a[1]=i._$Yr._$gL;var l=z._$io;l[0]=0,l[1]=-.1,o._$GT().getType()==C._$c2?l[1]=-10:l[1]=-.1;var u=z._$0o;this._$Jr(t,r,o,a,l,u);var c=wt._$92(l,u);r._$nb(t,o,a,a,1,0,2),i._$Wr._$fL=a[0],i._$Wr._$gL=a[1],i._$Wr._$B0=i._$Yr._$B0,i._$Wr._$z0=i._$Yr._$z0,i._$Wr._$qT=i._$Yr._$qT-c*wt._$NS;var h=o.getTotalScale();i.setTotalScale_notForClient(h*i._$Wr._$B0);var d=o.getTotalOpacity();i.setTotalOpacity(d*i.getInterpolatedOpacity()),i._$Wr.reflectX=i._$Yr.reflectX,i._$Wr.reflectY=i._$Yr.reflectY,i._$hS(o._$yo())}else i._$hS(!1)}}else i.setTotalScale_notForClient(i._$Yr._$B0),i.setTotalOpacity(i.getInterpolatedOpacity())},z.prototype._$nb=function(t,e,i,n,r,o,a){this!=e._$GT()&&console.log("### assert!! ### ");for(var s,l,u=e,c=null!=u._$Wr?u._$Wr:u._$Yr,h=Math.sin(wt._$bS*c._$qT),d=Math.cos(wt._$bS*c._$qT),f=u.getTotalScale(),p=c.reflectX?-1:1,g=c.reflectY?-1:1,m=d*f*p,_=-h*f*g,v=h*f*p,y=d*f*g,b=c._$fL,w=c._$gL,E=r*a,T=o;T<E;T+=a)s=i[T],l=i[T+1],n[T]=m*s+_*l+b,n[T+1]=v*s+y*l+w},z.prototype._$Jr=function(t,e,i,n,r,o){e!=i._$GT()&&console.log("### assert!! ### ");var a=z._$Lo;z._$Lo[0]=n[0],z._$Lo[1]=n[1],e._$nb(t,i,a,a,1,0,2);for(var s=z._$To,l=z._$Po,u=1,c=0;c<10;c++){if(l[0]=n[0]+u*r[0],l[1]=n[1]+u*r[1],e._$nb(t,i,l,s,1,0,2),s[0]-=a[0],s[1]-=a[1],0!=s[0]||0!=s[1])return o[0]=s[0],void(o[1]=s[1]);if(l[0]=n[0]-u*r[0],l[1]=n[1]-u*r[1],e._$nb(t,i,l,s,1,0,2),s[0]-=a[0],s[1]-=a[1],0!=s[0]||0!=s[1])return s[0]=-s[0],s[0]=-s[0],o[0]=s[0],void(o[1]=s[1]);u*=.1}at._$so&&console.log("_$L0 to transform _$SP\n")},q.prototype=new ot,W.prototype=new $,W._$ur=-2,W._$ES=500,W._$wb=2,W._$8S=3,W._$os=4,W._$52=W._$ES,W._$R2=W._$ES,W._$Sb=function(t){for(var e=t.length-1;e>=0;--e){var i=t[e];i<W._$52?W._$52=i:i>W._$R2&&(W._$R2=i)}},W._$or=function(){return W._$52},W._$Pr=function(){return W._$R2},W.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=F._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,W._$Sb(this._$Lb)},W.prototype.getClipIDList=function(){return this.clipIDList},W.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=E._$Z2(t,this._$GS,e._$IS,this._$Lb),at._$Zs);else if(e._$IS[0])return;e._$7s=E._$br(t,this._$GS,e._$IS,this._$mS)},W.prototype._$2b=function(t){},W.prototype.getDrawDataID=function(){return this._$gP},W.prototype._$j2=function(t){this._$gP=t},W.prototype.getOpacity=function(t,e){return e._$7s},W.prototype._$zS=function(t,e){return e._$Us},W.prototype.getTargetBaseDataID=function(){return this._$dr},W.prototype._$gs=function(t){this._$dr=t},W.prototype._$32=function(){return null!=this._$dr&&this._$dr!=mt._$2o()},W.prototype.getType=function(){},Y._$42=0,Y.prototype._$1b=function(){return this._$3S},Y.prototype.getDrawDataList=function(){return this._$aS},Y.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},Y.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},V.prototype=new e,V.loadModel=function(t){var i=new V;return e._$62(i,t),i},V.loadModel=function(t){var i=new V;return e._$62(i,t),i},V._$to=function(){return new V},V._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var i=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],n=V.loadModel(e._$3b()),r=0;r<i.length;r++){var o=new _$5(i[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());n.setTexture(r,_$nL._$_o(t,o._$3b()))}return n},V.prototype.setGL=function(t){this._$zo.setGL(t)},V.prototype.setTransform=function(t){this._$zo.setTransform(t)},V.prototype.draw=function(){this._$5S.draw(this._$zo)},V.prototype._$K2=function(){this._$zo._$K2()},V.prototype.setTexture=function(t,e){null==this._$zo&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},V.prototype.setTexture=function(t,e){null==this._$zo&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},V.prototype._$Rs=function(){return this._$zo._$Rs()},V.prototype._$Ds=function(t){this._$zo._$Ds(t)},V.prototype.getDrawParam=function(){return this._$zo},X.prototype=new a,X._$cs="VISIBLE:",X._$ar="LAYOUT:",X.MTN_PREFIX_FADEIN="FADEIN:",X.MTN_PREFIX_FADEOUT="FADEOUT:",X._$Co=0,X._$1T=1,X.loadMotion=function(t){var e=j._$C(t);return X.loadMotion(e)},X.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var e=new X,i=[0],n=t.byteLength;e._$yT=0;for(var r=0;r<n;++r){var o=K(t,r),a=o.charCodeAt(0);if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if(97<=a&&a<=122||65<=a&&a<=90||"_"==o){for(var s=r,l=-1;r<n&&"\r"!=(o=K(t,r))&&"\n"!=o;++r)if("="==o){l=r;break}if(l>=0){var u=new N;A.startsWith(t,s,X._$cs)?(u._$RP=N._$hs,u._$4P=A.createString(t,s,l-s)):A.startsWith(t,s,X._$ar)?(u._$4P=A.createString(t,s+7,l-s-7),A.startsWith(t,s+7,"ANCHOR_X")?u._$RP=N._$xs:A.startsWith(t,s+7,"ANCHOR_Y")?u._$RP=N._$us:A.startsWith(t,s+7,"SCALE_X")?u._$RP=N._$qs:A.startsWith(t,s+7,"SCALE_Y")?u._$RP=N._$Ys:A.startsWith(t,s+7,"X")?u._$RP=N._$ws:A.startsWith(t,s+7,"Y")&&(u._$RP=N._$Ns)):(u._$RP=N._$Fr,u._$4P=A.createString(t,s,l-s)),e.motions.push(u);var c=0,h=[];for(r=l+1;r<n&&"\r"!=(o=K(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){var d=A._$LS(t,n,r,i);if(i[0]>0){h.push(d),c++;var f=i[0];if(f<r){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}r=f-1}}u._$I0=new Float32Array(h),c>e._$yT&&(e._$yT=c)}}}else{for(s=r,l=-1;r<n&&"\r"!=(o=K(t,r))&&"\n"!=o;++r)if("="==o){l=r;break}var p=!1;if(l>=0)for(l==s+4&&"f"==K(t,s+1)&&"p"==K(t,s+2)&&"s"==K(t,s+3)&&(p=!0),r=l+1;r<n&&"\r"!=(o=K(t,r))&&"\n"!=o;++r)if(","!=o&&" "!=o&&"\t"!=o){d=A._$LS(t,n,r,i);i[0]>0&&p&&5<d&&d<121&&(e._$D0=d),r=i[0]}for(;r<n&&"\n"!=K(t,r)&&"\r"!=K(t,r);++r);}else for(;r<n&&"\n"!=K(t,r)&&"\r"!=K(t,r);++r);}return e._$rr=1e3*e._$yT/e._$D0|0,e},X.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},X.prototype.getLoopDurationMSec=function(){return this._$rr},X.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var i=0;i<e._$I0.length&&i<10;i++)console.log("%5.2f ,",e._$I0[i]);console.log("\n")}},X.prototype.updateParamExe=function(t,e,i,n){for(var r=(e-n._$z2)*this._$D0/1e3,o=0|r,a=r-o,s=0;s<this.motions.length;s++){var l=this.motions[s],u=l._$I0.length,c=l._$4P;if(l._$RP==N._$hs){var h=l._$I0[o>=u?u-1:o];t.setParamFloat(c,h)}else if(N._$ws<=l._$RP&&l._$RP<=N._$Ys);else{var d=t.getParamIndex(c),f=t.getModelContext(),p=.4*(f.getParamMax(d)-f.getParamMin(d)),g=f.getParamFloat(d),m=l._$I0[o>=u?u-1:o],_=l._$I0[o+1>=u?u-1:o+1],v=g+((m<_&&_-m>p||m>_&&m-_>p?m:m+(_-m)*a)-g)*i;t.setParamFloat(c,v)}}o>=this._$yT&&(this._$E?(n._$z2=e,this.loopFadeIn&&(n._$bs=e)):n._$9L=!0),this._$eP=i},X.prototype._$r0=function(){return this._$E},X.prototype._$aL=function(t){this._$E=t},X.prototype._$S0=function(){return this._$D0},X.prototype._$U0=function(t){this._$D0=t},X.prototype.isLoopFadeIn=function(){return this.loopFadeIn},X.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},I.prototype.clear=function(){this.size=0},I.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);k._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},I.prototype._$BL=function(){var t=new Float32Array(this.size);return k._$jT(this._$P,0,t,0,this.size),t},N._$Fr=0,N._$hs=1,N._$ws=100,N._$Ns=101,N._$xs=102,N._$us=103,N._$qs=104,N._$Ys=105,Q.prototype=new C,Q._$gT=new Array,Q.prototype._$zP=function(){this._$GS=new M,this._$GS._$zP()},Q.prototype._$F0=function(t){C.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),C.prototype.readV2_opacity.call(this,t)},Q.prototype.init=function(t){var e=new Z(this),i=(this._$o+1)*(this._$A+1);return null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(2*i),null!=e._$hr&&(e._$hr=null),this._$32()?e._$hr=new Float32Array(2*i):e._$hr=null,e},Q.prototype._$Nr=function(t,e){var i=e;if(this._$GS._$Ur(t)){var n=this._$VT(),r=Q._$gT;r[0]=!1,E._$Vr(t,this._$GS,r,n,this._$Eo,i._$Cr,0,2),e._$Ib(r[0]),this.interpolateOpacity(t,this._$GS,e,r)}},Q.prototype._$2b=function(t,e){var i=e;if(i._$hS(!0),this._$32()){var n=this.getTargetBaseDataID();if(i._$8r==C._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)at._$so&&s._$li("_$L _$0P _$G :: %s",n),i._$hS(!1);else{var r=t.getBaseData(i._$8r),o=t._$q2(i._$8r);if(null!=r&&o._$yo()){var a=o.getTotalScale();i.setTotalScale_notForClient(a);var l=o.getTotalOpacity();i.setTotalOpacity(l*i.getInterpolatedOpacity()),r._$nb(t,o,i._$Cr,i._$hr,this._$VT(),0,2),i._$hS(!0)}else i._$hS(!1)}}else i.setTotalOpacity(i.getInterpolatedOpacity())},Q.prototype._$nb=function(t,e,i,n,r,o,a){var s=e,l=null!=s._$hr?s._$hr:s._$Cr;Q.transformPoints_sdk2(i,n,r,o,a,l,this._$o,this._$A)},Q.transformPoints_sdk2=function(e,i,n,r,o,a,s,l){for(var u,c,h,d=n*o,f=0,p=0,g=0,m=0,_=0,v=0,y=!1,b=r;b<d;b+=o){var w,E,T,$;if(T=e[b],E=($=e[b+1])*l,(w=T*s)<0||E<0||s<=w||l<=E){var x=s+1;if(!y){y=!0,f=.25*(a[2*(0+0*x)]+a[2*(s+0*x)]+a[2*(0+l*x)]+a[2*(s+l*x)]),p=.25*(a[2*(0+0*x)+1]+a[2*(s+0*x)+1]+a[2*(0+l*x)+1]+a[2*(s+l*x)+1]);var S=a[2*(s+l*x)]-a[2*(0+0*x)],C=a[2*(s+l*x)+1]-a[2*(0+0*x)+1],k=a[2*(s+0*x)]-a[2*(0+l*x)],L=a[2*(s+0*x)+1]-a[2*(0+l*x)+1];f-=.5*((g=.5*(S+k))+(_=.5*(S-k))),p-=.5*((m=.5*(C+L))+(v=.5*(C-L)))}if(-2<T&&T<3&&-2<$&&$<3)if(T<=0)if($<=0){var A=a[2*(0+0*x)],M=a[2*(0+0*x)+1],P=f-2*g,D=p-2*m,R=f-2*_,O=p-2*v,I=f-2*g-2*_,N=p-2*m-2*v;(B=.5*(T- -2))+(F=.5*($- -2))<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else if($>=1){R=a[2*(0+l*x)],O=a[2*(0+l*x)+1],I=f-2*g+1*_,N=p-2*m+1*v,A=f+3*_,M=p+3*v,P=f-2*g+3*_,D=p-2*m+3*v;(B=.5*(T- -2))+(F=.5*($-1))<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else{(H=0|E)==l&&(H=l-1);var B=.5*(T- -2),F=E-H,U=H/l,j=(H+1)/l;R=a[2*(0+H*x)],O=a[2*(0+H*x)+1],A=a[2*(0+(H+1)*x)],M=a[2*(0+(H+1)*x)+1],I=f-2*g+U*_,N=p-2*m+U*v,P=f-2*g+j*_,D=p-2*m+j*v;B+F<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else if(1<=T)if($<=0){P=a[2*(s+0*x)],D=a[2*(s+0*x)+1],A=f+3*g,M=p+3*m,I=f+1*g-2*_,N=p+1*m-2*v,R=f+3*g-2*_,O=p+3*m-2*v;(B=.5*(T-1))+(F=.5*($- -2))<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else if($>=1){I=a[2*(s+l*x)],N=a[2*(s+l*x)+1],R=f+3*g+1*_,O=p+3*m+1*v,P=f+1*g+3*_,D=p+1*m+3*v,A=f+3*g+3*_,M=p+3*m+3*v;(B=.5*(T-1))+(F=.5*($-1))<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else{var H;(H=0|E)==l&&(H=l-1);B=.5*(T-1),F=E-H,U=H/l,j=(H+1)/l,I=a[2*(s+H*x)],N=a[2*(s+H*x)+1],P=a[2*(s+(H+1)*x)],D=a[2*(s+(H+1)*x)+1],R=f+3*g+U*_,O=p+3*m+U*v,A=f+3*g+j*_,M=p+3*m+j*v;B+F<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else if($<=0){(q=0|w)==s&&(q=s-1);B=w-q,F=.5*($- -2);var G=q/s,z=(q+1)/s;P=a[2*(q+0*x)],D=a[2*(q+0*x)+1],A=a[2*(q+1+0*x)],M=a[2*(q+1+0*x)+1],I=f+G*g-2*_,N=p+G*m-2*v,R=f+z*g-2*_,O=p+z*m-2*v;B+F<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else if($>=1){var q;(q=0|w)==s&&(q=s-1);B=w-q,F=.5*($-1),G=q/s,z=(q+1)/s,I=a[2*(q+l*x)],N=a[2*(q+l*x)+1],R=a[2*(q+1+l*x)],O=a[2*(q+1+l*x)+1],P=f+G*g+3*_,D=p+G*m+3*v,A=f+z*g+3*_,M=p+z*m+3*v;B+F<=1?(i[b]=I+(R-I)*B+(P-I)*F,i[b+1]=N+(O-N)*B+(D-N)*F):(i[b]=A+(P-A)*(1-B)+(R-A)*(1-F),i[b+1]=M+(D-M)*(1-B)+(O-M)*(1-F))}else t.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",T,$);else i[b]=f+T*g+$*_,i[b+1]=p+T*m+$*v}else u=2*((0|w)+(0|E)*(s+1)),(c=w-(0|w))+(h=E-(0|E))<1?(i[b]=a[u]*(1-c-h)+a[u+2]*c+a[u+2*(s+1)]*h,i[b+1]=a[u+1]*(1-c-h)+a[u+3]*c+a[u+2*(s+1)+1]*h):(i[b]=a[u+2*(s+1)+2]*(c-1+h)+a[u+2*(s+1)]*(1-c)+a[u+2]*(1-h),i[b+1]=a[u+2*(s+1)+3]*(c-1+h)+a[u+2*(s+1)+1]*(1-c)+a[u+3]*(1-h))}},Q.prototype.transformPoints_sdk1=function(t,e,i,n,r,o,a){for(var s,l,u,c,h,d,f,p=e,g=this._$o,m=this._$A,_=r*a,v=null!=p._$hr?p._$hr:p._$Cr,y=o;y<_;y+=a)at._$ts?((s=i[y])<0?s=0:s>1&&(s=1),(l=i[y+1])<0?l=0:l>1&&(l=1),(u=0|(s*=g))>g-1&&(u=g-1),(c=0|(l*=m))>m-1&&(c=m-1),d=s-u,f=l-c,h=2*(u+c*(g+1))):(d=(s=i[y]*g)-(0|s),f=(l=i[y+1]*m)-(0|l),h=2*((0|s)+(0|l)*(g+1))),d+f<1?(n[y]=v[h]*(1-d-f)+v[h+2]*d+v[h+2*(g+1)]*f,n[y+1]=v[h+1]*(1-d-f)+v[h+3]*d+v[h+2*(g+1)+1]*f):(n[y]=v[h+2*(g+1)+2]*(d-1+f)+v[h+2*(g+1)]*(1-d)+v[h+2]*(1-f),n[y+1]=v[h+2*(g+1)+3]*(d-1+f)+v[h+2*(g+1)+1]*(1-d)+v[h+3]*(1-f))},Q.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Q.prototype.getType=function(){return C._$_b},Z.prototype=new ot,J._$42=0,J.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},J.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},J.prototype.init=function(t){var e=new tt(this);return e.setPartsOpacity(this.isVisible()?1:0),e},J.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},J.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},J.prototype._$Zo=function(t){this._$3S=t},J.prototype._$xo=function(t){this._$aS=t},J.prototype.isVisible=function(){return this.visible},J.prototype._$uL=function(){return this._$g0},J.prototype._$KP=function(t){this.visible=t},J.prototype._$ET=function(t){this._$g0=t},J.prototype.getBaseData=function(){return this._$3S},J.prototype.getDrawData=function(){return this._$aS},J.prototype._$p2=function(){return this._$NL},J.prototype._$ob=function(t){this._$NL=t},J.prototype.getPartsID=function(){return this._$NL},J.prototype._$MP=function(t){this._$NL=t},tt.prototype=new function(){},tt.prototype.getPartsOpacity=function(){return this._$VS},tt.prototype.setPartsOpacity=function(t){this._$VS=t},et._$L7=function(){h._$27(),mt._$27(),D._$27(),c._$27()},et.prototype.toString=function(){return this.id},it.prototype._$1s=function(){return this._$4S},it.prototype._$zP=function(){this._$4S=new Array},it.prototype._$F0=function(t){this._$4S=t._$nP()},it.prototype._$Ks=function(t){this._$4S.push(t)},nt.tr=new gt,nt._$50=new gt,nt._$Ti=new Array(0,0),nt._$Pi=new Array(0,0),nt._$B=new Array(0,0),nt.prototype._$lP=function(t,e,i,n){this.viewport=new Array(t,e,i,n)},nt.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},nt.prototype._$ei=function(){this.context.restore()},nt.prototype.drawElements=function(t,e,i,n,r,o,a,l){try{r!=this._$Qo&&(this._$Qo=r,this.context.globalAlpha=r);for(var u=e.length,c=t.width,h=t.height,d=this.context,f=this._$xP,p=this._$uP,g=this._$6r,m=this._$3r,_=nt.tr,v=nt._$Ti,y=nt._$Pi,b=nt._$B,w=0;w<u;w+=3){d.save();var E=e[w],T=e[w+1],$=e[w+2],x=f+g*i[2*E],S=p+m*i[2*E+1],C=f+g*i[2*T],k=p+m*i[2*T+1],L=f+g*i[2*$],A=p+m*i[2*$+1];a&&(a._$PS(x,S,b),x=b[0],S=b[1],a._$PS(C,k,b),C=b[0],k=b[1],a._$PS(L,A,b),L=b[0],A=b[1]);var M=c*n[2*E],P=h-h*n[2*E+1],D=c*n[2*T],R=h-h*n[2*T+1],O=c*n[2*$],I=h-h*n[2*$+1],N=Math.atan2(R-P,D-M),B=Math.atan2(k-S,C-x),F=C-x,U=k-S,j=Math.sqrt(F*F+U*U),H=D-M,G=R-P,z=j/Math.sqrt(H*H+G*G);xt._$ni(O,I,M,P,D-M,R-P,-(R-P),D-M,v),xt._$ni(L,A,x,S,C-x,k-S,-(k-S),C-x,y);var q=(y[0]-v[0])/v[1],W=Math.min(M,D,O),Y=Math.max(M,D,O),V=Math.min(P,R,I),X=Math.max(P,R,I),K=Math.floor(W),Q=Math.floor(V),Z=Math.ceil(Y),J=Math.ceil(X);if(_.identity(),_.translate(x,S),_.rotate(B),_.scale(1,y[1]/v[1]),_.shear(q,0),_.scale(z,z),_.rotate(-N),_.translate(-M,-P),_.setContext(d),o||(o=1.2),at.IGNORE_EXPAND&&(o=0),at.USE_CACHED_POLYGON_IMAGE){var tt=l._$e0;if(tt.gl_cacheImage=tt.gl_cacheImage||{},!tt.gl_cacheImage[w]){var et=nt.createCanvas(Z-K,J-Q);at.DEBUG_DATA.LDGL_CANVAS_MB=at.DEBUG_DATA.LDGL_CANVAS_MB||0,at.DEBUG_DATA.LDGL_CANVAS_MB+=(Z-K)*(J-Q)*4;var it=et.getContext("2d");it.translate(-K,-Q),nt.clip(it,_,o,j,M,P,D,R,O,I,x,S,C,k,L,A),it.drawImage(t,0,0),tt.gl_cacheImage[w]={cacheCanvas:et,cacheContext:it}}d.drawImage(tt.gl_cacheImage[w].cacheCanvas,K,Q)}else at.IGNORE_CLIP||nt.clip(d,_,o,j,M,P,D,R,O,I,x,S,C,k,L,A),at.USE_ADJUST_TRANSLATION&&(W=0,Y=c,V=0,X=h),d.drawImage(t,W,V,Y-W,X-V,W,V,Y-W,X-V);d.restore()}}catch(t){s._$Rb(t)}},nt.clip=function(t,e,i,n,r,o,a,s,l,u,c,h,d,f,p,g){i>.02?nt.expandClip(t,e,i,n,c,h,d,f,p,g):nt.clipWithTransform(t,null,r,o,a,s,l,u)},nt.expandClip=function(t,e,i,n,r,o,a,s,l,u){var c=a-r,h=s-o,d=l-r,f=u-o,p=c*f-h*d>0?i:-i,g=-h,m=c,_=l-a,v=u-s,y=-v,b=_,w=Math.sqrt(_*_+v*v),E=-f,T=d,$=Math.sqrt(d*d+f*f),x=r-p*g/n,S=o-p*m/n,C=a-p*g/n,k=s-p*m/n,L=a-p*y/w,A=s-p*b/w,M=l-p*y/w,P=u-p*b/w,D=r+p*E/$,R=o+p*T/$,O=l+p*E/$,I=u+p*T/$,N=nt._$50;return null!=e._$P2(N)&&(nt.clipWithTransform(t,N,x,S,C,k,L,A,M,P,O,I,D,R),!0)},nt.clipWithTransform=function(t,e,i,n,r,o,a,l){if(arguments.length<7)s._$li("err : @LDGL.clip()");else if(arguments[1]instanceof gt){var u=nt._$B,c=e,h=arguments;if(t.beginPath(),c){c._$PS(h[2],h[3],u),t.moveTo(u[0],u[1]);for(var d=4;d<h.length;d+=2)c._$PS(h[d],h[d+1],u),t.lineTo(u[0],u[1])}else{t.moveTo(h[2],h[3]);for(d=4;d<h.length;d+=2)t.lineTo(h[d],h[d+1])}t.clip()}else s._$li("err : a[0] is _$6 LDTransform @LDGL.clip()")},nt.createCanvas=function(t,e){var i=document.createElement("canvas");return i.setAttribute("width",t),i.setAttribute("height",e),i||s._$li("err : "+i),i},nt.dumpValues=function(){for(var t="",e=0;e<arguments.length;e++)t+="["+e+"]= "+arguments[e].toFixed(3)+" , ";console.log(t)},rt.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},rt.prototype.getMinValue=function(){return this._$TT},rt.prototype.getMaxValue=function(){return this._$LT},rt.prototype.getDefaultValue=function(){return this._$FS},rt.prototype.getParamID=function(){return this._$wL},ot.prototype._$yo=function(){return this._$AT&&!this._$JS},ot.prototype._$hS=function(t){this._$AT=t},ot.prototype._$GT=function(){return this._$e0},ot.prototype._$l2=function(t){this._$IP=t},ot.prototype.getPartsIndex=function(){return this._$IP},ot.prototype._$x2=function(){return this._$JS},ot.prototype._$Ib=function(t){this._$JS=t},ot.prototype.getTotalScale=function(){return this.totalScale},ot.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},ot.prototype.getInterpolatedOpacity=function(){return this._$7s},ot.prototype.setInterpolatedOpacity=function(t){this._$7s=t},ot.prototype.getTotalOpacity=function(t){return this.totalOpacity},ot.prototype.setTotalOpacity=function(t){this.totalOpacity=t},at._$2s="2.1.00_1",at._$Kr=201001e3,at._$sP=!0,at._$so=!0,at._$cb=!1,at._$3T=!0,at._$Ts=!0,at._$fb=!0,at._$ts=!0,at.L2D_DEFORMER_EXTEND=!0,at._$Wb=!1,at._$yr=!1,at._$Zs=!1,at.L2D_NO_ERROR=0,at._$i7=1e3,at._$9s=1001,at._$es=1100,at._$r7=2e3,at._$07=2001,at._$b7=2002,at._$H7=4e3,at.L2D_COLOR_BLEND_MODE_MULT=0,at.L2D_COLOR_BLEND_MODE_ADD=1,at.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,at._$6b=!0,at._$cT=0,at.clippingMaskBufferSize=256,at.glContext=new Array,at.frameBuffers=new Array,at.fTexture=new Array,at.IGNORE_CLIP=!1,at.IGNORE_EXPAND=!1,at.EXPAND_W=2,at.USE_ADJUST_TRANSLATION=!0,at.USE_CANVAS_TRANSFORM=!0,at.USE_CACHED_POLYGON_IMAGE=!1,at.DEBUG_DATA={},at.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},at.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_IOS_DEFAULT=at.PROFILE_IOS_QUALITY,at.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.initProfile=function(){Tt.isIOS()?at.setupProfile(at.PROFILE_IOS_DEFAULT):Tt.isAndroid()?at.setupProfile(at.PROFILE_ANDROID):at.setupProfile(at.PROFILE_DESKTOP)},at.setupProfile=function(t,e){if("number"==typeof t)switch(t){case 9901:t=at.PROFILE_IOS_SPEED;break;case 9902:t=at.PROFILE_IOS_QUALITY;break;case 9903:t=at.PROFILE_IOS_DEFAULT;break;case 9904:t=at.PROFILE_ANDROID;break;case 9905:t=at.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}for(var i in arguments.length<2&&(e=!0),e&&console.log("profile : "+t.PROFILE_NAME),t)at[i]=t[i],e&&console.log("  ["+i+"] = "+t[i])},at.init=function(){at._$6b&&(console.log("Live2D %s",at._$2s),at._$6b=!1,at.initProfile())},at.getVersionStr=function(){return at._$2s},at.getVersionNo=function(){return at._$Kr},at._$sT=function(t){at._$cT=t},at.getError=function(){var t=at._$cT;return at._$cT=0,t},at.dispose=function(){at.glContext=[],at.frameBuffers=[],at.fTexture=[]},at.setGL=function(t,e){var i=e||0;at.glContext[i]=t},at.getGL=function(t){return at.glContext[t]},at.setClippingMaskBufferSize=function(t){at.clippingMaskBufferSize=t},at.getClippingMaskBufferSize=function(){return at.clippingMaskBufferSize},at.deleteBuffer=function(t){at.getGL(t).deleteFramebuffer(at.frameBuffers[t].framebuffer),delete at.frameBuffers[t],delete at.glContext[t]},st._$r2=function(t){return t<0?0:t>1?1:.5-.5*Math.cos(t*wt.PI_F)},lt._$fr=-1,lt.prototype.toString=function(){return this._$ib},ut.prototype=new W,ut._$42=0,ut._$Os=30,ut._$ms=0,ut._$ns=1,ut._$_s=2,ut._$gT=new Array,ut.prototype._$_S=function(t){this._$LP=t},ut.prototype.getTextureNo=function(){return this._$LP},ut.prototype._$ZL=function(){return this._$Qi},ut.prototype._$H2=function(){return this._$JP},ut.prototype.getNumPoints=function(){return this._$d0},ut.prototype.getType=function(){return W._$wb},ut.prototype._$B2=function(t,e,i){var n=e,r=null!=n._$hr?n._$hr:n._$Cr;switch(B._$do){default:case B._$Ms:throw new Error("_$L _$ro ");case B._$Qs:for(var o=this._$d0-1;o>=0;--o)r[o*B._$No+4]=i}},ut.prototype._$zP=function(){this._$GS=new M,this._$GS._$zP()},ut.prototype._$F0=function(t){W.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var e=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var i=3*this._$Yo-1;i>=0;--i)this._$BP[i]=e[i];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=F._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var n=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(n)}0!=(this._$JP&ut._$Os)?this._$6s=(this._$JP&ut._$Os)>>1:this._$6s=ut._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},ut.prototype.init=function(t){var e=new ct(this),i=this._$d0*B._$No,n=this._$32();switch(null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(i),null!=e._$hr&&(e._$hr=null),e._$hr=n?new Float32Array(i):null,B._$do){default:case B._$Ms:if(B._$Ls)for(var r=this._$d0-1;r>=0;--r){var o=r<<1;this._$Qi[o+1]=1-this._$Qi[o+1]}break;case B._$Qs:for(r=this._$d0-1;r>=0;--r){o=r<<1;var a=r*B._$No,s=this._$Qi[o],l=this._$Qi[o+1];e._$Cr[a]=s,e._$Cr[a+1]=l,e._$Cr[a+4]=0,n&&(e._$hr[a]=s,e._$hr[a+1]=l,e._$hr[a+4]=0)}}return e},ut.prototype._$Nr=function(t,e){var i=e;if(this!=i._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(W.prototype._$Nr.call(this,t,i),!i._$IS[0])){var n=ut._$gT;n[0]=!1,E._$Vr(t,this._$GS,n,this._$d0,this._$Eo,i._$Cr,B._$i2,B._$No)}},ut.prototype._$2b=function(t,e){try{this!=e._$GT()&&console.log("### assert!! ### ");var i=!1;e._$IS[0]&&(i=!0);var n=e;if(!i&&(W.prototype._$2b.call(this,t),this._$32())){var r=this.getTargetBaseDataID();if(n._$8r==W._$ur&&(n._$8r=t.getBaseDataIndex(r)),n._$8r<0)at._$so&&s._$li("_$L _$0P _$G :: %s",r);else{var o=t.getBaseData(n._$8r),a=t._$q2(n._$8r);null==o||a._$x2()?n._$AT=!1:(o._$nb(t,a,n._$Cr,n._$hr,this._$d0,B._$i2,B._$No),n._$AT=!0),n.baseOpacity=a.getTotalOpacity()}}}catch(t){throw t}},ut.prototype.draw=function(t,e,i){if(this!=i._$GT()&&console.log("### assert!! ### "),!i._$IS[0]){var n=i,r=this._$LP;r<0&&(r=1);var o=this.getOpacity(e,n)*i._$VS*i.baseOpacity,a=null!=n._$hr?n._$hr:n._$Cr;t.setClipBufPre_clipContextForDraw(i.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(r,3*this._$Yo,this._$BP,a,this._$Qi,o,this._$6s,n)}},ut.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);console.log("\n  _$5i _$30");for(t=0;t<this._$Eo.length;t++){console.log("\n    _$30[%d] = ",t);for(var e=this._$Eo[t],i=0;i<e.length;i++)console.log("%6.2f, ",e[i])}console.log("\n")},ut.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},ut.prototype.getIndexArray=function(){return this._$BP},ct.prototype=new Et,ct.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},ht.prototype._$HT=function(t){this.x=t.x,this.y=t.y},ht.prototype._$HT=function(t,e){this.x=t,this.y=e},dt.prototype=new e,dt.loadModel=function(t){var i=new dt;return e._$62(i,t),i},dt.loadModel=function(t,i){var n=new dt(i||0);return e._$62(n,t),n},dt._$to=function(){return new dt},dt._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var i=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],n=dt.loadModel(e._$3b()),r=0;r<i.length;r++){var o=new _$5(i[r]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());n.setTexture(r,_$nL._$_o(t,o._$3b()))}return n},dt.prototype.setGL=function(t){at.setGL(t)},dt.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},dt.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},dt.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},dt.prototype._$K2=function(){this.drawParamWebGL._$K2()},dt.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},dt.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&s._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},dt.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},dt.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},dt.prototype.getDrawParam=function(){return this.drawParamWebGL},dt.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},dt.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},dt.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},dt.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},dt.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},ft.prototype._$tb=function(){return this.motions},ft.prototype.startMotion=function(t,e){for(var i=null,n=this.motions.length,r=0;r<n;++r)null!=(i=this.motions[r])&&(i._$qS(i._$w0.getFadeOut()),this._$eb&&s._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",n,i._$sr));if(null==t)return-1;(i=new pt)._$w0=t,this.motions.push(i);var o=i._$sr;return this._$eb&&s._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",n,o),o},ft.prototype.updateParam=function(t){try{for(var e=!1,i=0;i<this.motions.length;i++){var n=this.motions[i];if(null!=n){var r=n._$w0;null!=r?(r.updateParam(t,n),e=!0,n.isFinished()&&(this._$eb&&s._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,n._$sr),this.motions.splice(i,1),i--)):(this.motions=this.motions.splice(i,1),i--)}else this.motions.splice(i,1),i--}return e}catch(t){return s._$li(t),!0}},ft.prototype.isFinished=function(t){if(arguments.length>=1){for(var e=0;e<this.motions.length;e++){if(null!=(i=this.motions[e])&&i._$sr==t&&!i.isFinished())return!1}return!0}for(e=0;e<this.motions.length;e++){var i;if(null!=(i=this.motions[e]))if(null!=i._$w0){if(!i.isFinished())return!1}else this.motions.splice(e,1),e--;else this.motions.splice(e,1),e--}return!0},ft.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];null!=e?(e._$w0,this.motions.splice(t,1),t--):(this.motions.splice(t,1),t--)}},ft.prototype._$Zr=function(t){this._$eb=t},ft.prototype._$e=function(){console.log("-- _$R --\n");for(var t=0;t<this.motions.length;t++){var e=this.motions[t]._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,e.toString())}},pt._$Gs=0,pt.prototype.isFinished=function(){return this._$9L},pt.prototype._$qS=function(t){var e=k.getUserTimeMSec()+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},pt.prototype._$Bs=function(){return this._$sr},gt.prototype.setContext=function(t){var e=this.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},gt.prototype.toString=function(){for(var t="LDTransform { ",e=0;e<9;e++)t+=this.m[e].toFixed(2)+" ,";return t+" }"},gt.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},gt.prototype._$PS=function(t,e,i){null==i&&(i=new Array(0,0));var n=this.m;return i[0]=n[0]*t+n[3]*e+n[6],i[1]=n[1]*t+n[4]*e+n[7],i},gt.prototype._$P2=function(t){t||(t=new gt);var e=this.m,i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=i*a*c+n*s*l+r*o*u-i*s*u-r*a*l-n*o*c;if(0==h)return null;var d=1/h;return t.m[0]=d*(a*c-u*s),t.m[1]=d*(u*r-n*c),t.m[2]=d*(n*s-a*r),t.m[3]=d*(l*s-o*c),t.m[4]=d*(i*c-l*r),t.m[5]=d*(o*r-i*s),t.m[6]=d*(o*u-l*a),t.m[7]=d*(l*n-i*u),t.m[8]=d*(i*a-o*n),t},gt.prototype.transform=function(t,e,i){null==i&&(i=new Array(0,0));var n=this.m;return i[0]=n[0]*t+n[3]*e+n[6],i[1]=n[1]*t+n[4]*e+n[7],i},gt.prototype.translate=function(t,e){var i=this.m;i[6]=i[0]*t+i[3]*e+i[6],i[7]=i[1]*t+i[4]*e+i[7],i[8]=i[2]*t+i[5]*e+i[8]},gt.prototype.scale=function(t,e){var i=this.m;i[0]*=t,i[1]*=t,i[2]*=t,i[3]*=e,i[4]*=e,i[5]*=e},gt.prototype.shear=function(t,e){var i=this.m,n=i[0]+i[3]*e,r=i[1]+i[4]*e,o=i[2]+i[5]*e;i[3]=i[0]*t+i[3],i[4]=i[1]*t+i[4],i[5]=i[2]*t+i[5],i[0]=n,i[1]=r,i[2]=o},gt.prototype.rotate=function(t){var e=this.m,i=Math.cos(t),n=Math.sin(t),r=e[0]*i+e[3]*n,o=e[1]*i+e[4]*n,a=e[2]*i+e[5]*n;e[3]=-e[0]*n+e[3]*i,e[4]=-e[1]*n+e[4]*i,e[5]=-e[2]*n+e[5]*i,e[0]=r,e[1]=o,e[2]=a},gt.prototype.concatenate=function(t){var e=this.m,i=t.m,n=e[0]*i[0]+e[3]*i[1]+e[6]*i[2],r=e[1]*i[0]+e[4]*i[1]+e[7]*i[2],o=e[2]*i[0]+e[5]*i[1]+e[8]*i[2],a=e[0]*i[3]+e[3]*i[4]+e[6]*i[5],s=e[1]*i[3]+e[4]*i[4]+e[7]*i[5],l=e[2]*i[3]+e[5]*i[4]+e[8]*i[5],u=e[0]*i[6]+e[3]*i[7]+e[6]*i[8],c=e[1]*i[6]+e[4]*i[7]+e[7]*i[8],h=e[2]*i[6]+e[5]*i[7]+e[8]*i[8];m[0]=n,m[1]=r,m[2]=o,m[3]=a,m[4]=s,m[5]=l,m[6]=u,m[7]=c,m[8]=h},mt.prototype=new et,mt._$eT=null,mt._$tP=new Object,mt._$2o=function(){return null==mt._$eT&&(mt._$eT=mt.getID("DST_BASE")),mt._$eT},mt._$27=function(){mt._$tP.clear(),mt._$eT=null},mt.getID=function(t){var e=mt._$tP[t];return null==e&&(e=new mt(t),mt._$tP[t]=e),e},mt.prototype._$3s=function(){return new mt},_t.prototype=new x,_t._$9r=function(t){return new Float32Array(t)},_t._$vb=function(t){return new Int16Array(t)},_t._$cr=function(t,e){return null==t||t._$yL()<e.length?((t=_t._$9r(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},_t._$mb=function(t,e){return null==t||t._$yL()<e.length?((t=_t._$vb(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},_t._$Hs=function(){return this._$Gr},_t._$as=function(t){this._$Gr=t},_t.prototype.getGL=function(){return this.gl},_t.prototype.setGL=function(t){this.gl=t},_t.prototype.setTransform=function(t){this.transform=t},_t.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},_t.prototype._$Uo=function(t,e,i,n,r,o,a,s){if(!(o<.01&&null==this.clipBufPre_clipContextMask)){var l=(o>.9&&at.EXPAND_W,this.gl);if(null==this.gl)throw new Error("gl is null");var u,c,h,d,f=1*this._$C0*o,p=1*this._$tT*o,g=1*this._$WL*o,m=this._$lT*o;if(null!=this.clipBufPre_clipContextMask){l.frontFace(l.CCW),l.useProgram(this.shaderProgram),this._$vS=vt(l,this._$vS,n),this._$no=yt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=vt(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var _=this.getClipBufPre_clipContextMask().layoutChannelNo,v=this.getChannelFlagAsColor(_);l.uniform4f(this.u_channelFlag,v.r,v.g,v.b,v.a);var y=this.getClipBufPre_clipContextMask().layoutBounds;l.uniform4f(this.u_baseColor_Loc,2*y.x-1,2*y.y-1,2*y._$EL()-1,2*y._$5T()-1),l.uniform1i(this.u_maskFlag_Loc,!0)}else if(null!=this.getClipBufPre_clipContextDraw()){l.useProgram(this.shaderProgramOff),this._$vS=vt(l,this._$vS,n),this._$no=yt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc_Off),l.vertexAttribPointer(this.a_position_Loc_Off,2,l.FLOAT,!1,0,0),this._$NT=vt(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc_Off,1),l.enableVertexAttribArray(this.a_texCoord_Loc_Off),l.vertexAttribPointer(this.a_texCoord_Loc_Off,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),l.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,at.fTexture[this.glno]),l.uniform1i(this.s_texture1_Loc_Off,2);_=this.getClipBufPre_clipContextDraw().layoutChannelNo,v=this.getChannelFlagAsColor(_);l.uniform4f(this.u_channelFlag_Loc_Off,v.r,v.g,v.b,v.a),l.uniform4f(this.u_baseColor_Loc_Off,f,p,g,m)}else l.useProgram(this.shaderProgram),this._$vS=vt(l,this._$vS,n),this._$no=yt(l,this._$no,i),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=vt(l,this._$NT,r),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),l.uniform4f(this.u_baseColor_Loc,f,p,g,m),l.uniform1i(this.u_maskFlag_Loc,!1);if(this.culling?this.gl.enable(l.CULL_FACE):this.gl.disable(l.CULL_FACE),this.gl.enable(l.BLEND),null!=this.clipBufPre_clipContextMask)u=l.ONE,c=l.ONE_MINUS_SRC_ALPHA,h=l.ONE,d=l.ONE_MINUS_SRC_ALPHA;else switch(a){case ut._$ms:u=l.ONE,c=l.ONE_MINUS_SRC_ALPHA,h=l.ONE,d=l.ONE_MINUS_SRC_ALPHA;break;case ut._$ns:u=l.ONE,c=l.ONE,h=l.ZERO,d=l.ONE;break;case ut._$_s:u=l.DST_COLOR,c=l.ONE_MINUS_SRC_ALPHA,h=l.ZERO,d=l.ONE}l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(u,c,h,d),this.anisotropyExt&&l.texParameteri(l.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var b=i.length;l.drawElements(l.TRIANGLES,b,l.UNSIGNED_SHORT,0),l.bindTexture(l.TEXTURE_2D,null)}},_t.prototype._$Rs=function(){throw new Error("_$Rs")},_t.prototype._$Ds=function(t){throw new Error("_$Ds")},_t.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++)0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)},_t.prototype.setTexture=function(t,e){this.textures[t]=e},_t.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},_t.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},_t.prototype.compileShader=function(t,e){var i=this.gl,n=e,r=i.createShader(t);if(null==r)return s._$Ji("_$L0 to create shader"),null;if(i.shaderSource(r,n),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS)){var o=i.getShaderInfoLog(r);return s._$Ji("_$L0 to compile shader : "+o),i.deleteShader(r),null}return r},_t.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return s._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return s._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return s._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return s._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),!t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)){var e=t.getProgramInfoLog(this.shaderProgram);return s._$Ji("_$L0 to link program: "+e),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},_t.prototype.createFramebuffer=function(){var t=this.gl,e=at.clippingMaskBufferSize,i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i);var n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,e,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,n);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,e,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),at.fTexture[this.glno]=r,{framebuffer:i,renderbuffer:n,texture:at.fTexture[this.glno]}},bt.prototype._$fP=function(){var t,e,i,n=this._$ST();if(0==(128&n))return 255&n;if(0==(128&(t=this._$ST())))return(127&n)<<7|127&t;if(0==(128&(e=this._$ST())))return(127&n)<<14|(127&t)<<7|255&e;if(0==(128&(i=this._$ST())))return(127&n)<<21|(127&t)<<14|(127&e)<<7|255&i;throw new lt("_$L _$0P  _")},bt.prototype.getFormatVersion=function(){return this._$S2},bt.prototype._$gr=function(t){this._$S2=t},bt.prototype._$3L=function(){return this._$fP()},bt.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},bt.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},bt.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},bt.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},bt.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},bt.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new lt("_$L _$q read long")},bt.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var Ct=!0;bt.prototype._$bT=function(){this._$zT();var t=this._$3L(),e=null;if(Ct)try{var i=new ArrayBuffer(2*t);e=new Uint16Array(i);for(var n=0;n<t;++n)e[n]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,e)}catch(t){Ct=!1}try{var r=new Array;if(null==e)for(n=0;n<t;++n)r[n]=this._$T.getUint8(this._$F++);else for(n=0;n<t;++n)r[n]=e[n];return String.fromCharCode.apply(null,r)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},bt.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),e=new Int32Array(t),i=0;i<t;i++)e[i]=this._$T.getInt32(this._$F),this._$F+=4;return e},bt.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),e=new Float32Array(t),i=0;i<t;i++)e[i]=this._$T.getFloat32(this._$F),this._$F+=4;return e},bt.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),e=new Float64Array(t),i=0;i<t;i++)e[i]=this._$T.getFloat64(this._$F),this._$F+=8;return e},bt.prototype._$nP=function(){return this._$Jb(-1)},bt.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==F._$7P){var e=this._$6L();if(0<=e&&e<this._$Ko.length)return this._$Ko[e];throw new lt("_$sL _$4i @_$m0")}var i=this._$4b(t);return this._$Ko.push(i),i},bt.prototype._$4b=function(t){if(0==t)return null;if(50==t){var e=this._$bT();return r=D.getID(e)}if(51==t){e=this._$bT();return r=mt.getID(e)}if(134==t){e=this._$bT();return r=c.getID(e)}if(60==t){e=this._$bT();return r=h.getID(e)}if(t>=48){var i=F._$9o(t);return null!=i?(i._$F0(this),i):null}switch(t){case 1:return this._$bT();case 10:return new o(this._$6L(),!0);case 11:return new w(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new w(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new T(this._$mP(),this._$mP());case 14:return new T(this._$_T(),this._$_T());case 15:for(var n=this._$3L(),r=new Array(n),a=0;a<n;a++)r[a]=this._$nP();return r;case 17:return r=new R(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());case 21:return new u(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new ht(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new lt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new lt("_$6 _$q : _$nP() NO _$i : "+t)}},bt.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},bt.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},wt._$2S=Math.PI/180,wt._$bS=Math.PI/180,wt._$wS=180/Math.PI,wt._$NS=180/Math.PI,wt.PI_F=Math.PI,wt._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],wt._$92=function(t,e){var i=Math.atan2(t[1],t[0]),n=Math.atan2(e[1],e[0]);return wt._$tS(i,n)},wt._$tS=function(t,e){for(var i=t-e;i<-Math.PI;)i+=2*Math.PI;for(;i>Math.PI;)i-=2*Math.PI;return i},wt._$9=function(t){return Math.sin(t)},wt.fcos=function(t){return Math.cos(t)},Et.prototype._$u2=function(){return this._$IS[0]},Et.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},Et.prototype._$GT=function(){return this._$e0},Tt._$W2=0,Tt.SYSTEM_INFO=null,Tt.USER_AGENT=navigator.userAgent,Tt.isIPhone=function(){return Tt.SYSTEM_INFO||Tt.setup(),Tt.SYSTEM_INFO._isIPhone},Tt.isIOS=function(){return Tt.SYSTEM_INFO||Tt.setup(),Tt.SYSTEM_INFO._isIPhone||Tt.SYSTEM_INFO._isIPad},Tt.isAndroid=function(){return Tt.SYSTEM_INFO||Tt.setup(),Tt.SYSTEM_INFO._isAndroid},Tt.getOSVersion=function(){return Tt.SYSTEM_INFO||Tt.setup(),Tt.SYSTEM_INFO.version},Tt.getOS=function(){return Tt.SYSTEM_INFO||Tt.setup(),Tt.SYSTEM_INFO._isIPhone||Tt.SYSTEM_INFO._isIPad?"iOS":Tt.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Tt.setup=function(){function t(t,e){for(var i=t.substring(e).split(/[ _,;\.]/),n=0,r=0;r<=2&&!isNaN(i[r]);r++){var o=parseInt(i[r]);if(o<0||o>999){s._$li("err : "+o+" @UtHtml5.setup()"),n=0;break}n+=o*Math.pow(1e3,2-r)}return n}var e,i=Tt.USER_AGENT,n=Tt.SYSTEM_INFO={userAgent:i};if((e=i.indexOf("iPhone OS "))>=0)n.os="iPhone",n._isIPhone=!0,n.version=t(i,e+"iPhone OS ".length);else if((e=i.indexOf("iPad"))>=0){if((e=i.indexOf("CPU OS"))<0)return void s._$li(" err : "+i+" @UtHtml5.setup()");n.os="iPad",n._isIPad=!0,n.version=t(i,e+"CPU OS ".length)}else(e=i.indexOf("Android"))>=0?(n.os="Android",n._isAndroid=!0,n.version=t(i,e+"Android ".length)):(n.os="-",n.version=-1)},window.UtSystem=k,window.UtDebug=s,window.LDTransform=gt,window.LDGL=nt,window.Live2D=at,window.Live2DModelWebGL=dt,window.Live2DModelJS=V,window.Live2DMotion=X,window.MotionQueueManager=ft,window.PhysicsHair=f,window.AMotion=a,window.PartsDataID=c,window.DrawDataID=D,window.BaseDataID=mt,window.ParamID=h,at.init();$t=!1}()}).call(e,i(7))},function(t,e){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),o.Live2DFramework.setPlatformManager(new a.default)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=i(0),a=n(i(9)),s=n(i(10)),l=n(i(1));r.prototype.createModel=function(){var t=new s.default;return this.models.push(t),t},r.prototype.changeModel=function(t,e){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,t),this.createModel(),this.models[0].load(t,e))},r.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},r.prototype.releaseModel=function(t,e){this.models.length<=t||(this.models[t].release(e),delete this.models[t],this.models.splice(t,1))},r.prototype.numModels=function(){return this.models.length},r.prototype.setDrag=function(t,e){for(var i=0;i<this.models.length;i++)this.models[i].setDrag(t,e)},r.prototype.maxScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Max scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(l.default.MOTION_GROUP_PINCH_IN,l.default.PRIORITY_NORMAL)},r.prototype.minScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Min scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion(l.default.MOTION_GROUP_PINCH_OUT,l.default.PRIORITY_NORMAL)},r.prototype.tapEvent=function(t,e){l.default.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+e);for(var i=0;i<this.models.length;i++)this.models[i].hitTest(l.default.HIT_AREA_HEAD,t,e)?(l.default.DEBUG_LOG&&console.log("Tap face."),this.models[i].setRandomExpression()):this.models[i].hitTest(l.default.HIT_AREA_BODY,t,e)?(l.default.DEBUG_LOG&&console.log("Tap body. models["+i+"]"),this.models[i].startRandomMotion(l.default.MOTION_GROUP_TAP_BODY,l.default.PRIORITY_NORMAL)):this.models[i].hitTestCustom("head",t,e)?(l.default.DEBUG_LOG&&console.log("Tap face."),this.models[i].startRandomMotion(l.default.MOTION_GROUP_FLICK_HEAD,l.default.PRIORITY_NORMAL)):this.models[i].hitTestCustom("body",t,e)&&(l.default.DEBUG_LOG&&console.log("Tap body. models["+i+"]"),this.models[i].startRandomMotion(l.default.MOTION_GROUP_TAP_BODY,l.default.PRIORITY_NORMAL));return!0}},function(t,e,i){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(2);n.prototype.loadBytes=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){switch(i.status){case 200:e(i.response);break;default:console.error("Failed to load ("+i.status+") : "+t)}},i.send(null)},n.prototype.loadString=function(t){this.loadBytes(t,function(t){return t})},n.prototype.loadLive2DModel=function(t,e){var i=null;this.loadBytes(t,function(t){i=Live2DModelWebGL.loadModel(t),e(i)})},n.prototype.loadTexture=function(t,e,i,n){var o=new Image;o.src=Live2D_img_path,o.crossOrigin="Anonymous",o.onload=function(){var i=(0,r.getContext)(),a=i.createTexture();if(!a)return console.error("Failed to generate gl texture name."),-1;0==t.isPremultipliedAlpha()&&i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,1),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.generateMipmap(i.TEXTURE_2D),t.setTexture(e,a),a=null,"function"==typeof n&&n()},o.onerror=function(){console.error("Failed to load image : "+i)}},n.prototype.jsonParseFromBytes=function(t){var e,i=new Uint8Array(t,0,3);return e=239==i[0]&&187==i[1]&&191==i[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(e)},n.prototype.log=function(t){}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){o.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=i(0),a=n(i(11)),s=n(i(1)),l=n(i(3));r.prototype=new o.L2DBaseModel,r.prototype.load=function(t,e,i){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=e.substring(0,e.lastIndexOf("/")+1),this.modelSetting=new a.default;var n=this;this.modelSetting.loadModelSetting(e,function(){var t=n.modelHomeDir+n.modelSetting.getModelFile();n.loadModelData(t,function(t){for(var e=0;e<n.modelSetting.getTextureNum();e++){if(/^https?:\/\/|^\/\//i.test(n.modelSetting.getTextureFile(e)))var r=n.modelSetting.getTextureFile(e);else r=n.modelHomeDir+n.modelSetting.getTextureFile(e);n.loadTexture(e,r,function(){if(n.isTexLoaded){if(n.modelSetting.getExpressionNum()>0){n.expressions={};for(var t=0;t<n.modelSetting.getExpressionNum();t++){var e=n.modelSetting.getExpressionName(t),r=n.modelHomeDir+n.modelSetting.getExpressionFile(t);n.loadExpression(e,r)}}else n.expressionManager=null,n.expressions={};if(n.eyeBlink,null!=n.modelSetting.getPhysicsFile()?n.loadPhysics(n.modelHomeDir+n.modelSetting.getPhysicsFile()):n.physics=null,null!=n.modelSetting.getPoseFile()?n.loadPose(n.modelHomeDir+n.modelSetting.getPoseFile(),function(){n.pose.updateParam(n.live2DModel)}):n.pose=null,null!=n.modelSetting.getLayout()){var o=n.modelSetting.getLayout();null!=o.width&&n.modelMatrix.setWidth(o.width),null!=o.height&&n.modelMatrix.setHeight(o.height),null!=o.x&&n.modelMatrix.setX(o.x),null!=o.y&&n.modelMatrix.setY(o.y),null!=o.center_x&&n.modelMatrix.centerX(o.center_x),null!=o.center_y&&n.modelMatrix.centerY(o.center_y),null!=o.top&&n.modelMatrix.top(o.top),null!=o.bottom&&n.modelMatrix.bottom(o.bottom),null!=o.left&&n.modelMatrix.left(o.left),null!=o.right&&n.modelMatrix.right(o.right)}if(null!=n.modelSetting.getHitAreasCustom()){var a=n.modelSetting.getHitAreasCustom();null!=a.head_x&&(s.default.hit_areas_custom_head_x=a.head_x),null!=a.head_y&&(s.default.hit_areas_custom_head_y=a.head_y),null!=a.body_x&&(s.default.hit_areas_custom_body_x=a.body_x),null!=a.body_y&&(s.default.hit_areas_custom_body_y=a.body_y)}for(t=0;t<n.modelSetting.getInitParamNum();t++)n.live2DModel.setParamFloat(n.modelSetting.getInitParamID(t),n.modelSetting.getInitParamValue(t));for(t=0;t<n.modelSetting.getInitPartsVisibleNum();t++)n.live2DModel.setPartsOpacity(n.modelSetting.getInitPartsVisibleID(t),n.modelSetting.getInitPartsVisibleValue(t));n.live2DModel.saveParam(),n.preloadMotionGroup(s.default.MOTION_GROUP_IDLE),n.preloadMotionGroup(s.default.MOTION_GROUP_SLEEPY),n.mainMotionManager.stopAllMotions(),n.setUpdating(!1),n.setInitialized(!0),"function"==typeof i&&i()}})}})})},r.prototype.release=function(t){var e=o.Live2DFramework.getPlatformManager();t.deleteTexture(e.texture)},r.prototype.preloadMotionGroup=function(t){for(var e=this,i=0;i<this.modelSetting.getMotionNum(t);i++){var n=this.modelSetting.getMotionFile(t,i);this.loadMotion(n,this.modelHomeDir+n,function(n){n.setFadeIn(e.modelSetting.getMotionFadeIn(t,i)),n.setFadeOut(e.modelSetting.getMotionFadeOut(t,i))})}},r.prototype.update=function(){if(null!=this.live2DModel){var t=2*((UtSystem.getUserTimeMSec()-this.startTimeMSec)/1e3)*Math.PI;this.mainMotionManager.isFinished()&&("1"===sessionStorage.getItem("Sleepy")?this.startRandomMotion(s.default.MOTION_GROUP_SLEEPY,s.default.PRIORITY_SLEEPY):this.startRandomMotion(s.default.MOTION_GROUP_IDLE,s.default.PRIORITY_IDLE)),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(t/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(t/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(t/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(t/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(t/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()}else s.default.DEBUG_LOG&&console.error("Failed to update.")},r.prototype.setRandomExpression=function(){var t=[];for(var e in this.expressions)t.push(e);var i=parseInt(Math.random()*t.length);this.setExpression(t[i])},r.prototype.startRandomMotion=function(t,e){var i=this.modelSetting.getMotionNum(t),n=parseInt(Math.random()*i);this.startMotion(t,n,e)},r.prototype.startMotion=function(t,e,i){var n=this.modelSetting.getMotionFile(t,e);if(null!=n&&""!=n){if(i==s.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(i);else if(!this.mainMotionManager.reserveMotion(i))return void(s.default.DEBUG_LOG&&console.log("Motion is running."));var r,o=this;null==this.motions[t]?this.loadMotion(null,this.modelHomeDir+n,function(n){r=n,o.setFadeInFadeOut(t,e,i,r)}):(r=this.motions[t],o.setFadeInFadeOut(t,e,i,r))}else s.default.DEBUG_LOG&&console.error("Failed to motion.")},r.prototype.setFadeInFadeOut=function(t,e,i,n){var r=this.modelSetting.getMotionFile(t,e);if(n.setFadeIn(this.modelSetting.getMotionFadeIn(t,e)),n.setFadeOut(this.modelSetting.getMotionFadeOut(t,e)),s.default.DEBUG_LOG&&console.log("Start motion : "+r),null==this.modelSetting.getMotionSound(t,e))this.mainMotionManager.startMotionPrio(n,i);else{var o=this.modelSetting.getMotionSound(t,e),a=document.createElement("audio");a.src=this.modelHomeDir+o,s.default.DEBUG_LOG&&console.log("Start sound : "+o),a.play(),this.mainMotionManager.startMotionPrio(n,i)}},r.prototype.setExpression=function(t){var e=this.expressions[t];s.default.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(e,!1)},r.prototype.draw=function(t){l.default.push(),l.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=l.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),l.default.pop()},r.prototype.hitTest=function(t,e,i){for(var n=this.modelSetting.getHitAreaNum(),r=0;r<n;r++)if(t==this.modelSetting.getHitAreaName(r)){var o=this.modelSetting.getHitAreaID(r);return this.hitTestSimple(o,e,i)}return!1},r.prototype.hitTestCustom=function(t,e,i){return"head"==t?this.hitTestSimpleCustom(s.default.hit_areas_custom_head_x,s.default.hit_areas_custom_head_y,e,i):"body"==t&&this.hitTestSimpleCustom(s.default.hit_areas_custom_body_x,s.default.hit_areas_custom_body_y,e,i)}},function(t,e,i){"use strict";function n(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.HIT_AREAS_CUSTOM="hit_areas_custom",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(0);n.prototype.loadModelSetting=function(t,e){var i=this;r.Live2DFramework.getPlatformManager().loadBytes(t,function(t){var n=String.fromCharCode.apply(null,new Uint8Array(t));i.json=JSON.parse(n),e()})},n.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},n.prototype.getModelFile=function(){return this.json[this.MODEL]},n.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},n.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},n.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},n.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},n.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},n.prototype.getPoseFile=function(){return this.json[this.POSE]},n.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},n.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},n.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},n.prototype.getLayout=function(){return this.json[this.LAYOUT]},n.prototype.getHitAreasCustom=function(){return this.json[this.HIT_AREAS_CUSTOM]},n.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},n.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},n.prototype.getMotionFile=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]?null:this.json[this.MOTION_GROUPS][t][e][this.FILE]},n.prototype.getMotionSound=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][e][this.SOUND]},n.prototype.getMotionFadeIn=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]},n.prototype.getMotionFadeOut=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]},n.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},n.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},n.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},n.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},n.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}}]);var _get=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var t,e=document,i=window,n=Array.prototype,r=n.slice,o=n.filter,a=n.push,s=function(t){return"function"==typeof t&&t.call},l=function(t){return"string"==typeof t},u=/^#[\w-]*$/,c=/^\.[\w-]*$/,h=/<.+>/,d=/^\w+$/;function f(t,i){return i=i||e,c.test(t)?i.getElementsByClassName(t.slice(1)):d.test(t)?i.getElementsByTagName(t):i.querySelectorAll(t)}function p(i){if(!t){var n=(t=e.implementation.createHTMLDocument(null)).createElement("base");n.href=e.location.href,t.head.appendChild(n)}return t.body.innerHTML=i,t.body.childNodes}function g(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function m(t,n){if(!t)return this;if(t.cash&&t!==i)return t;var r,o=t,a=0;if(l(t))o=u.test(t)?e.getElementById(t.slice(1)):h.test(t)?p(t):f(t,n);else if(s(t))return g(t),this;if(!o)return this;if(o.nodeType||o===i)this[0]=o,this.length=1;else for(r=this.length=o.length;a<r;a++)this[a]=o[a];return this}function _(t,e){return new m(t,e)}var v=_.fn=_.prototype=m.prototype={cash:!0,length:0,push:a,splice:n.splice,map:n.map,init:m};function y(t,e){for(var i=t.length,n=0;n<i&&!1!==e.call(t[n],t[n],n,t);n++);}function b(t,e){var i=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!i&&i.call(t,e)}function w(t){return l(t)?b:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function E(t){return _(r.call(t).filter(function(t,e,i){return i.indexOf(t)===e}))}Object.defineProperty(v,"constructor",{value:_}),_.parseHTML=p,_.noop=function(){},_.isFunction=s,_.isString=l,_.extend=v.extend=function(t){t=t||{};var e=r.call(arguments),i=e.length,n=1;for(1===e.length&&(t=this,n=0);n<i;n++)if(e[n])for(var o in e[n])e[n].hasOwnProperty(o)&&(t[o]=e[n][o]);return t},_.extend({merge:function(t,e){for(var i=+e.length,n=t.length,r=0;r<i;n++,r++)t[n]=e[r];return t.length=n,t},each:y,matches:b,unique:E,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var T=_.uid="_cash"+Date.now();function $(t){return t[T]=t[T]||{}}function x(t,e,i){return $(t)[e]=i}function S(t,e){var i=$(t);return void 0===i[e]&&(i[e]=t.dataset?t.dataset[e]:_(t).attr("data-"+e)),i[e]}v.extend({data:function(t,e){if(l(t))return void 0===e?S(this[0],t):this.each(function(i){return x(i,t,e)});for(var i in t)this.data(i,t[i]);return this},removeData:function(t){return this.each(function(e){return function(t,e){var i=$(t);i?delete i[e]:t.dataset?delete t.dataset[e]:_(t).removeAttr("data-"+name)}(e,t)})}});var C=/\S+/g;function k(t){return l(t)&&t.match(C)}function L(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function A(t,e,i){t.classList?t.classList.add(e):i.indexOf(" "+e+" ")&&(t.className+=" "+e)}function M(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}v.extend({addClass:function(t){var e=k(t);return e?this.each(function(t){var i=" "+t.className+" ";y(e,function(e){A(t,e,i)})}):this},attr:function(t,e){if(t){if(l(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each(function(i){i.setAttribute?i.setAttribute(t,e):i[t]=e});for(var i in t)this.attr(i,t[i]);return this}},hasClass:function(t){var e=!1,i=k(t);return i&&i.length&&this.each(function(t){return!(e=L(t,i[0]))}),e},prop:function(t,e){if(l(t))return void 0===e?this[0][t]:this.each(function(i){i[t]=e});for(var i in t)this.prop(i,t[i]);return this},removeAttr:function(t){return this.each(function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]})},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=k(t);return e?this.each(function(t){y(e,function(e){M(t,e)})}):this},removeProp:function(t){return this.each(function(e){delete e[t]})},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var i=k(t);return i?this.each(function(t){var e=" "+t.className+" ";y(i,function(i){L(t,i)?M(t,i):A(t,i,e)})}):this}}),v.extend({add:function(t,e){return E(_.merge(this,_(t,e)))},each:function(t){return y(this,t),this},eq:function(t){return _(this.get(t))},filter:function(t){if(!t)return this;var e=s(t)?t:w(t);return _(o.call(this,function(i){return e(i,t)}))},first:function(){return this.eq(0)},get:function(t){return void 0===t?r.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?_(t)[0]:this[0],i=t?this:_(e).parent().children();return r.call(i).indexOf(e)},last:function(){return this.eq(-1)}});var P=function(){var t=/(?:^\w|[A-Z]|\b\w)/g,e=/[\s-_]+/g;return function(i){return i.replace(t,function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()}).replace(e,"")}}(),D=function(){var t={},e=document.createElement("div").style;return function(i){if(i=P(i),t[i])return t[i];var n=i.charAt(0).toUpperCase()+i.slice(1);return y((i+" "+["webkit","moz","ms","o"].join(n+" ")+n).split(" "),function(n){if(n in e)return t[n]=i=t[i]=n,!1}),t[i]}}();function R(t,e){return parseInt(i.getComputedStyle(t[0],null)[e],10)||0}function O(t,e,i){var n,r=S(t,"_cashEvents"),o=r&&r[e];o&&(i?(t.removeEventListener(e,i),(n=o.indexOf(i))>=0&&o.splice(n,1)):(y(o,function(i){t.removeEventListener(e,i)}),o=[]))}function I(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function N(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return function(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}(t);case"select-multiple":return function(t){var e=[];return y(t.options,function(t){t.selected&&e.push(t.value)}),e.length?e:null}(t);case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function B(t,e,i){var n=l(e);n||!e.length?y(t,n?function(t){return t.insertAdjacentHTML(i?"afterbegin":"beforeend",e)}:function(t,n){return function(t,e,i){if(i){var n=t.childNodes[0];t.insertBefore(e,n)}else t.appendChild(e)}(t,0===n?e:e.cloneNode(!0),i)}):y(e,function(e){return B(t,e,i)})}_.prefixedProp=D,_.camelCase=P,v.extend({css:function(t,e){if(l(t))return t=D(t),arguments.length>1?this.each(function(i){return i.style[t]=e}):i.getComputedStyle(this[0])[t];for(var n in t)this.css(n,t[n]);return this}}),y(["Width","Height"],function(t){var e=t.toLowerCase();v[e]=function(){return this[0].getBoundingClientRect()[e]},v["inner"+t]=function(){return this[0]["client"+t]},v["outer"+t]=function(e){return this[0]["offset"+t]+(e?R(this,"margin"+("Width"===t?"Left":"Top"))+R(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),v.extend({off:function(t,e){return this.each(function(i){return O(i,t,e)})},on:function(t,e,i,n){var r;if(!l(t)){for(var o in t)this.on(o,e,t[o]);return this}return s(e)&&(i=e,e=null),"ready"===t?(g(i),this):(e&&(r=i,i=function(t){for(var i=t.target;!b(i,e);){if(i===this||null===i)return!1;i=i.parentNode}i&&r.call(i,t)}),this.each(function(e){var r=i;n&&(r=function(){i.apply(this,arguments),O(e,t,r)}),function(t,e,i){var n=S(t,"_cashEvents")||x(t,"_cashEvents",{});n[e]=n[e]||[],n[e].push(i),t.addEventListener(e,i)}(e,t,r)}))},one:function(t,e,i){return this.on(t,e,i,!0)},ready:g,trigger:function(t,e){if(document.createEvent){var i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!1),i=this.extend(i,e),this.each(function(t){return t.dispatchEvent(i)})}}}),v.extend({serialize:function(){var t="";return y(this[0].elements||this,function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var i=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var n=N(e);null!==n&&y(n,function(e){t+=I(i,e)});break;default:var r=N(e);null!==r&&(t+=I(i,r))}}}),t.substr(1)},val:function(t){return void 0===t?N(this[0]):this.each(function(e){return e.value=t})}}),v.extend({after:function(t){return _(t).insertAfter(this),this},append:function(t){return B(this,t),this},appendTo:function(t){return B(_(t),this),this},before:function(t){return _(t).insertBefore(this),this},clone:function(){return _(this.map(function(t){return t.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t){return t.innerHTML=e})},insertAfter:function(t){var e=this;return _(t).each(function(t,i){var n=t.parentNode,r=t.nextSibling;e.each(function(t){n.insertBefore(0===i?t:t.cloneNode(!0),r)})}),this},insertBefore:function(t){var e=this;return _(t).each(function(t,i){var n=t.parentNode;e.each(function(e){n.insertBefore(0===i?e:e.cloneNode(!0),t)})}),this},prepend:function(t){return B(this,t,!0),this},prependTo:function(t){return B(_(t),this,!0),this},remove:function(){return this.each(function(t){if(t.parentNode)return t.parentNode.removeChild(t)})},text:function(t){return void 0===t?this[0].textContent:this.each(function(e){return e.textContent=t})}});var F=e.documentElement;return v.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+i.pageYOffset-F.clientTop,left:t.left+i.pageXOffset-F.clientLeft}},offsetParent:function(){return _(this[0].offsetParent)}}),v.extend({children:function(t){var e=[];return this.each(function(t){a.apply(e,t.children)}),e=E(e),t?e.filter(function(e){return b(e,t)}):e},closest:function(t){return!t||this.length<1?_():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,i=w(t);return this.each(function(n){return!(e=i(n,t))}),e},find:function(t){if(!t||t.nodeType)return _(t&&this.has(t).length?t:null);var e=[];return this.each(function(i){a.apply(e,f(t,i))}),E(e)},has:function(t){var e=l(t)?function(e){return 0!==f(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return _(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=w(t);return this.filter(function(i){return!e(i,t)})},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),E(t)},parents:function(t){var i,n=[];return this.each(function(r){for(i=r;i&&i.parentNode&&i!==e.body.parentNode;)i=i.parentNode,(!t||t&&b(i,t))&&n.push(i)}),E(n)},prev:function(){return _(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),i=this[0];return e.filter(function(t){return t!==i})}}),_}();var Component=function(){function t(e,i,n){_classCallCheck(this,t),i instanceof Element||console.error(Error(i+" is not an HTML Element"));var r=e.getInstance(i);r&&r.destroy(),this.el=i,this.$el=cash(i)}return _createClass(t,null,[{key:"init",value:function(t,e,i){var n=null;if(e instanceof Element)n=new t(e,i);else if(e.jquery||e instanceof NodeList){for(var r=[],o=0;o<e.length;o++)r.push(new t(e[o],i));n=r}return n}}]),t}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),"function"==typeof define&&define.amd?define("M",[],function(){return M}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=M),exports.default=M),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1;var docHandleKeydown=function(t){t.which===M.keys.TAB&&(M.tabPressed=!0)},docHandleKeyup=function(t){t.which===M.keys.TAB&&(M.tabPressed=!1)};document.addEventListener("keydown",docHandleKeydown),document.addEventListener("keyup",docHandleKeyup),M.initializeJqueryWrapper=function(t,e,i){jQuery.fn[e]=function(n){if(t.prototype[n]){var r=Array.prototype.slice.call(arguments,1);if("get"===n.slice(0,3)){var o=this.first()[0][i];return o[n].apply(o,r)}return this.each(function(){var t=this[i];t[n].apply(t,r)})}if("object"==typeof n||!n)return t.init(this,arguments[0]),this;jQuery.error("Method "+n+" does not exist on jQuery."+e)}},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),i=!1;return e.add(e.parents()).each(function(){if("fixed"===$(this).css("position"))return i=!0,!1}),i},M.checkWithinContainer=function(t,e,i){var n={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),o=t.scrollLeft,a=t.scrollTop,s=e.left-o,l=e.top-a;return(s<r.left+i||s<i)&&(n.left=!0),(s+e.width>r.right-i||s+e.width>window.innerWidth-i)&&(n.right=!0),(l<r.top+i||l<i)&&(n.top=!0),(l+e.height>r.bottom-i||l+e.height>window.innerHeight-i)&&(n.bottom=!0),n},M.checkPossibleAlignments=function(t,e,i,n){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,a=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=e.scrollLeft,u=e.scrollTop,c=i.left-l,h=i.top-u;return r.spaceOnRight=o?window.innerWidth-(s.left+i.width):e.offsetWidth-(c+i.width),(!o&&c+i.width>e.offsetWidth||o&&s.left+i.width>window.innerWidth)&&(r.left=!1),r.spaceOnLeft=o?s.right-i.width:c-i.width+s.width,(!o&&c-i.width+s.width<0||o&&s.right-i.width<0)&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(s.top+i.height+n):a.height-(h+i.height+n),(!o&&h+i.height+n>a.height||o&&s.top+i.height+n>window.innerHeight)&&(r.top=!1),r.spaceOnTop=o?s.bottom-(i.height+n):h-(i.height+n),(!o&&h-i.height-n<0||o&&s.bottom-i.height-n<0)&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var getTime=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,i){var n=void 0,r=void 0,o=void 0,a=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:getTime(),a=null,o=t.apply(n,r),n=r=null};return function(){var u=getTime();s||!1!==i.leading||(s=u);var c=e-(u-s);return n=this,r=arguments,c<=0?(clearTimeout(a),a=null,s=u,o=t.apply(n,r),n=r=null):a||!1===i.trailing||(a=setTimeout(l,c)),o}};var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var r=i++;return{value:e(r,t[r]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill=function(t,e,i,n){if(e){for(i=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var r=t[n];r in i||(i[r]={}),i=i[r]}(e=e(n=i[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(i,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var $jscomp$this=this;function get_gravatar(t,e){e=e||80;return"https://gravatar.shino.cc/avatar/"+function(t){function e(t,e){return t<<e|t>>>32-e}function i(t,e){var i,n,r,o,a;return r=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^a^r^o:i|n?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function n(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return t&e|~t&i}(n,r,o),a),l)),i(e(t,s),n)}function r(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return t&i|e&~i}(n,r,o),a),l)),i(e(t,s),n)}function o(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return t^e^i}(n,r,o),a),l)),i(e(t,s),n)}function a(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return e^(t|~i)}(n,r,o),a),l)),i(e(t,s),n)}function s(t){var e,i="",n="";for(e=0;e<=3;e++)i+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return i}var l,u,c,h,d,f,p,g,m,_=Array();for(_=function(t){for(var e,i=t.length,n=i+8,r=16*((n-n%64)/64+1),o=Array(r-1),a=0,s=0;s<i;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[r-2]=i<<3,o[r-1]=i>>>29,o}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),f=1732584193,p=4023233417,g=2562383102,m=271733878,l=0;l<_.length;l+=16)u=f,c=p,h=g,d=m,f=n(f,p,g,m,_[l+0],7,3614090360),m=n(m,f,p,g,_[l+1],12,3905402710),g=n(g,m,f,p,_[l+2],17,606105819),p=n(p,g,m,f,_[l+3],22,3250441966),f=n(f,p,g,m,_[l+4],7,4118548399),m=n(m,f,p,g,_[l+5],12,1200080426),g=n(g,m,f,p,_[l+6],17,2821735955),p=n(p,g,m,f,_[l+7],22,4249261313),f=n(f,p,g,m,_[l+8],7,1770035416),m=n(m,f,p,g,_[l+9],12,2336552879),g=n(g,m,f,p,_[l+10],17,4294925233),p=n(p,g,m,f,_[l+11],22,2304563134),f=n(f,p,g,m,_[l+12],7,1804603682),m=n(m,f,p,g,_[l+13],12,4254626195),g=n(g,m,f,p,_[l+14],17,2792965006),f=r(f,p=n(p,g,m,f,_[l+15],22,1236535329),g,m,_[l+1],5,4129170786),m=r(m,f,p,g,_[l+6],9,3225465664),g=r(g,m,f,p,_[l+11],14,643717713),p=r(p,g,m,f,_[l+0],20,3921069994),f=r(f,p,g,m,_[l+5],5,3593408605),m=r(m,f,p,g,_[l+10],9,38016083),g=r(g,m,f,p,_[l+15],14,3634488961),p=r(p,g,m,f,_[l+4],20,3889429448),f=r(f,p,g,m,_[l+9],5,568446438),m=r(m,f,p,g,_[l+14],9,3275163606),g=r(g,m,f,p,_[l+3],14,4107603335),p=r(p,g,m,f,_[l+8],20,1163531501),f=r(f,p,g,m,_[l+13],5,2850285829),m=r(m,f,p,g,_[l+2],9,4243563512),g=r(g,m,f,p,_[l+7],14,1735328473),f=o(f,p=r(p,g,m,f,_[l+12],20,2368359562),g,m,_[l+5],4,4294588738),m=o(m,f,p,g,_[l+8],11,2272392833),g=o(g,m,f,p,_[l+11],16,1839030562),p=o(p,g,m,f,_[l+14],23,4259657740),f=o(f,p,g,m,_[l+1],4,2763975236),m=o(m,f,p,g,_[l+4],11,1272893353),g=o(g,m,f,p,_[l+7],16,4139469664),p=o(p,g,m,f,_[l+10],23,3200236656),f=o(f,p,g,m,_[l+13],4,681279174),m=o(m,f,p,g,_[l+0],11,3936430074),g=o(g,m,f,p,_[l+3],16,3572445317),p=o(p,g,m,f,_[l+6],23,76029189),f=o(f,p,g,m,_[l+9],4,3654602809),m=o(m,f,p,g,_[l+12],11,3873151461),g=o(g,m,f,p,_[l+15],16,530742520),f=a(f,p=o(p,g,m,f,_[l+2],23,3299628645),g,m,_[l+0],6,4096336452),m=a(m,f,p,g,_[l+7],10,1126891415),g=a(g,m,f,p,_[l+14],15,2878612391),p=a(p,g,m,f,_[l+5],21,4237533241),f=a(f,p,g,m,_[l+12],6,1700485571),m=a(m,f,p,g,_[l+3],10,2399980690),g=a(g,m,f,p,_[l+10],15,4293915773),p=a(p,g,m,f,_[l+1],21,2240044497),f=a(f,p,g,m,_[l+8],6,1873313359),m=a(m,f,p,g,_[l+15],10,4264355552),g=a(g,m,f,p,_[l+6],15,2734768916),p=a(p,g,m,f,_[l+13],21,1309151649),f=a(f,p,g,m,_[l+4],6,4149444226),m=a(m,f,p,g,_[l+11],10,3174756917),g=a(g,m,f,p,_[l+2],15,718787259),p=a(p,g,m,f,_[l+9],21,3951481745),f=i(f,u),p=i(p,c),g=i(g,h),m=i(m,d);return(s(f)+s(p)+s(g)+s(m)).toLowerCase()}(t)+".jpg?s="+e+"&d=mm"}function social_share(){var t;!function(){function e(t){this.mode=s.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,i=this.data.length;e<i;e++){var n=[],r=this.data.charCodeAt(e);r>65536?(n[0]=240|(1835008&r)>>>18,n[1]=128|(258048&r)>>>12,n[2]=128|(4032&r)>>>6,n[3]=128|63&r):r>2048?(n[0]=224|(61440&r)>>>12,n[1]=128|(4032&r)>>>6,n[2]=128|63&r):r>128?(n[0]=192|(1984&r)>>>6,n[1]=128|63&r):n[0]=r,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function i(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function r(t,e){this.totalCount=t,this.dataCount=e}function o(){this.buffer=[],this.length=0}function a(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var i=e.toString().match(/android ([0-9]\.[0-9])/i);i&&i[1]&&(t=parseFloat(i[1]))}return t}e.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,i=this.parsedData.length;e<i;e++)t.put(this.parsedData[e],8)}},i.prototype={addData:function(t){var i=new e(t);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=c.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(n.beginFill(0,100),n.moveTo(s,o),n.lineTo(s+1,o),n.lineTo(s+1,o+1),n.lineTo(s,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=c.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],r=t[i];if(null==this.modules[n][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[n+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(t){for(var e=c.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++)n=!t&&1==(e>>i&1),this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n;for(i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=c.getBCHTypeInfo(i),r=0;r<15;r++)o=!t&&1==(n>>r&1),r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o;for(r=0;r<15;r++){var o=!t&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[n][a-s]){var l=!1;o<t.length&&(l=1==(t[o]>>>r&1)),c.getMask(e,n,a-s)&&(l=!l),this.modules[n][a-s]=l,-1==--r&&(o++,r=7)}if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(t,e,n){for(var a=r.getRSBlocks(t,e),s=new o,l=0;l<n.length;l++){var u=n[l];s.put(u.mode,4),s.put(u.getLength(),c.getLengthInBits(u.mode,t)),u.write(s)}var h=0;for(l=0;l<a.length;l++)h+=a[l].dataCount;if(s.getLengthInBits()>8*h)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*h+")");for(s.getLengthInBits()+4<=8*h&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*h)&&(s.put(i.PAD0,8),!(s.getLengthInBits()>=8*h));)s.put(i.PAD1,8);return i.createBytes(s,a)},i.createBytes=function(t,e){for(var i=0,r=0,o=0,a=new Array(e.length),s=new Array(e.length),l=0;l<e.length;l++){var u=e[l].dataCount,h=e[l].totalCount-u;for(r=Math.max(r,u),o=Math.max(o,h),a[l]=new Array(u),m=0;m<a[l].length;m++)a[l][m]=255&t.buffer[m+i];i+=u;var d=c.getErrorCorrectPolynomial(h),f=new n(a[l],d.getLength()-1).mod(d);for(s[l]=new Array(d.getLength()-1),m=0;m<s[l].length;m++){var p=m+f.getLength()-s[l].length;s[l][m]=p>=0?f.get(p):0}}for(var g=0,m=0;m<e.length;m++)g+=e[m].totalCount;var _=new Array(g),v=0;for(m=0;m<r;m++)for(l=0;l<e.length;l++)m<a[l].length&&(_[v++]=a[l][m]);for(m=0;m<o;m++)for(l=0;l<e.length;l++)m<s[l].length&&(_[v++]=s[l][m]);return _};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},u={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;c.getBCHDigit(e)-c.getBCHDigit(c.G15)>=0;)e^=c.G15<<c.getBCHDigit(e)-c.getBCHDigit(c.G15);return(t<<10|e)^c.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;c.getBCHDigit(e)-c.getBCHDigit(c.G18)>=0;)e^=c.G18<<c.getBCHDigit(e)-c.getBCHDigit(c.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return c.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case u.PATTERN000:return(e+i)%2==0;case u.PATTERN001:return e%2==0;case u.PATTERN010:return i%3==0;case u.PATTERN011:return(e+i)%3==0;case u.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case u.PATTERN101:return e*i%2+e*i%3==0;case u.PATTERN110:return(e*i%2+e*i%3)%2==0;case u.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new n([1],0),i=0;i<t;i++)e=e.multiply(new n([1,h.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(c=0;c<e;c++){for(var r=0,o=t.isDark(n,c),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var s=-1;s<=1;s++)c+s<0||e<=c+s||0==a&&0==s||o==t.isDark(n+a,c+s)&&r++;r>5&&(i+=3+r-5)}for(n=0;n<e-1;n++)for(c=0;c<e-1;c++){var l=0;t.isDark(n,c)&&l++,t.isDark(n+1,c)&&l++,t.isDark(n,c+1)&&l++,t.isDark(n+1,c+1)&&l++,0!=l&&4!=l||(i+=3)}for(n=0;n<e;n++)for(c=0;c<e-6;c++)t.isDark(n,c)&&!t.isDark(n,c+1)&&t.isDark(n,c+2)&&t.isDark(n,c+3)&&t.isDark(n,c+4)&&!t.isDark(n,c+5)&&t.isDark(n,c+6)&&(i+=40);for(c=0;c<e;c++)for(n=0;n<e-6;n++)t.isDark(n,c)&&!t.isDark(n+1,c)&&t.isDark(n+2,c)&&t.isDark(n+3,c)&&t.isDark(n+4,c)&&!t.isDark(n+5,c)&&t.isDark(n+6,c)&&(i+=40);for(var u=0,c=0;c<e;c++)for(n=0;n<e;n++)t.isDark(n,c)&&u++;return i+Math.abs(100*u/e/e-50)/5*10}},h={glog:function(t){if(t<1)throw new Error("glog("+t+")");return h.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return h.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;d<8;d++)h.EXP_TABLE[d]=1<<d;for(d=8;d<256;d++)h.EXP_TABLE[d]=h.EXP_TABLE[d-4]^h.EXP_TABLE[d-5]^h.EXP_TABLE[d-6]^h.EXP_TABLE[d-8];for(d=0;d<255;d++)h.LOG_TABLE[h.EXP_TABLE[d]]=d;n.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<t.getLength();r++)e[i+r]^=h.gexp(h.glog(this.get(i))+h.glog(t.get(r)));return new n(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=h.glog(this.get(0))-h.glog(t.get(0)),i=new Array(this.getLength()),r=0;r<this.getLength();r++)i[r]=this.get(r);for(r=0;r<t.getLength();r++)i[r]^=h.gexp(h.glog(t.get(r))+e);return new n(i,0).mod(t)}},r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(t,e){var i=r.getRsBlockTable(t,e);if(null==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,o=[],a=0;a<n;a++)for(var s=i[3*a+0],l=i[3*a+1],u=i[3*a+2],c=0;c<s;c++)o.push(new r(l,u));return o},r.getRsBlockTable=function(t,e){switch(e){case l.L:return r.RS_BLOCK_TABLE[4*(t-1)+0];case l.M:return r.RS_BLOCK_TABLE[4*(t-1)+1];case l.Q:return r.RS_BLOCK_TABLE[4*(t-1)+2];case l.H:return r.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},o.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var f=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],p=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i}var i=this._htOption,n=this._el,r=t.getModuleCount();Math.floor(i.width/r),Math.floor(i.height/r),this.clear();var o=e("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:i.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(o),o.appendChild(e("rect",{fill:i.colorLight,width:"100%",height:"100%"})),o.appendChild(e("rect",{fill:i.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(t.isDark(a,s)){var l=e("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),g="svg"===document.documentElement.tagName.toLowerCase()?p:"undefined"==typeof CanvasRenderingContext2D?function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,i=this._el,n=t.getModuleCount(),r=Math.floor(e.width/n),o=Math.floor(e.height/n),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<n;s++){a.push("<tr>");for(var l=0;l<n;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(t.isDark(s,l)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),i.innerHTML=a.join("");var u=i.childNodes[0],c=(e.width-u.offsetWidth)/2,h=(e.height-u.offsetHeight)/2;c>0&&h>0&&(u.style.margin=h+"px "+c+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}():function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,i=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,n,r,o,a,s,l,u,c){if("nodeName"in t&&/img/i.test(t.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*e;else void 0===u&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);i.apply(this,arguments)}}var n=function(t,e){this._bIsPainted=!1,this._android=a(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(t){var e=this._elImage,i=this._oContext,n=this._htOption,r=t.getModuleCount(),o=n.width/r,a=n.height/r,s=Math.round(o),l=Math.round(a);e.style.display="none",this.clear();for(var u=0;u<r;u++)for(var c=0;c<r;c++){var h=t.isDark(u,c),d=c*o,f=u*a;i.strokeStyle=h?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=h?n.colorDark:n.colorLight,i.fillRect(d,f,o,a),i.strokeRect(Math.floor(d)+.5,Math.floor(f)+.5,s,l),i.strokeRect(Math.ceil(d)-.5,Math.ceil(f)-.5,s,l)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var i=this;if(i._fFail=e,i._fSuccess=t,null===i._bSupportDataURI){var n=document.createElement("img"),r=function(){i._bSupportDataURI=!1,i._fFail&&i._fFail.call(i)};return n.onabort=r,n.onerror=r,n.onload=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)},void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===i._bSupportDataURI&&i._fSuccess?i._fSuccess.call(i):!1===i._bSupportDataURI&&i._fFail&&i._fFail.call(i)}.call(this,t)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},n}();(t=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof e&&(e={text:e}),e)for(var i in e)this._htOption[i]=e[i];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(g=p),this._android=a(),this._el=t,this._oQRCode=null,this._oDrawing=new g(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new i(function(t,e){for(var i=1,n=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),r=0,o=f.length;r<=o;r++){var a=0;switch(e){case l.L:a=f[r][0];break;case l.M:a=f[r][1];break;case l.Q:a=f[r][2];break;case l.H:a=f[r][3]}if(n<=a)break;i++}if(i>f.length)throw new Error("Too long data");return i}(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},t.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},t.prototype.clear=function(){this._oDrawing.clear()},t.CorrectLevel=l}(),function(e,i,n){function r(t){return(i.querySelectorAll||e.jQuery||e.Zepto||function(t){var e=[];return l(t.split(/\s*,\s*/),function(n){var r=n.match(/([#.])(\w+)/);if(null===r)throw Error("Supports only simple single #ID or .CLASS selector.");if(r[1]){var o=i.getElementById(r[2]);o&&e.push(o)}e=e.concat(a(t))}),e}).call(i,t)}function o(t){return(i.getElementsByName(t)[0]||0).content}function a(t,e,i){if(t.getElementsByClassName)return t.getElementsByClassName(e);var n=[],r=t.getElementsByTagName(i||"*");return e=" "+e+" ",l(r,function(t){(" "+(t.className||"")+" ").indexOf(e)>=0&&n.push(t)}),n}function s(t){var e=i.createElement("div");return e.innerHTML=t,e.childNodes}function l(t,e){var i=t.length;if(i===n){for(var r in t)if(t.hasOwnProperty(r)&&!1===e.call(t[r],t[r],r))break}else for(var o=0;o<i&&!1!==e.call(t[o],t[o],o);o++);}var u=Array.prototype.indexOf,c=Object.assign,h=/MicroMessenger/i.test(navigator.userAgent),d=i.documentElement.clientWidth<=768,f=(i.images[0]||0).src||"",p=o("site")||o("Site")||i.title,g=o("title")||o("Title")||i.title,m=o("description")||o("Description")||"",_={url:location.href,origin:location.origin,source:p,title:g,description:m,image:f,imageSelector:n,weiboKey:"",wechatQrcodeTitle:"å¾®ä¿¡æ«ä¸æ«ï¼åäº«",wechatQrcodeHelper:"<p>å¾®ä¿¡éç¹âåç°âï¼æ«ä¸ä¸</p><p>äºç»´ç ä¾¿å¯å°æ¬æåäº«è³æååã</p>",wechatQrcodeSize:100,sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],mobileSites:[],disabled:[],initialized:!1},v={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:'http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}&summary="{{SUMMARY}}"',tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{ORIGIN}}",google:"https://plus.google.com/share?url={{URL}}"};e.socialShare=function(e,i){(e="string"==typeof e?r(e):e).length===n&&(e=[e]),l(e,function(e){e.initialized||function(e,i){var o=function(){var t=arguments;if(c)return c.apply(null,t);var e={};return l(t,function(t){l(t,function(t,i){e[i]=t})}),t[0]=e}({},_,i||{},function(t){if(t.dataset)return JSON.parse(JSON.stringify(t.dataset));var e={};return t.hasAttributes()?(l(t.attributes,function(t){var i=t.name;if(0!==i.indexOf("data-"))return!0;i=i.replace(/^data-/i,"").replace(/-(\w)/g,function(t,e){return e.toUpperCase()}),e[i]=t.value}),e):{}}(e));o.imageSelector&&(o.image=r(o.imageSelector).map(function(t){return t.src}).join("||")),function(t,e){var i=" ";l((t.className+" "+e).split(/\s+/),function(t){i.indexOf(" "+t+" ")<0&&(i+=t+" ")}),t.className=i.slice(1,-1)}(e,"share-component social-share"),function(t,e){var i=function(t){t.mobileSites.length||(t.mobileSites=t.sites);var e=(d?t.mobileSites:t.sites).slice(0),i=t.disabled;return"string"==typeof e&&(e=e.split(/\s*,\s*/)),"string"==typeof i&&(i=i.split(/\s*,\s*/)),h&&i.push("wechat"),i.length&&l(i,function(t){e.splice(function(t,e,i){var n;if(e){if(u)return u.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1}(t,e),1)}),e}(e),r="prepend"==e.mode;l(r?i.reverse():i,function(i){var o=function(t,e){return e.summary||(e.summary=e.description),v[t].replace(/\{\{(\w)(\w*)\}\}/g,function(i,r,o){var a=t+r+o.toLowerCase();return o=(r+o).toLowerCase(),encodeURIComponent((e[a]===n?e[o]:e[a])||"")})}(i,e),l=e.initialized?a(t,"icon-"+i):s('<a class="social-share-icon icon-'+i+'"></a>');if(!l.length)return!0;l[0].href=o,"wechat"===i?l[0].tabindex=-1:l[0].target="_blank",e.initialized||(r?t.insertBefore(l[0],t.firstChild):t.appendChild(l[0]))})}(e,o),function(e,i){var n=a(e,"icon-wechat","a");if(0===n.length)return!1;var r=s('<div class="wechat-qrcode"><h4>'+i.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+i.wechatQrcodeHelper+"</div></div>"),o=a(r[0],"qrcode","div");n[0].appendChild(r[0]),new t(o[0],{text:i.url,width:i.wechatQrcodeSize,height:i.wechatQrcodeSize})}(e,o),e.initialized=!0}(e,i)})},function(t){var n="addEventListener",r=i[n]?"":"on";~i.readyState.indexOf("m")?t():"load DOMContentLoaded readystatechange".replace(/\w+/g,function(o,a){(a?i:e)[r?"attachEvent":n](r+o,function(){t&&(a<6||~i.readyState.indexOf("m"))&&(t(),t=0)},!1)})}(function(){socialShare(".social-share, .share-component")})}(window,document)}M.anime=function(){function t(t){if(!L.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var i=t.length,n=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<i;o++)if(o in t){var a=t[o];e.call(n,a,o,t)&&r.push(a)}return r}function i(t){return t.reduce(function(t,e){return t.concat(L.arr(e)?i(e):e)},[])}function n(e){return L.arr(e)?e:(L.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some(function(t){return t===e})}function o(t){var e,i={};for(e in t)i[e]=t[e];return i}function a(t,e){var i,n=o(t);for(i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function s(t,e){var i,n=o(t);for(i in e)n[i]=L.und(t[i])?e[i]:t[i];return n}function l(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function u(t,e){return L.fnc(t)?t(e.target,e.id,e.total):t}function c(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(t,e){return L.dom(t)&&r(k,e)?"transform":L.dom(t)&&(t.getAttribute(e)||L.svg(t)&&t[e])?"attribute":L.dom(t)&&"transform"!==e&&c(t,e)?"css":null!=t[e]?"object":void 0}function d(t,i){switch(h(t,i)){case"transform":return function(t,i){var n=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(i);n=-1<i.indexOf("scale")?1:0+n;if(!(t=t.style.transform))return n;for(var r=[],o=[],a=[],s=/(\w+)\((.+?)\)/g;r=s.exec(t);)o.push(r[1]),a.push(r[2]);return(t=e(a,function(t,e){return o[e]===i})).length?t[0]:n}(t,i);case"css":return c(t,i);case"attribute":return t.getAttribute(i)}return t[i]||0}function f(t,e){var i=/^(\*=|\+=|-=)/.exec(t);if(!i)return t;var n=l(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(i[0],"")),i[0][0]){case"+":return e+t+n;case"-":return e-t+n;case"*":return e*t+n}}function p(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g(t){t=t.points;for(var e,i=0,n=0;n<t.numberOfItems;n++){var r=t.getItem(n);0<n&&(i+=p(e,r)),e=r}return i}function m(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return p({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return g(t);case"polygon":var e=t.points;return g(t)+p(e.getItem(e.numberOfItems-1),e.getItem(0))}}function _(t,e){function i(i){return i=void 0===i?0:i,t.el.getPointAtLength(1<=e+i?e+i:0)}var n=i(),r=i(-1),o=i(1);switch(t.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function v(t,e){var i,n=/-?\d*\.?\d+/g;if(i=L.pth(t)?t.totalLength:t,L.col(i))if(L.rgb(i)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(i);i=r?"rgba("+r[1]+",1)":i}else i=L.hex(i)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(i):L.hsl(i)?function(t){function e(t,e,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(i[1])/360;var n=parseInt(i[2])/100,r=parseInt(i[3])/100;i=i[4]||1;if(0==n)r=n=t=r;else{var o=.5>r?r*(1+n):r+n-r*n,a=2*r-o;r=e(a,o,t+1/3),n=e(a,o,t);t=e(a,o,t-1/3)}return"rgba("+255*r+","+255*n+","+255*t+","+i+")"}(i):void 0;else r=(r=l(i))?i.substr(0,i.length-r.length):i,i=e&&!/\s/g.test(i)?r+e:r;return{original:i+="",numbers:i.match(n)?i.match(n).map(Number):[0],strings:L.str(t)||e?i.split(n):[]}}function y(t){return e(t=t?i(L.arr(t)?t.map(n):n(t)):[],function(t,e,i){return i.indexOf(t)===e})}function b(t,e){var i=o(e);if(L.arr(t)){var r=t.length;2!==r||L.obj(t[0])?L.fnc(e.duration)||(i.duration=e.duration/r):t={value:t}}return n(t).map(function(t,i){return i=i?0:e.delay,t=L.obj(t)&&!L.pth(t)?t:{value:t},L.und(t.delay)&&(t.delay=i),t}).map(function(t){return s(t,i)})}function w(t,e){var i;return t.tweens.map(function(n){var r=(n=function(t,e){var i,n={};for(i in t){var r=u(t[i],e);L.arr(r)&&(1===(r=r.map(function(t){return u(t,e)})).length&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e)).value,o=d(e.target,t.name),a=i?i.to.original:o,s=(a=L.arr(r)?r[0]:a,f(L.arr(r)?r[1]:r,a));o=l(s)||l(a)||l(o);return n.from=v(a,o),n.to=v(s,o),n.start=i?i.end:t.offset,n.end=n.start+n.delay+n.duration,n.easing=function(t){return L.arr(t)?A.apply(this,t):M[t]}(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=L.pth(r),n.isColor=L.col(n.from.original),n.isColor&&(n.round=1),i=n})}function E(t,e,i,n){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):r?n.delay:i.offset+n.delay+n.duration}function T(t){var n,r,o=a(S,t),l=a(C,t),u=function(t){var e=y(t);return e.map(function(t,i){return{target:t,id:i,total:e.length}})}(t.targets),c=[],d=s(o,l);for(n in t)d.hasOwnProperty(n)||"targets"===n||c.push({name:n,offset:d.offset,tweens:b(t[n],l)});return r=c,t=e(i(u.map(function(t){return r.map(function(e){var i=h(t.target,e.name);if(i){var n=w(e,t);e={type:i,property:e.name,animatable:t,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e})})),function(t){return!L.und(t)}),s(o,{children:[],animatables:u,animations:t,duration:E("duration",t,o,l),delay:E("delay",t,o,l)})}function $(t){function i(){return window.Promise&&new Promise(function(t){return d=t})}function n(t){return p.reversed?p.duration-t:t}function r(t){for(var i=0,n={},r=p.animations,o=r.length;i<o;){var a=r[i],s=a.animatable,l=(u=a.tweens)[f=u.length-1];f&&(l=e(u,function(e){return t<e.end})[0]||l);for(var u=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,h=isNaN(u)?1:l.easing(u,l.elasticity),d=(u=l.to.strings,l.round),f=[],g=void 0,m=(g=l.to.numbers.length,0);m<g;m++){var v=void 0,y=(v=l.to.numbers[m],l.from.numbers[m]);v=l.isPath?_(l.value,h*v):y+h*(v-y);d&&(l.isColor&&2<m||(v=Math.round(v*d)/d)),f.push(v)}if(l=u.length)for(g=u[0],h=0;h<l;h++)d=u[h+1],m=f[h],isNaN(m)||(g=d?g+(m+d):g+(m+" "));else g=f[0];P[a.type](s.target,a.property,g,n,s.id),a.currentValue=g,i++}if(i=Object.keys(n).length)for(r=0;r<i;r++)x||(x=c(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[x]=n[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function o(t){p[t]&&p[t](p)}function a(){p.remaining&&!0!==p.remaining&&p.remaining--}function s(t){var e=p.duration,s=p.offset,c=s+p.delay,g=p.currentTime,m=p.reversed,_=n(t);if(p.children.length){var v=p.children,y=v.length;if(_>=p.currentTime)for(var b=0;b<y;b++)v[b].seek(_);else for(;y--;)v[y].seek(_)}(_>=c||!e)&&(p.began||(p.began=!0,o("begin")),o("run")),_>s&&_<e?r(_):(_<=s&&0!==g&&(r(0),m&&a()),(_>=e&&g!==e||!e)&&(r(e),m||a())),o("update"),t>=e&&(p.remaining?(u=l,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=i()))),h=0)}t=void 0===t?{}:t;var l,u,h=0,d=null,f=i(),p=T(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){l=t,u||(u=l),s((h+l-u)*$.speed)},p.seek=function(t){s(n(t))},p.pause=function(){var t=D.indexOf(p);-1<t&&D.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,u=0,h=n(p.currentTime),D.push(p),R||O())},p.reverse=function(){p.reversed=!p.reversed,u=0,h=n(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var x,S={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},C={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},k="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),L={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return L.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||L.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return L.hex(t)||L.rgb(t)||L.hsl(t)}},A=function(){function t(t,e,i){return(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t}return function(e,i,n,r){if(0<=e&&1>=e&&0<=n&&1>=n){var o=new Float32Array(11);if(e!==i||n!==r)for(var a=0;11>a;++a)o[a]=t(.1*a,e,n);return function(a){if(e===i&&n===r)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,l=1;10!==l&&o[l]<=a;++l)s+=.1;l=s+(a-o[--l])/(o[l+1]-o[l])*.1;var u=3*(1-3*n+3*e)*l*l+2*(3*n-6*e)*l+3*e;if(.001<=u){for(s=0;4>s&&0!=(u=3*(1-3*n+3*e)*l*l+2*(3*n-6*e)*l+3*e);++s){var c=t(l,e,n)-a;l=l-c/u}a=l}else if(0===u)a=l;else{l=s,s=s+.1;var h=0;do{0<(u=t(c=l+(s-l)/2,e,n)-a)?s=c:l=c}while(1e-7<Math.abs(u)&&10>++h);a=c}return t(a,i,r)}}}}(),M=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,i){return 1-t(1-e,i)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,i){return.5>e?t(2*e,i)/2:1-t(-2*e+2,i)/2}]},r={linear:A(.25,.25,.75,.75)},o={};for(e in n)o.type=e,n[o.type].forEach(function(t){return function(e,n){r["ease"+t.type+i[n]]=L.fnc(e)?e:A.apply($jscomp$this,e)}}(o)),o={type:o.type};return r}(),P={css:function(t,e,i){return t.style[e]=i},attribute:function(t,e,i){return t.setAttribute(e,i)},object:function(t,e,i){return t[e]=i},transform:function(t,e,i,n,r){n[r]||(n[r]=[]),n[r].push(e+"("+i+")")}},D=[],R=0,O=function(){function t(){R=requestAnimationFrame(e)}function e(e){var i=D.length;if(i){for(var n=0;n<i;)D[n]&&D[n].tick(e),n++;t()}else cancelAnimationFrame(R),R=0}return t}();return $.version="2.2.0",$.speed=1,$.running=D,$.remove=function(t){t=y(t);for(var e=D.length;e--;)for(var i=D[e],n=i.animations,o=n.length;o--;)r(t,n[o].animatable.target)&&(n.splice(o,1),n.length||i.pause())},$.getValue=d,$.path=function(e,i){var n=L.str(e)?t(e)[0]:e,r=i||100;return function(t){return{el:n,property:t,totalLength:m(n)*(r/100)}}},$.setDashoffset=function(t){var e=m(t);return t.setAttribute("stroke-dasharray",e),e},$.bezier=A,$.easings=M,$.timeline=function(t){var e=$(t);return e.pause(),e.duration=0,e.add=function(i){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),n(i).forEach(function(i){var n=s(i,a(C,t||{}));n.targets=n.targets||t.targets,i=e.duration;var r=n.offset;n.autoplay=!1,n.direction=e.direction,n.offset=L.und(r)?i:f(r,i),e.began=!0,e.completed=!0,e.seek(n.offset),(n=$(n)).began=!0,n.completed=!0,n.duration>i&&(e.duration=n.duration),e.children.push(n)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},$.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},$}(),function(t,e){"use strict";var i={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));n.el.M_Collapsible=n,n.options=t.extend({},r.defaults,i),n._setupEventHandlers();var o=n.$el.children("li.active").children(".collapsible-body");return n.options.accordion?o.first().css("display","block"):o.css("display","block"),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleCollapsibleClickBound)}},{key:"_handleCollapsibleClick",value:function(e){var i=t(e.target).closest(".collapsible-header");if(e.target&&i.length){var n=i.closest(".collapsible");if(n[0]===this.el){var r=i.closest("li"),o=n.children("li"),a=r[0].classList.contains("active"),s=o.index(r);a?this.close(s):this.open(s)}}}},{key:"_animateIn",value:function(t){var i=this,n=this.$el.children("li").eq(t);if(n.length){var r=n.children(".collapsible-body");e.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),a=r.css("padding-bottom"),s=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),e({targets:r[0],height:s,paddingTop:o,paddingBottom:a,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof i.options.onOpenEnd&&i.options.onOpenEnd.call(i,n[0])}})}}},{key:"_animateOut",value:function(t){var i=this,n=this.$el.children("li").eq(t);if(n.length){var r=n.children(".collapsible-body");e.remove(r[0]),r.css("overflow","hidden"),e({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof i.options.onCloseEnd&&i.options.onCloseEnd.call(i,n[0])}})}}},{key:"open",value:function(e){var i=this,n=this.$el.children("li").eq(e);if(n.length&&!n[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,n[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each(function(e){var n=r.index(t(e));i.close(n)})}n[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return i}}]),r}();M.Collapsible=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var i={alignment:"left",constrainWidth:!0,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Dropdown=n,r._dropdowns.push(n),n.id=M.getIdFromTrigger(e),n.dropdownEl=document.getElementById(n.id),n.$dropdownEl=t(n.dropdownEl),n.options=t.extend({},r.defaults,i),n.isOpen=!1,n.focusedIndex=-1,n.filterQuery=[],n.$el.after(n.dropdownEl),n._makeDropdownFocusable(),n._resetFilterQueryBound=n._resetFilterQuery.bind(n),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),n._handleDropdownKeydownBound=n._handleDropdownKeydown.bind(n),n._handleTriggerKeydownBound=n._handleTriggerKeydown.bind(n),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),r._dropdowns.splice(r._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.options.hover?(this.el.removeEventHandlers("mouseenter",this._handleMouseEnterBound),this.el.removeEventHandlers("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventHandlers("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var i=e.toElement||e.relatedTarget,n=!!t(i).closest(".dropdown-content").length,r=!1,o=t(i).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||n||this.close()}},{key:"_handleDocumentClick",value:function(e){var i=this,n=t(e.target);this.options.closeOnClick&&n.closest(".dropdown-content").length?setTimeout(function(){i.close()},0):n.closest(".dropdown-trigger").length?setTimeout(function(){i.close()},0):n.closest(".dropdown-content").length||setTimeout(function(){i.close()},0)}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var i=this.dropdownEl.children[this.focusedIndex],n=t(i).find("a, button").first();n.length?n[0].click():i.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var r=e.which===M.keys.ARROW_DOWN?1:-1;this.focusedIndex=Math.max(Math.min(this.focusedIndex+r,this.dropdownEl.children.length-1),0),this._focusFocusedItem()}var o=String.fromCharCode(e.which).toLowerCase();if(o&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(o);var a=this.filterQuery.join(""),s=t(this.dropdownEl).find("li").filter(function(e){return 0===t(e).text().toLowerCase().indexOf(a)})[0];s&&(this.focusedIndex=t(s).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){-1===this.dropdownEl.tabIndex&&(this.dropdownEl.tabIndex=0),t(this.dropdownEl).children().attr("tabindex",0)}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t={left:this.el.offsetLeft,top:this.el.offsetTop,width:this.el.offsetWidth,height:this.el.offsetHeight},e=(this.dropdownEl.offsetLeft,this.dropdownEl.offsetTop,this.dropdownEl.offsetWidth,this.dropdownEl.offsetHeight,this.el.getBoundingClientRect()),i=this.dropdownEl.getBoundingClientRect(),n=i.height,r=i.width,o=t.left,a=t.top,s={left:o,top:a,height:n,width:r},l=this.dropdownEl.offsetParent,u=M.checkPossibleAlignments(this.el,l,s,this.options.coverTrigger?0:e.height),c="top",h=this.options.alignment;if(a+=this.options.coverTrigger?0:e.height,u.top||(u.bottom?c="bottom":u.spaceOnTop>u.spaceOnBottom?(c="bottom",n+=u.spaceOnTop,a-=u.spaceOnTop):n+=u.spaceOnBottom),!u[h]){var d="left"===h?"right":"left";u[d]?h=d:u.spaceOnLeft>u.spaceOnRight?(h="right",r+=u.spaceOnLeft,o-=u.spaceOnLeft):(h="left",r+=u.spaceOnRight)}return"bottom"===c&&(a=a-i.height+(this.options.coverTrigger?e.height:0)),"right"===h&&(o=o-i.width+e.width),{x:o,y:a,verticalAlignment:c,horizontalAlignment:h,height:n,width:r}}},{key:"_animateIn",value:function(t){var i=this;this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%"),e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){if(i.dropdownEl.focus(),"function"==typeof i.options.onOpenEnd){var e=t.animatables[0].target;i.options.onOpenEnd.call(e,i.el)}}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&(e.animatables[0].target,t.options.onCloseEnd.call(t,t.el))}})}},{key:"open",value:function(){if(!this.isOpen){this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block";var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this._animateIn(e),this._setupTemporaryEventHandlers()}}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.el.focus())}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return i}}]),r}();n._dropdowns=[],window.M.Dropdown=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var i={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,dismissible:!0,startingTop:"4%",endingTop:"10%"},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Modal=n,n.options=t.extend({},r.defaults,i),n.isOpen=!1,n.id=n.$el.attr("id"),n._openingTrigger=void 0,n.$overlay=t('<div class="modal-overlay"></div>'),r._increment++,r._count++,n.$overlay[0].style.zIndex=1e3+2*r._increment,n.el.style.zIndex=1e3+2*r._increment+1,n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){r._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===r._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===r._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var i=t(e.target).closest(".modal-trigger");if(i.length){var n=M.getIdFromTrigger(i[0]),r=document.getElementById(n).M_Modal;r&&r.open(i),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_animateIn",value:function(){var i=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var n={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof i.options.onOpenEnd&&i.options.onOpenEnd.call(i,i.el,i._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(t.extend(n,{bottom:0,opacity:1}),e(n)):(t.extend(n,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(n))}},{key:"_animateOut",value:function(){var i=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var n={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){i.el.style.display="none",i.$overlay.remove(),"function"==typeof i.options.onCloseEnd&&i.options.onCloseEnd.call(i,i.el)}};this.el.classList.contains("bottom-sheet")?(t.extend(n,{bottom:"-100%",opacity:0}),e(n)):(t.extend(n,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(n))}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),document.body.style.overflow="hidden",this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this._openingTrigger=t?t[0]:void 0,this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),document.addEventListener("keydown",this._handleKeydownBound)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),document.body.style.overflow="",this.options.dismissible&&document.removeEventListener("keydown",this._handleKeydownBound),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return i}}]),r}();n._increment=0,n._count=0,M.Modal=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var i={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Materialbox=n,n.options=t.extend({},r.defaults,i),n.overlayActive=!1,n.doneAnimating=!0,n.placeholder=t("<div></div>").addClass("material-placeholder"),n.originalWidth=0,n.originalHeight=0,n.originInlineStyles=n.$el.attr("style"),n.caption=n.el.getAttribute("data-caption")||"",n.$el.before(n.placeholder),n.placeholder.append(n.$el),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var i=t(e);"visible"!==i.css("overflow")&&(i.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=i:this.ancestorsChanged=this.ancestorsChanged.add(i)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,i={targets:this.el,height:this.newHeight,width:this.newWidth,left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.$el.hasClass("responsive-img")?(i.maxWidth=this.newWidth,i.width=[this.originalWidth,i.width]):(i.left=[i.left,0],i.top=[i.top,0]),e(i)}},{key:"_animateImageOut",value:function(){var t=this,i={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.$el.removeAttr("style"),t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(i)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var i=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){i.doneAnimating&&i.close()}),this.$el.before(this.$overlay);var n=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*n.left+"px",top:-1*n.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,a=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>a?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return i}}]),r}();M.Materialbox=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Parallax=r,r.options=t.extend({},n.defaults,i),r.$img=r.$el.find("img").first(),r._enabled=window.innerWidth>r.options.responsiveThreshold,r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),n._parallaxes.push(r),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){n._parallaxes.splice(n._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===n._parallaxes.length&&(n._handleScrollThrottled=M.throttle(n._handleScroll,5),window.addEventListener("scroll",n._handleScrollThrottled),n._handleWindowResizeThrottled=M.throttle(n._handleWindowResize,5),window.addEventListener("resize",n._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===n._parallaxes.length&&(window.removeEventListener("scroll",n._handleScrollThrottled),window.removeEventListener("resize",n._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax(),this.$img.each(function(){this.complete&&t(this).trigger("load")})}},{key:"_updateParallax",value:function(){var t=this.$el.height()>0?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,i=this.$el.offset().top+t,n=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,a=e*((r+o-n)/(t+o));this._enabled?i>r&&n<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+a+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<n._parallaxes.length;t++){var e=n._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<n._parallaxes.length;t++){var e=n._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),n}();i._parallaxes=[],M.Parallax=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var i={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Tabs=n,n.options=t.extend({},r.defaults,i),n.$tabLinks=n.$el.children("li.tab").children("a"),n.index=0,n._setTabsAndTabWidth(),n._setupActiveTabLink(),n._createIndicator(),n.options.swipeable?n._setupSwipeableTabs():n._setupNormalTabs(),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var i=this,n=t(e.target).closest("li.tab"),r=t(e.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(n.hasClass("disabled"))e.preventDefault();else if(!r.attr("target")){this._setTabsAndTabWidth(),this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=t(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var a=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof i.options.onShow&&i.options.onShow.call(i,i.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._animateIndicator(a),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout(function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var i=t();this.$tabLinks.each(function(e){var n=t(M.escapeHash(e.hash));n.addClass("carousel-item"),i=i.add(n)});var n=t('<div class="tabs-content carousel carousel-slider"></div>');i.first().before(n),n.append(i),i[0].style.display="",this._tabsCarousel=M.Carousel.init(n[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(i){var n=e.index;e.index=t(i).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(n),"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}})}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(e){if(e.hash){var i=t(M.escapeHash(e.hash));i.length&&(i[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(e){if(e.hash){var i=t(M.escapeHash(e.hash));i.length&&(i[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var i=0,n=0;this.index-t>=0?i=90:n=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:i},right:{value:this._calcRightPos(this.$activeTabLink),delay:n},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(r)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return i}}]),r}();window.M.Tabs=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var i={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Tooltip=n,n.options=t.extend({},r.defaults,i),n.isOpen=!1,n.isHovered=!1,n._appendTooltipEl(),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.$el[0].M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this.handleMouseEnterBound=this._handleMouseEnter.bind(this),this.handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.$el[0].addEventListener("mouseenter",this.handleMouseEnterBound),this.$el[0].addEventListener("mouseleave",this.handleMouseLeaveBound)}},{key:"_removeEventHandlers",value:function(){this.$el[0].removeEventListener("mouseenter",this.handleMouseEnterBound),this.$el[0].removeEventListener("mouseleave",this.handleMouseLeaveBound)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){t.isHovered||t._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){t.isHovered&&t._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,i=this.$el[0],n=this.tooltipEl,r=i.offsetHeight,o=i.offsetWidth,a=n.offsetHeight,s=n.offsetWidth,l=this.options.margin,u=void 0,c=void 0;this.xMovement=0,this.yMovement=0,u=i.getBoundingClientRect().top+M.getDocumentScrollTop(),c=i.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(u+=-a-l,c+=o/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(u+=r/2-a/2,c+=o+l,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(u+=r/2-a/2,c+=-s-l,this.xMovement=-this.options.transitionMovement):(u+=r+l,c+=o/2-s/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(c,u,s,a),t(n).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,i,n){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),a=t-r,s=e-o,l={left:a,top:s,width:i,height:n},u=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,l,u);return c.left?a=u:c.right&&(a-=a+i-window.innerWidth),c.top?s=u:c.bottom&&(s-=s+n-window.innerHeight),{x:a+r,y:s+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.open()}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.$el[0].getAttribute("data-tooltip"),i=this.$el[0].getAttribute("data-position");return e&&(t.html=e),i&&(t.position=i),t}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return i}}]),r}();M.Tooltip=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},i=document.querySelectorAll.bind(document);function n(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+":"+t[i]+";");return e}var r={duration:750,show:function(t,e){if(2===t.button)return!1;var i=e||this,o=document.createElement("div");o.className="waves-ripple",i.appendChild(o);var a=function(t){var e,i,n={top:0,left:0},r=t&&t.ownerDocument;return e=r.documentElement,void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect()),i=function(t){return null!==(e=t)&&e===e.window?t:9===t.nodeType&&t.defaultView;var e}(r),{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}}(i),s=t.pageY-a.top,l=t.pageX-a.left,u="scale("+i.clientWidth/100*10+")";"touches"in t&&(s=t.touches[0].pageY-a.top,l=t.touches[0].pageX-a.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",u),o.setAttribute("data-x",l),o.setAttribute("data-y",s);var c={top:s+"px",left:l+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",n(c)),o.className=o.className.replace("waves-notransition",""),c["-webkit-transform"]=u,c["-moz-transform"]=u,c["-ms-transform"]=u,c["-o-transform"]=u,c.transform=u,c.opacity="1",c["-webkit-transition-duration"]=r.duration+"ms",c["-moz-transition-duration"]=r.duration+"ms",c["-o-transition-duration"]=r.duration+"ms",c["transition-duration"]=r.duration+"ms",c["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",n(c))},hide:function(t){o.touchup(t);var e=this,i=(e.clientWidth,null),a=e.getElementsByClassName("waves-ripple");if(!(a.length>0))return!1;var s=(i=a[a.length-1]).getAttribute("data-x"),l=i.getAttribute("data-y"),u=i.getAttribute("data-scale"),c=350-(Date.now()-Number(i.getAttribute("data-hold")));c<0&&(c=0),setTimeout(function(){var t={top:l+"px",left:s+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":u,"-moz-transform":u,"-ms-transform":u,"-o-transform":u,transform:u};i.setAttribute("style",n(t)),setTimeout(function(){try{e.removeChild(i)}catch(t){return!1}},r.duration)},c)},wrapInput:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("input"===i.tagName.toLowerCase()){var n=i.parentNode;if("i"===n.tagName.toLowerCase()&&-1!==n.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=i.className+" waves-input-wrapper";var o=i.getAttribute("style");o||(o=""),r.setAttribute("style",o),i.className="waves-button-input",i.removeAttribute("style"),n.replaceChild(r,i),r.appendChild(i)}}}},o={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?o.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){o.touches>0&&(o.touches-=1)},500):"mousedown"===t.type&&o.touches>0&&(e=!1),e},touchup:function(t){o.allowEvent(t)}};function a(e){var i=function(t){if(!1===o.allowEvent(t))return null;for(var e=null,i=t.target||t.srcElement;null!==i.parentNode;){if(!(i instanceof SVGElement)&&-1!==i.className.indexOf("waves-effect")){e=i;break}i=i.parentNode}return e}(e);null!==i&&(r.show(e,i),"ontouchstart"in t&&(i.addEventListener("touchend",r.hide,!1),i.addEventListener("touchcancel",r.hide,!1)),i.addEventListener("mouseup",r.hide,!1),i.addEventListener("mouseleave",r.hide,!1),i.addEventListener("dragend",r.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(r.duration=e.duration),r.wrapInput(i(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("mousedown",a,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(r.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",a,!1),e.addEventListener("mousedown",a,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",function(){e.displayEffect()},!1)}(window),function(t,e){"use strict";var i={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},n=function(){function n(e){_classCallCheck(this,n),this.options=t.extend({},n.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===n._toasts.length&&n._createContainer(),n._toasts.push(this);var i=this._createToast();i.M_Toast=this,this.el=i,this._animateIn(),this._setTimer()}return _createClass(n,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,n._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:300,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()},20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var i=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+i+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.el.parentNode.removeChild(t.el),n._toasts.splice(n._toasts.indexOf(t),1),0===n._toasts.length&&n._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",n._onDragStart),t.addEventListener("touchmove",n._onDragMove),t.addEventListener("touchend",n._onDragEnd),t.addEventListener("mousedown",n._onDragStart),document.addEventListener("mousemove",n._onDragMove),document.addEventListener("mouseup",n._onDragEnd),document.body.appendChild(t),n._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",n._onDragMove),document.removeEventListener("mouseup",n._onDragEnd),n._container.parentNode.removeChild(n._container),n._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var i=t(e.target).closest(".toast")[0].M_Toast;i.panning=!0,n._draggedToast=i,i.el.classList.add("panning"),i.el.style.transition="",i.startingXPos=n._xPos(e),i.time=Date.now(),i.xPos=n._xPos(e)}}},{key:"_onDragMove",value:function(t){if(n._draggedToast){t.preventDefault();var e=n._draggedToast;e.deltaX=Math.abs(e.xPos-n._xPos(t)),e.xPos=n._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var i=e.xPos-e.startingXPos,r=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+i+"px)",e.el.style.opacity=1-Math.abs(i/r)}}},{key:"_onDragEnd",value:function(){if(n._draggedToast){var t=n._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,i=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>i||t.velocityX>1?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),n._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in n._toasts)n._toasts[t].dismiss()}},{key:"defaults",get:function(){return i}}]),n}();n._toasts=[],n._container=null,n._draggedToast=null,M.Toast=n,M.toast=function(t){return new n(t)}}(cash,M.anime),function(t,e){"use strict";var i={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Sidenav=n,n.id=n.$el.attr("id"),n.options=t.extend({},r.defaults,i),n.isOpen=!1,n.isFixed=n.el.classList.contains("sidenav-fixed"),n.isDragged=!1,n._createOverlay(),n._createDragTarget(),n._setupEventHandlers(),n._setupClasses(),n._setupFixed(),r._sidenavs.push(n),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0;var t=r._sidenavs.indexOf(this);t>=0&&r._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===r._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===r._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var i=t(e.target).closest(".sidenav-trigger");if(e.target&&i.length){var n=M.getIdFromTrigger(i[0]),r=document.getElementById(n).M_Sidenav;r&&r.open(i),e.preventDefault()}}},{key:"_startDrag",value:function(t){var i=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=i,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX;this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now()}},{key:"_handleDragTargetDrag",value:function(t){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,i=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===i&&(e=0);var n=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",n=-n),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+n+"px)",this._overlay.style.opacity=this.percentOpen}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.5?this.open():this._animateOut(),this.isDragged=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,i=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==i&&(e=0);var n=-e;"right"===this.options.edge&&(n=-n),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+n+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.5?this._animateIn():this.close(),this.isDragged=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&this.close()}},{key:"_handleWindowResize",value:function(){window.innerWidth>992?this.open():this.close()}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this.isFixed&&window.innerWidth>992&&this.open()}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.isFixed&&window.innerWidth>992?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.isFixed&&window.innerWidth>992){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,i="left"===this.options.edge?-1:1;this.isDragged&&(i="left"===this.options.edge?i+this.percentOpen:i-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var i=0;this.isDragged?i=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[i,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,i="left"===this.options.edge?-1:1,n=0;this.isDragged&&(n="left"===this.options.edge?i+this.percentOpen:i-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",105*i+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var i=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(i._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return i}}]),r}();n._sidenavs=[],window.M.Sidenav=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var i={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_ScrollSpy=n,n.options=t.extend({},r.defaults,i),r._elements.push(n),r._count++,r._increment++,n.tickId=-1,n.id=r._increment,n._setupEventHandlers(),n._handleWindowScroll(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){r._elements.splice(r._elements.indexOf(this),1),r._elementsInView.splice(r._elementsInView.indexOf(this),1),r._visibleElements.splice(r._visibleElements.indexOf(this.$el),1),r._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===r._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===r._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(i){for(var n=t(i.target),o=r._elements.length-1;o>=0;o--){var a=r._elements[o];if(n.is('a[href="#'+a.$el.attr("id")+'"]')){i.preventDefault();var s=a.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:s-a.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){r._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),i=e+window.innerWidth,n=t+window.innerHeight,o=r._findElements(t,i,n,e),a=0;a<o.length;a++){var s=o[a];s.tickId<0&&s._enter(),s.tickId=r._ticks}for(var l=0;l<r._elementsInView.length;l++){var u=r._elementsInView[l],c=u.tickId;c>=0&&c!==r._ticks&&(u._exit(),u.tickId=-1)}r._elementsInView=o}},{key:"_enter",value:function(){r._visibleElements=r._visibleElements.filter(function(t){return 0!=t.height()}),r._visibleElements[0]?(t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements[0][0].M_ScrollSpy&&this.id<r._visibleElements[0][0].M_ScrollSpy.id?r._visibleElements.unshift(this.$el):r._visibleElements.push(this.$el)):r._visibleElements.push(this.$el),t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;r._visibleElements=r._visibleElements.filter(function(t){return 0!=t.height()}),r._visibleElements[0]&&(t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements=r._visibleElements.filter(function(t){return t.attr("id")!=e.$el.attr("id")}),r._visibleElements[0]&&t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,i,n){for(var o=[],a=0;a<r._elements.length;a++){var s=r._elements[a],l=t+s.options.scrollOffset||200;if(s.$el.height()>0){var u=s.$el.offset().top,c=s.$el.offset().left,h=c+s.$el.width(),d=u+s.$el.height();!(c>e||h<n||u>i||d<l)&&o.push(s)}}return o}},{key:"defaults",get:function(){return i}}]),r}();n._elements=[],n._elementsInView=[],n._visibleElements=[],n._count=0,n._increment=0,n._ticks=0,M.ScrollSpy=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,i){return t.indexOf(i)-e.indexOf(i)}},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Autocomplete=r,r.options=t.extend({},n.defaults,i),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=t(),r._setupDropdown(),r._setupEventHandlers(),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),void 0!==window.ontouchstart&&this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),void 0!==window.ontouchstart&&this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound)}},{key:"_setupDropdown",value:function(){this.container=document.createElement("ul"),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._removeAutocomplete()}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(n._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal!==e&&(this._removeAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e))),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){n._keydown=!0;var i=e.keyCode,r=void 0,o=t(this.container).children("li").length;13===i&&this.activeIndex>=0?(r=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),e.preventDefault()):38!==i&&40!==i||(e.preventDefault(),38===i&&this.activeIndex>0&&this.activeIndex--,40===i&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){var i=t(e.target).closest("li");this.selectOption(i)}},{key:"_highlight",value:function(t,e){var i=e.find("img"),n=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=n+t.length-1,o=e.text().slice(0,n),a=e.text().slice(n,r+1),s=e.text().slice(r+1);e.html("<span>"+o+"<span class='highlight'>"+a+"</span>"+s+"</span>"),i.length&&e.prepend(i)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_removeAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._removeAutocomplete(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,i){var n=this;this._removeAutocomplete();var r=[];for(var o in e)if(e.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(i)){if(this.count>=this.options.limit)break;var a={data:e[o],key:o};r.push(a),this.count++}r.sort(function(t,e){return n.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),i.toLowerCase())});for(var s=0;s<r.length;s++){var l=r[s],u=t("<li></li>");l.data?u.append('<img src="'+l.data+'" class="right circle"><span>'+l.key+"</span>"):u.append("<span>"+l.key+"</span>"),t(this.container).append(u),this._highlight(i,u)}}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),n}();i._keydown=!1,M.Autocomplete=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"autocomplete","M_Autocomplete")}(cash),function(t){M.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each(function(e,i){var n=t(this);e.value.length>0||t(e).is(":focus")||e.autofocus||null!==n.attr("placeholder")?n.siblings("label").addClass("active"):e.validity?n.siblings("label").toggleClass("active",!0===e.validity.badInput):n.siblings("label").removeClass("active")})},M.validate_field=function(t){var e=null!==t.attr("data-length"),i=parseInt(t.attr("data-length")),n=t[0].value.length;0!==n||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&n<=i||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(e){e instanceof Element&&(e=t(e));var i=t(".hiddendiv").first();i.length||(i=t('<div class="hiddendiv common"></div>'),t("body").append(i));var n=e.css("font-family"),r=e.css("font-size"),o=e.css("line-height"),a=e.css("padding-top"),s=e.css("padding-right"),l=e.css("padding-bottom"),u=e.css("padding-left");r&&i.css("font-size",r),n&&i.css("font-family",n),o&&i.css("line-height",o),a&&i.css("padding-top",a),s&&i.css("padding-right",s),l&&i.css("padding-bottom",l),u&&i.css("padding-left",u),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&i.css("overflow-wrap","normal").css("white-space","pre"),i.text(e[0].value+"\n");var c=i.html().replace(/\n/g,"<br>");i.html(c),"hidden"!==e.css("display")?i.css("width",e.width()+"px"):i.css("width",t(window).width()/2+"px"),e.data("original-height")<=i.innerHeight()?e.css("height",i.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)},t(document).ready(function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";t(document).on("change",e,function(){0===this.value.length&&null===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),M.validate_field(t(this))}),t(document).ready(function(){M.updateTextFields()}),t(document).on("reset",function(i){var n=t(i.target);n.is("form")&&(n.find(e).removeClass("valid").removeClass("invalid"),n.find(e).each(function(e){this.value.length&&t(this).siblings("label").removeClass("active")}),setTimeout(function(){n.find("select").each(function(){if(this.M_Select){var e=t(this).find("option[selected]").text();t(this).siblings("input.select-dropdown")[0].value=e}})},0))}),document.addEventListener("focus",function(i){t(i.target).is(e)&&t(i.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(i){var n=t(i.target);if(n.is(e)){var r=".prefix";0===n[0].value.length&&!0!==n[0].validity.badInput&&null===n.attr("placeholder")&&(r+=", label"),n.siblings(r).removeClass("active"),M.validate_field(n)}},!0),t(document).on("keyup","input[type=radio], input[type=checkbox]",function(e){e.which!==M.keys.TAB||(t(this).addClass("tabbed"),t(this).one("blur",function(e){t(this).removeClass("tabbed")}))});var i=".materialize-textarea";t(i).each(function(){var e=t(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)}),t(document).on("keyup",i,function(){M.textareaAutoResize(t(this))}),t(document).on("keydown",i,function(){M.textareaAutoResize(t(this))}),t(document).on("change",'.file-field input[type="file"]',function(){for(var e=t(this).closest(".file-field").find("input.file-path"),i=t(this)[0].files,n=[],r=0;r<i.length;r++)n.push(i[r].name);e[0].value=n.join(", "),e.trigger("change")})})}(cash),function(t,e){"use strict";var i={indicators:!0,height:400,duration:500,interval:6e3},n=function(n){function r(i,n){_classCallCheck(this,r);var o=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,i,n));return o.el.M_Slider=o,o.options=t.extend({},r.defaults,n),o.$slider=o.$el.find(".slides"),o.$slides=o.$slider.children("li"),o.activeIndex=o.$slider.find(".active").index(),-1!=o.activeIndex&&(o.$active=o.$slides.eq(o.activeIndex)),o._setSliderHeight(),o.$slides.find(".caption").each(function(t){o._animateCaptionIn(t,0)}),o.$slides.find("img").each(function(e){var i="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==i&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",i))}),o._setupIndicators(),o.$active?o.$active.css("display","block"):(o.$slides.first().addClass("active"),e({targets:o.$slides.first()[0],opacity:1,duration:o.options.duration,easing:"easeOutQuad"}),o.activeIndex=0,o.$active=o.$slides.eq(o.activeIndex),o.options.indicators&&o.$indicators.eq(o.activeIndex).addClass("active")),o.$active.find("img").each(function(t){e({targets:o.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:o.options.duration,easing:"easeOutQuad"})}),o._setupEventHandlers(),o.start(),o}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(e){e.addEventListener("click",t._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each(function(e){e.removeEventListener("click",t._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(e){var i=t(e.target).index();this.set(i)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(i,n){var r={targets:i,opacity:0,duration:n,easing:"easeOutQuad"};t(i).hasClass("center-align")?r.translateY=-100:t(i).hasClass("right-align")?r.translateX=100:t(i).hasClass("left-align")&&(r.translateX=-100),e(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each(function(i,n){var r=t('<li class="indicator-item"></li>');e.$indicators.append(r[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var i=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var n=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){i.$slides.not(".active").each(function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(n[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return i}}]),r}();M.Slider=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"slider","M_Slider")}(cash,M.anime),function(t,e){t(document).on("click",".card",function(i){if(t(this).children(".card-reveal").length){var n=t(i.target).closest(".card");void 0===n.data("initialOverflow")&&n.data("initialOverflow",void 0===n.css("overflow")?"":n.css("overflow"));var r=t(this).find(".card-reveal");t(i.target).is(t(".card-reveal .card-title"))||t(i.target).is(t(".card-reveal .card-title i"))?e({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var i=e.animatables[0].target;t(i).css({display:"none"}),n.css("overflow",n.data("initialOverflow"))}}):(t(i.target).is(t(".card .activator"))||t(i.target).is(t(".card .activator i")))&&(n.css("overflow","hidden"),r.css({display:"block"}),e({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Chips=r,r.options=t.extend({},n.defaults,i),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=t(),r._setupInput(),r.hasAutocomplete=Object.keys(r.options.autocompleteOptions).length>0,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return _inherits(n,Component),_createClass(n,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",n._handleChipsKeydown),document.addEventListener("keyup",n._handleChipsKeyup),this.el.addEventListener("blur",n._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",n._handleChipsKeydown),document.removeEventListener("keyup",n._handleChipsKeyup),this.el.removeEventListener("blur",n._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var i=t(e.target).closest(".chip"),n=t(e.target).is(".close");if(i.length){var r=i.index();n?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(n._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var i=document.createElement("div"),n=document.createElement("i");if(i.classList.add("chip"),i.textContent=e.tag,i.setAttribute("tabindex",0),t(n).addClass("material-icons close"),n.textContent="close",e.image){var r=document.createElement("img");r.setAttribute("src",e.image),i.insertBefore(r,i.firstChild)}return i.appendChild(n),i}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input,this.options.autocompleteOptions)[0]}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,i=0;i<this.chipsData.length;i++)if(this.chipsData[i].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var i=this._renderChip(e);this.$chips.add(i),this.chipsData.push(e),t(this.$input).before(i),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,i)}}},{key:"deleteChip",value:function(e){var i=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter(function(e){return t(e).index()>=0}),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,i[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);this._selectedChip=e,e[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){n._keydown=!0;var i=t(e.target).closest(".chips"),r=e.target&&i.length;if(!t(e.target).is("input, textarea")&&r){var o=i[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var a=o.chipsData.length;if(o._selectedChip){var s=o._selectedChip.index();o.deleteChip(s),o._selectedChip=null,a=s-1}o.chipsData.length&&o.selectChip(a)}else if(37===e.keyCode){if(o._selectedChip){var l=o._selectedChip.index()-1;if(l<0)return;o.selectChip(l)}}else if(39===e.keyCode&&o._selectedChip){var u=o._selectedChip.index()+1;u>=o.chipsData.length?o.$input[0].focus():o.selectChip(u)}}}},{key:"_handleChipsKeyup",value:function(t){n._keydown=!1}},{key:"_handleChipsBlur",value:function(e){n._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),n}();i._keydown=!1,M.Chips=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"chips","M_Chips"),t(document).ready(function(){t(document.body).on("click",".chip .close",function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()})})}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Pushpin=r,r.options=t.extend({},n.defaults,i),r.originalOffset=r.el.offsetTop,n._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=n._pushpins.indexOf(this);n._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",n._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",n._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top","pinned","pin-bottom")}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in n._pushpins)n._pushpins[t]._updatePosition()}},{key:"defaults",get:function(){return e}}]),n}();i._pushpins=[],M.Pushpin=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var i={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_FloatingActionButton=n,n.options=t.extend({},r.defaults,i),n.isOpen=!1,n.$anchor=n.$el.children("a").first(),n.$menu=n.$el.children("ul").first(),n.$floatingBtns=n.$el.find("ul .btn-floating"),n.$floatingBtnsReverse=n.$el.find("ul .btn-floating").reverse(),n.offsetY=0,n.offsetX=0,"top"===n.options.direction?(n.$el.addClass("direction-top"),n.offsetY=40):"right"===n.options.direction?(n.$el.addClass("direction-right"),n.offsetX=-40):"bottom"===n.options.direction?(n.$el.addClass("direction-bottom"),n.offsetY=-40):(n.$el.addClass("direction-left"),n.offsetX=40),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var i=0;this.$floatingBtnsReverse.each(function(n){e({targets:n,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:i,easing:"easeInOutQuad"}),i+=40})}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each(function(i){e.remove(i),e({targets:i,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var e,i=this,n=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),a=t('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(a),this.offsetX=o.left-n/2+o.width/2,this.offsetY=r-o.bottom,e=n/a[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),a.css({"background-color":s}),setTimeout(function(){i.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),i.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){i.$el.css({overflow:"hidden","background-color":s}),a.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),i.$menu.children("li").children("a").css({opacity:1}),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),window.addEventListener("scroll",i._handleCloseBound,!0),document.body.addEventListener("click",i._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,i=window.innerHeight,n=this.$el.find(".fab-backdrop"),r=anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=i-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),n.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){n.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout(function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return i}}]),r}();M.FloatingActionButton=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,i18n:{clear:"Clear",today:"Today",done:"Ok",previousMonth:"?",nextMonth:"?",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));r.el.M_Datepicker=r,r.options=t.extend({},n.defaults,i),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)),r.options.setDefaultDate=!0);var o=r.options.defaultDate;return n._isDate(o)?r.options.setDefaultDate?r.setDate(o,!0):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Datepicker=void 0}},{key:"_insertHTMLIntoDOM",value:function(){this.clearBtn.innerHTML=this.options.i18n.clear,this.todayBtn.innerHTML=this.options.i18n.today,this.doneBtn.innerHTML=this.options.i18n.done;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,n._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(t){return e.formats[t]?e.formats[t]():t}).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),n._isDate(t)){var i=this.options.minDate,r=this.options.maxDate;n._isDate(i)&&t<i?t=i:n._isDate(r)&&t>r&&(t=r),this.date=new Date(t.getTime()),this._renderDateDisplay(),n._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=n._isDate(this.date)?this.date:new Date,e=this.options.i18n,i=e.weekdaysShort[t.getDay()],r=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=i+", "+r+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(n._isDate(t)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<i.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,i){var r=this.options,o=new Date,a=n._getDaysInMonth(t,e),s=new Date(t,e,1).getDay(),l=[],u=[];n._setToStartOfDay(o),r.firstDay>0&&(s-=r.firstDay)<0&&(s+=7);for(var c=0===e?11:e-1,h=11===e?0:e+1,d=0===e?t-1:t,f=11===e?t+1:t,p=n._getDaysInMonth(d,c),g=a+s,m=g;m>7;)m-=7;g+=7-m;for(var _=!1,v=0,y=0;v<g;v++){var b=new Date(t,e,v-s+1),w=!!n._isDate(this.date)&&n._compareDates(b,this.date),E=n._compareDates(b,o),T=-1!==r.events.indexOf(b.toDateString()),$=v<s||v>=a+s,x=v-s+1,S=e,C=t,k=r.startRange&&n._compareDates(r.startRange,b),L=r.endRange&&n._compareDates(r.endRange,b),A=r.startRange&&r.endRange&&r.startRange<b&&b<r.endRange;$&&(v<s?(x=p+x,S=c,C=d):(x-=a,S=h,C=f));var M={day:x,month:S,year:C,hasEvent:T,isSelected:w,isToday:E,isDisabled:r.minDate&&b<r.minDate||r.maxDate&&b>r.maxDate||r.disableWeekends&&n._isWeekend(b)||r.disableDayFn&&r.disableDayFn(b),isEmpty:$,isStartRange:k,isEndRange:L,isInRange:A,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};u.push(this.renderDay(M)),7==++y&&(l.push(this.renderRow(u,r.isRTL,_)),u=[],y=0,_=!1)}return this.renderTable(r,l,i)}},{key:"renderDay",value:function(t){var e=[],i="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),i="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+i+'"><button class="datepicker-day-button" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,i){return'<tr class="pika-row'+(i?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,i){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+i+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,i=[];for(e=0;e<7;e++)i.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?i.reverse():i).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,i,n,r,o,a){var s,l,u=void 0,c=void 0,h=void 0,d=this.options,f=n===d.minYear,p=n===d.maxYear,g='<div id="'+a+'" class="datepicker-controls" role="heading" aria-live="assertive">',m=!0,_=!0;for(h=[],u=0;u<12;u++)h.push('<option value="'+(n===o?u-i:12+u-i)+'"'+(u===r?' selected="selected"':"")+(f&&u<d.minMonth||p&&u>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[u]+"</option>");for(s='<select class="pika-select pika-select-month" tabindex="-1">'+h.join("")+"</select>",t.isArray(d.yearRange)?(u=d.yearRange[0],c=d.yearRange[1]+1):(u=n-d.yearRange,c=1+n+d.yearRange),h=[];u<c&&u<=d.maxYear;u++)u>=d.minYear&&h.push('<option value="'+u+'"'+(u===n?' selected="selected"':"")+">"+u+"</option>");return l='<select class="pika-select pika-select-year" tabindex="-1">'+h.join("")+"</select>",g+='<button class="month-prev'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',g+='<div class="selects-container">',d.showMonthAfterYear?g+=l+s:g+=s+l,g+="</div>",f&&(0===r||d.minMonth>=r)&&(m=!1),p&&(11===r||d.maxMonth<=r)&&(_=!1),(g+='<button class="month-next'+(_?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,i=this.options,n=i.minYear,r=i.maxYear,o=i.minMonth,a=i.maxMonth,s="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(a)&&this._m>a&&(this._m=a)),e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),s+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,e)+this.render(this.calendars[l].year,this.calendars[l].month,e);this.calendarEl.innerHTML=s;var u=this.calendarEl.querySelector(".pika-select-year"),c=this.calendarEl.querySelector(".pika-select-month");M.Select.init(u,{classes:"select-year"}),M.Select.init(c,{classes:"select-month"}),u.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleTodayClickBound=this._handleTodayClick.bind(this),this._handleClearClickBound=this._handleClearClick.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.todayBtn.addEventListener("click",this._handleTodayClickBound),this.clearBtn.addEventListener("click",this._handleClearClickBound)}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(n._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".pika-single"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.clearBtn=this.modalEl.querySelector(".datepicker-clear"),this.todayBtn=this.modalEl.querySelector(".datepicker-today"),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.formats={dd:function(){return e.date.getDate()},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},mm:function(){return e.date.getMonth()+1},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},yy:function(){return e.date.getFullYear().slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var i=t(e.target);i.hasClass("is-disabled")||(!i.hasClass("datepicker-day-button")||i.hasClass("is-empty")||i.parent().hasClass("is-disabled")?i.closest(".month-prev").length?this.prevMonth():i.closest(".month-next").length&&this.nextMonth():this.setDate(new Date(e.target.getAttribute("data-pika-year"),e.target.getAttribute("data-pika-month"),e.target.getAttribute("data-pika-day"))))}}},{key:"_handleTodayClick",value:function(){this.date=new Date,this.setInputValue(),this.close()}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),n._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,i){for(e+=t.firstDay;e>=7;)e-=7;return i?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){n._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,n._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){n._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),n}();i._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="pika-single"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-today waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromnow:0,doneText:"Ok",clearText:"Clear",cancelText:"Cancel",autoClose:!1,twelveHour:!0,vibrate:!0},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Timepicker=r,r.options=t.extend({},n.defaults,i),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),i=e.left,r=e.top;this.x0=i+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var o=n._Pos(t);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=n._Pos(t),i=e.x-this.x0,r=e.y-this.y0;this.moved=!0,this.setHand(i,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var e=n._Pos(t),i=e.x-this.x0,r=e.y-this.y0;this.moved&&i===this.dx&&r===this.dy&&this.setHand(i,r),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(this.minutesView.addClass("timepicker-dial-out"),setTimeout(function(){this.done()},this.options.duration/2)),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(n._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){t('<button class="btn-flat timepicker-clear waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.clearText+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));var e=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.cancelText+"</button>").appendTo(e).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.doneText+"</button>").appendTo(e).on("click",this.done.bind(this)),e.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,i=2*t,r=n._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",i),r.setAttribute("height",i);var o=n._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var a=n._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bearing"),a.setAttribute("cx",0),a.setAttribute("cy",0),a.setAttribute("r",4);var s=n._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var l=n._createSVGEl("circle");l.setAttribute("class","timepicker-canvas-bg"),l.setAttribute("r",e),o.appendChild(s),o.appendChild(l),o.appendChild(a),r.appendChild(o),this._canvas.appendChild(r),this.hand=s,this.bg=l,this.bearing=a,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var i=1;i<13;i+=1){var n=e.clone(),r=i/6*Math.PI,o=this.options.outerRadius;n.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),n.html(0===i?"00":i),this.hoursView.appendChild(n[0])}else for(var a=0;a<24;a+=1){var s=e.clone(),l=a/6*Math.PI,u=a>0&&a<13?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(l)*u-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(l)*u-this.options.tickRadius+"px"}),s.html(0===a?"00":a),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),i=0;i<60;i+=5){var r=e.clone(),o=i/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(n._addLeadingZero(i)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(e){var i=t(e.target);this.amOrPm=i.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==t[1]&&(t[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromnow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=t[0]>=12&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=n._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,i){"minutes"===e&&t(this.hoursView).css("visibility");var n="hours"===e,r=n?this.hoursView:this.minutesView,o=n?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",n),t(this.spanMinutes).toggleClass("text-primary",!n),o.classList.add("timepicker-dial-out"),t(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(i),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){t(o).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(e){var i=this.currentView,n=this[i],r="hours"===i,o=n*(Math.PI/(r?6:30)),a=r&&n>0&&n<13?this.options.innerRadius:this.options.outerRadius,s=Math.sin(o)*a,l=-Math.cos(o)*a,u=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){t(u.canvas).removeClass("timepicker-canvas-out"),u.setHand(s,l)},e)):this.setHand(s,l)}},{key:"setHand",value:function(t,e,i){var r=this,o=Math.atan2(t,-e),a="hours"===this.currentView,s=Math.PI/(a||i?6:30),l=Math.sqrt(t*t+e*e),u=a&&l<(this.options.outerRadius+this.options.innerRadius)/2,c=u?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(c=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/s);o=h*s,this.options.twelveHour?a?0===h&&(h=12):(i&&(h*=5),60===h&&(h=0)):a?(12===h&&(h=0),h=u?0===h?12:h:0===h?0:h+12):(i&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){r.vibrateTimer=null},100))),this[this.currentView]=h,a?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=n._addLeadingZero(h);var d=Math.sin(o)*(c-this.options.tickRadius),f=-Math.cos(o)*(c-this.options.tickRadius),p=Math.sin(o)*c,g=-Math.cos(o)*c;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",g)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var i=this.el.value,r=e?"":n._addLeadingZero(this.hours)+":"+n._addLeadingZero(this.minutes);this.time=r,!e&&this.options.twelveHour&&(r=r+" "+this.amOrPm),this.el.value=r,r!==i&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),n}();i._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_CharacterCounter=r,r.options=t.extend({},n.defaults,i),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),i=this.el.value.length;this.isValidLength=i<=e;var n=i;e&&(n+="/"+e,this._validateInput()),t(this.counterEl).html(n)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),n}();M.CharacterCounter=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Carousel=r,r.options=t.extend({},n.defaults,i),r.hasMultipleSlides=r.$el.find(".carousel-item").length>1,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=t('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each(function(e,i){if(r.images.push(e),r.showIndicators){var n=t('<li class="indicator-item"></li>');0===i&&n[0].classList.add("active"),r.$indicators.append(n)}}),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.xform="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return void 0===document.body.style[e]||(r.xform=e,!1)}),r._setupEventHandlers(),r._scroll(r.offset),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(e,i){e.addEventListener("click",t._handleIndicatorClickBound)}));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(e,i){e.removeEventListener("click",t._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,i=void 0,n=void 0;if(this.pressed)if(e=this._xpos(t),i=this._ypos(t),n=this.reference-e,Math.abs(this.referenceY-i)<30&&!this.verticalDragged)(n>2||n<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+n));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var i=t(e.target).closest(".carousel-item").index();0!=this._wrap(this.center)-i&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(i)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var i=t(e.target).closest(".indicator-item");i.length&&this._cycleTo(i.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,i=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),n=i.find("img").first();if(n.length)if(n[0].complete){var r=n.height();if(r>0)this.$el.css("height",r+"px");else{var o=n[0].naturalWidth,a=n[0].naturalHeight,s=this.$el.width()/o*a;this.$el.css("height",s+"px")}}else n.one("load",function(t,i){e.$el.css("height",t.offsetHeight+"px")});else if(!t){var l=i.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,i,n;e=(t=Date.now())-this.timestamp,this.timestamp=t,i=this.offset-this.frame,this.frame=this.offset,n=1e3*i/(1+e),this.velocity=.8*n+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,(e=this.amplitude*Math.exp(-t/this.options.duration))>2||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var i=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){i.$el.removeClass("scrolling")},this.options.duration);var n,r,o,a,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=this.center;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),a=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,n=this.count>>1,this.options.fullWidth?u="translateX(0)":(u="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",u+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)"),this.showIndicators){var f=this.center%this.count,p=this.$indicators.find(".indicator-item.active");p.index()!==f&&(p.removeClass("active"),this.$indicators.find(".indicator-item").eq(f)[0].classList.add("active"))}for((!this.noWrap||this.center>=0&&this.center<this.count)&&(l=this.images[this._wrap(this.center)],t(l).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),l.classList.add("active")),l.style[this.xform]=u+" translateX("+-r/2+"px) translateX("+o*this.options.shift*a*s+"px) translateZ("+this.options.dist*a+"px)",l.style.zIndex=0,h=this.options.fullWidth?1:1-.2*a,l.style.opacity=h,l.style.visibility="visible"),s=1;s<=n;++s)this.options.fullWidth?(c=this.options.dist,h=s===n&&r<0?1-a:1):(c=this.options.dist*(2*s+a*o),h=1-.2*(2*s+a*o)),(!this.noWrap||this.center+s<this.count)&&((l=this.images[this._wrap(this.center+s)]).style[this.xform]=u+" translateX("+(this.options.shift+(this.dim*s-r)/2)+"px) translateZ("+c+"px)",l.style.zIndex=-s,l.style.opacity=h,l.style.visibility="visible"),this.options.fullWidth?(c=this.options.dist,h=s===n&&r>0?1-a:1):(c=this.options.dist*(2*s-a*o),h=1-.2*(2*s-a*o)),(!this.noWrap||this.center-s>=0)&&((l=this.images[this._wrap(this.center-s)]).style[this.xform]=u+" translateX("+(-this.options.shift+(-this.dim*s-r)/2)+"px) translateZ("+c+"px)",l.style.zIndex=-s,l.style.opacity=h,l.style.visibility="visible");(!this.noWrap||this.center>=0&&this.center<this.count)&&((l=this.images[this._wrap(this.center)]).style[this.xform]=u+" translateX("+-r/2+"px) translateX("+o*this.options.shift*a+"px) translateZ("+this.options.dist*a+"px)",l.style.zIndex=0,h=this.options.fullWidth?1:1-.2*a,l.style.opacity=h,l.style.visibility="visible");var g=this.$el.find(".carousel-item").eq(this._wrap(this.center));d!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,g[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,g[0],this.dragged),this.oneTimeCallback=null)}},{key:"_cycleTo",value:function(t,e){var i=this.center%this.count-t;this.noWrap||(i<0?Math.abs(i+this.count)<Math.abs(i)&&(i+=this.count):i>0&&Math.abs(i-this.count)<i&&(i-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),i<0?this.target+=this.dim*Math.abs(i):i>0&&(this.target-=this.dim*i),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),n}();M.Carousel=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_FeatureDiscovery=r,r.options=t.extend({},n.defaults,i),r.isOpen=!1,r.$origin=t("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.FeatureDiscovery=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var i=this.$origin.parents(),n=0;n<i.length&&!(e="fixed"==t(i[n]).css("position"));n++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),a=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,l=window.innerWidth,u=window.innerHeight,c=l/2,h=u/2,d=s<=c,f=s>c,p=a<=h,g=a>h,m=s>=.25*l&&s<=.75*l,_=this.$el.outerWidth(),v=this.$el.outerHeight(),y=a+o/2-v/2,b=s+r/2-_/2,w=e?"fixed":"absolute",E=m?_:_/2+r,T=v/2,$=p?v/2:0,x=d&&!m?_/2-r:0,S=r,C=g?"bottom":"top",k=2*r,L=k,A=v/2-L/2,P=_/2-k/2,D={};D.top=p?y+"px":"",D.right=f?l-b-_+"px":"",D.bottom=g?u-y-v+"px":"",D.left=d?b+"px":"",D.position=w,t(this.wrapper).css(D),t(this.contentEl).css({width:E+"px",height:T+"px",top:$+"px",right:"0px",bottom:"0px",left:x+"px",padding:S+"px",verticalAlign:C}),t(this.waveEl).css({top:A+"px",left:P+"px",width:k+"px",height:L+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FeatureDiscovery}},{key:"defaults",get:function(){return e}}]),n}();M.FeatureDiscovery=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"featureDiscovery","M_FeatureDiscovery")}(cash),function(t){"use strict";var e={classes:""},i=function(i){function n(e,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return r.el.M_Select=r,r.options=t.extend({},n.defaults,i),r.isMultiple=r.$el.prop("multiple"),r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r}return _inherits(n,Component),_createClass(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Select=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.addEventListener("click",e._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.removeEventListener("click",e._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound),this.input.removeEventListener("focus",this._handleInputFocusBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var i=t(e.target).closest("li")[0],n=i.id;if(!t(i).hasClass("disabled")&&!t(i).hasClass("optgroup")&&n.length){var r=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id));var a=t(i).find('input[type="checkbox"]');a.prop("checked",!a.prop("checked")),r=this._toggleEntryFromArray(n)}else t(this.dropdownOptions).find("li").removeClass("active"),t(i).toggleClass("active"),this.input.value=i.textContent;this._activateOption(t(this.dropdownOptions),i),t(this._valueDict[n].el).prop("selected",r),this.$el.trigger("change")}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(i){if(t(i).is("option")){var n;n=e.isMultiple?e._appendOptionWithIcon(e.$el,i,"multiple"):e._appendOptionWithIcon(e.$el,i),e._addOptionToValueDict(i,n)}else if(t(i).is("optgroup")){var r=t(i).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+i.getAttribute("label")+"</span></li>")[0]),r.each(function(t){var i=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,i)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var i=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(i[0]),!this.el.disabled){var n={};this.isMultiple&&(n.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,n)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var i=Object.keys(this._valueDict).length,n=this.dropdownOptions.id+i,r={};e.id=n,r.el=t,r.optionEl=e,this._valueDict[n]=r}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,i,n){var r=i.disabled?"disabled ":"",o="optgroup-option"===n?"optgroup-option ":"",a=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+i.innerHTML+"</span></label>":i.innerHTML,s=t("<li></li>"),l=t("<span></span>");l.html(a),s.addClass(r+" "+o),s.append(l);var u=i.getAttribute("data-icon");if(i.getAttribute("class"),u){var c=t('<img alt="" src="'+u+'">');s.prepend(c)}return t(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(e){var i=!this._keysSelected.hasOwnProperty(e);return i?this._keysSelected[e]=!0:delete this._keysSelected[e],t(this._valueDict[e].optionEl).toggleClass("active"),t(this._valueDict[e].el).prop("selected",i),i}},{key:"_setValueToInput",value:function(){var e="";if(this.$el.find("option").each(function(i){if(t(i).prop("selected")){var n=t(i).text();e+=""===e?n:", "+n}}),""===e){var i=this.$el.find("option:disabled").eq(0);i.length&&(e=i.text())}this.input.value=e}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var i=this._valueDict[e];t(i.el).prop("selected")?(t(i.optionEl).find('input[type="checkbox"]').prop("checked",!0),this._activateOption(t(this.dropdownOptions),t(i.optionEl)),this._keysSelected[e]=!0):(t(i.optionEl).find('input[type="checkbox"]').prop("checked",!1),t(i.optionEl).removeClass("selected"))}}},{key:"_activateOption",value:function(e,i){i&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(i).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return _get(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Select}},{key:"defaults",get:function(){return e}}]),n}();M.Select=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"select","M_Select")}(cash),function(t,e){"use strict";var i={},n=function(n){function r(e,i){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,i));return n.el.M_Range=n,n.options=t.extend({},r.defaults,i),n._mousedown=!1,n._setupThumb(),n._setupEventHandlers(),n}return _inherits(r,Component),_createClass(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeFocusBound=this._handleRangeFocus.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("focus",this._handleRangeFocusBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("focus",this._handleRangeFocusBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeFocus",value:function(){M.tabPressed&&this.$el.addClass("focused")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var i=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",i+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){this.$el.removeClass("focused");var i=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:i,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var i=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:i,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max")),i=parseFloat(this.$el.attr("min"));return(parseFloat(this.$el.val())-i)/(e-i)*t}}],[{key:"init",value:function(t,e){return _get(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return i}}]),r}();M.Range=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"range","M_Range"),n.init(t("input[type=range]"))}(cash,M.anime),function(t){"use strict";var e=function(e,i,n){var r,o=t.document,a=o.createElement("link");if(i)r=i;else{var s=(o.body||o.getElementsByTagName("head")[0]).childNodes;r=s[s.length-1]}var l=o.styleSheets;a.rel="stylesheet",a.href=e,a.media="only x",r.parentNode.insertBefore(a,i?r:r.nextSibling);var u=function(t){for(var e=a.href,i=l.length;i--;)if(l[i].href===e)return t();setTimeout(function(){u(t)})};return a.onloadcssdefined=u,u(function(){a.media=n||"all"}),a};"undefined"!=typeof module?module.exports=e:t.loadCSS=e}("undefined"!=typeof global?global:this),function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){(function(n){var r,o,a;!function(i,n){o=[],r=n(i),void 0!==(a="function"==typeof r?r.apply(e,o):r)&&(t.exports=a)}(void 0!==n?n:this.window||this.global,function(t){"use strict";function e(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)f.call(i,n)&&(t[n]=i[n])}return t}function n(t,e,i){var n,r;return e||(e=250),function(){var o=i||this,a=+new Date,s=arguments;n&&a<n+e?(clearTimeout(r),r=setTimeout(function(){n=a,t.apply(o,s)},e)):(n=a,t.apply(o,s))}}var r,o,a=i(2),s={},l={},u=i(3),c=i(4);if("undefined"!=typeof window){var h,d=!!t.document.querySelector&&!!t.addEventListener,f=Object.prototype.hasOwnProperty;return l.destroy=function(){try{document.querySelector(s.tocSelector).innerHTML=""}catch(t){console.warn("Element not found: "+s.tocSelector)}document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),r&&document.removeEventListener("click",this._clickListener,!1)},l.init=function(t){if(d&&(s=e(a,t||{}),this.options=s,this.state={},s.scrollSmooth&&(l.scrollSmooth=i(5).initSmoothScrolling({duration:s.scrollSmoothDuration})),r=u(s),o=c(s),this._buildHtml=r,this._parseContent=o,l.destroy(),null!==(h=o.selectHeadings(s.contentSelector,s.headingSelector)))){var f=o.nestHeadingsArray(h).nest;return r.render(s.tocSelector,f),this._scrollListener=n(function(t){r.updateToc(h);var e=t&&t.target&&t.target.scrollingElement&&0===t.target.scrollingElement.scrollTop;(t&&(0===t.eventPhase||null===t.currentTarget)||e)&&(r.enableTocAnimation(),r.updateToc(h),s.scrollEndCallback&&s.scrollEndCallback(t))},s.throttleTimeout),this._scrollListener(),document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1),this._clickListener=n(function(t){s.scrollSmooth&&r.disableTocAnimation(t),r.updateToc(h)},s.throttleTimeout),document.addEventListener("click",this._clickListener,!1),this}},l.refresh=function(t){l.destroy(),l.init(t||this.options)},t.tocbot=l,l}})}).call(e,i(1))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollEndCallback:function(t){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,onClick:!1}},function(t,e){t.exports=function(t){function e(t,r){var o=r.appendChild(i(t));if(t.children.length){var a=n(t.isCollapsed);t.children.forEach(function(t){e(t,a)}),o.appendChild(a)}}function i(e){var i=document.createElement("li"),n=document.createElement("a");return t.listItemClass&&i.setAttribute("class",t.listItemClass),t.onClick&&(n.onclick=t.onClick),t.includeHtml&&e.childNodes.length?r.call(e.childNodes,function(t){n.appendChild(t.cloneNode(!0))}):n.textContent=e.textContent,n.setAttribute("href","#"+e.id),n.setAttribute("class",t.linkClass+l+"node-name--"+e.nodeName+l+t.extraLinkClasses),i.appendChild(n),i}function n(e){var i=document.createElement("ol"),n=t.listClass+l+t.extraListClasses;return e&&(n+=l+t.collapsibleClass,n+=l+t.isCollapsedClass),i.setAttribute("class",n),i}var r=[].forEach,o=[].some,a=document.body,s=!0,l=" ";return{enableTocAnimation:function(){s=!0},disableTocAnimation:function(e){var i=e.target||e.srcElement;"string"==typeof i.className&&-1!==i.className.indexOf(t.linkClass)&&(s=!1)},render:function(t,i){var r=n(!1);i.forEach(function(t){e(t,r)});var o=document.querySelector(t);if(null!==o)return o.firstChild&&o.removeChild(o.firstChild),o.appendChild(r)},updateToc:function(e){var i=document.documentElement.scrollTop||a.scrollTop;t.positionFixedSelector&&function(){var e=document.documentElement.scrollTop||a.scrollTop,i=document.querySelector(t.positionFixedSelector);"auto"===t.fixedSidebarOffset&&(t.fixedSidebarOffset=document.querySelector(t.tocSelector).offsetTop),e>t.fixedSidebarOffset?-1===i.className.indexOf(t.positionFixedClass)&&(i.className+=l+t.positionFixedClass):i.className=i.className.split(l+t.positionFixedClass).join("")}();var n,u=e;if(s&&null!==document.querySelector(t.tocSelector)&&u.length>0){o.call(u,function(e,r){return e.offsetTop>i+t.headingsOffset+10?(n=u[0===r?r:r-1],!0):r===u.length-1?(n=u[u.length-1],!0):void 0});var c=document.querySelector(t.tocSelector).querySelectorAll("."+t.linkClass);r.call(c,function(e){e.className=e.className.split(l+t.activeLinkClass).join("")});var h=document.querySelector(t.tocSelector).querySelector("."+t.linkClass+".node-name--"+n.nodeName+'[href="#'+n.id+'"]');h.className+=l+t.activeLinkClass;var d=document.querySelector(t.tocSelector).querySelectorAll("."+t.listClass+"."+t.collapsibleClass);r.call(d,function(e){var i=l+t.isCollapsedClass;-1===e.className.indexOf(i)&&(e.className+=l+t.isCollapsedClass)}),h.nextSibling&&(h.nextSibling.className=h.nextSibling.className.split(l+t.isCollapsedClass).join("")),function e(i){return-1!==i.className.indexOf(t.collapsibleClass)?(i.className=i.className.split(l+t.isCollapsedClass).join(""),e(i.parentNode.parentNode)):i}(h.parentNode.parentNode)}}}}},function(t,e){t.exports=function(t){function e(t){return t[t.length-1]}function i(t){return+t.nodeName.split("H").join("")}function n(e){var n={id:e.id,children:[],nodeName:e.nodeName,headingLevel:i(e),textContent:e.textContent.trim()};return t.includeHtml&&(n.childNodes=e.childNodes),n}function r(r,o){for(var a=n(r),s=i(r),l=o,u=e(l),c=s-(u?u.headingLevel:0);c>0;)(u=e(l))&&void 0!==u.children&&(l=u.children),c--;return s>=t.collapseDepth&&(a.isCollapsed=!0),l.push(a),l}var o=[].reduce;return{nestHeadingsArray:function(t){return o.call(t,function(t,e){return r(n(e),t.nest),t},{nest:[]})},selectHeadings:function(e,i){var n=i;t.ignoreSelector&&(n=i.split(",").map(function(e){return e.trim()+":not("+t.ignoreSelector+")"}));try{return document.querySelector(e).querySelectorAll(n)}catch(t){return console.warn("Element not found: "+e),null}}}}},function(t,e){e.initSmoothScrolling=function(t){function e(t){return t.slice(0,t.lastIndexOf("#"))}document.documentElement.style;var i=t.duration,n=location.hash?e(location.href):location.href;document.body.addEventListener("click",function(t){!function(t){return"a"===t.tagName.toLowerCase()&&(t.hash.length>0||"#"===t.href.charAt(t.href.length-1))&&(e(t.href)===n||e(t.href)+"#"===n)}(t.target)||t.target.className.indexOf("no-smooth-scroll")>-1||"#"===t.target.href.charAt(t.target.href.length-2)&&"!"===t.target.href.charAt(t.target.href.length-1)||(t.preventDefault(),function(t,e){function i(t){r=t-n,window.scrollTo(0,a.easing(r,o,l,u)),r<u?requestAnimationFrame(i):(window.scrollTo(0,o+l),"function"==typeof a.callback&&a.callback())}var n,r,o=window.pageYOffset,a={duration:e.duration,offset:e.offset||0,callback:e.callback,easing:e.easing||function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}},s=document.querySelector('[id="'+t.split("#").join("")+'"]'),l="string"==typeof t?a.offset+(t?s&&s.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):t,u="function"==typeof a.duration?a.duration(l):a.duration;requestAnimationFrame(function(t){n=t,i(t)})}(t.target.hash,{duration:i,callback:function(){!function(t){var e=document.getElementById(t.substring(1));e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}(t.target.hash)}}))},!1)}}]),function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.baguetteBox=e()}(this,function(){"use strict";var t,e,i,n,r,o={},a={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},s={},l=[],u=0,c=!1,h={},d=!1,f=/.+\.(gif|jpe?g|png|webp)/i,p={},g=[],m=null,_=function(t){-1!==t.target.id.indexOf("baguette-img")&&M()},v=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,R()},y=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,D()},b=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,M()},w=function(t){h.count++,1<h.count&&(h.multitouch=!0),h.startX=t.changedTouches[0].pageX,h.startY=t.changedTouches[0].pageY},E=function(t){if(!d&&!h.multitouch){t.preventDefault?t.preventDefault():t.returnValue=!1;var e=t.touches[0]||t.changedTouches[0];40<e.pageX-h.startX?(d=!0,R()):e.pageX-h.startX<-40?(d=!0,D()):100<h.startY-e.pageY&&M()}},T=function(){h.count--,h.count<=0&&(h.multitouch=!1),d=!1},$=function(){T()},x=function(e){"block"===t.style.display&&t.contains&&!t.contains(e.target)&&(e.stopPropagation(),A())};function S(t){if(p.hasOwnProperty(t)){var e=p[t].galleries;[].forEach.call(e,function(t){[].forEach.call(t,function(t){j(t.imageElement,"click",t.eventHandler)}),l===t&&(l=[])}),delete p[t]}}function C(t){switch(t.keyCode){case 37:R();break;case 39:D();break;case 27:M();break;case 36:!function(t){t&&t.preventDefault(),O(0)}(t);break;case 35:!function(t){t&&t.preventDefault(),O(l.length-1)}(t)}}function k(r,s){if(l!==r){for(l=r,function(r){for(var s in r||(r={}),a)o[s]=a[s],void 0!==r[s]&&(o[s]=r[s]);e.style.transition=e.style.webkitTransition="fadeIn"===o.animation?"opacity .4s ease":"slideIn"===o.animation?"":"none","auto"===o.buttons&&("ontouchstart"in window||1===l.length)&&(o.buttons=!1),i.style.display=n.style.display=o.buttons?"":"none";try{t.style.backgroundColor=o.overlayBackgroundColor}catch(t){}}(s);e.firstChild;)e.removeChild(e.firstChild);for(var u,c=[],h=[],d=g.length=0;d<r.length;d++)(u=G("div")).className="full-image",u.id="baguette-img-"+d,g.push(u),c.push("baguetteBox-figure-"+d),h.push("baguetteBox-figcaption-"+d),e.appendChild(g[d]);t.setAttribute("aria-labelledby",c.join(" ")),t.setAttribute("aria-describedby",h.join(" "))}}function L(e){o.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==t.style.display&&(U(document,"keydown",C),h={count:0,startX:null,startY:null},P(u=e,function(){B(u),F(u)}),N(),t.style.display="block",o.fullScreen&&(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()),setTimeout(function(){t.className="visible",o.bodyClass&&document.body.classList&&document.body.classList.add(o.bodyClass),o.afterShow&&o.afterShow()},50),o.onChange&&o.onChange(u,g.length),m=document.activeElement,A(),c=!0)}function A(){o.buttons?i.focus():r.focus()}function M(){o.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==t.style.display&&(j(document,"keydown",C),t.className="",setTimeout(function(){t.style.display="none",document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),o.bodyClass&&document.body.classList&&document.body.classList.remove(o.bodyClass),o.afterHide&&o.afterHide(),m&&m.focus(),c=!1},500))}function P(t,e){var i=g[t],n=l[t];if(void 0!==i&&void 0!==n)if(i.getElementsByTagName("img")[0])e&&e();else{var r=n.imageElement,a=r.getElementsByTagName("img")[0],s="function"==typeof o.captions?o.captions.call(l,r):r.getAttribute("data-caption")||r.title,u=function(t){var e=t.href;if(t.dataset){var i=[];for(var n in t.dataset)"at-"!==n.substring(0,3)||isNaN(n.substring(3))||(i[n.replace("at-","")]=t.dataset[n]);for(var r=Object.keys(i).sort(function(t,e){return parseInt(t,10)<parseInt(e,10)?-1:1}),o=window.innerWidth*window.devicePixelRatio,a=0;a<r.length-1&&r[a]<o;)a++;e=i[r[a]]||e}return e}(r),c=G("figure");if(c.id="baguetteBox-figure-"+t,c.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',o.captions&&s){var h=G("figcaption");h.id="baguetteBox-figcaption-"+t,h.innerHTML=s,c.appendChild(h)}i.appendChild(c);var d=G("img");d.onload=function(){var i=document.querySelector("#baguette-img-"+t+" .baguetteBox-spinner");c.removeChild(i),!o.async&&e&&e()},d.setAttribute("src",u),d.alt=a&&a.alt||"",o.titleTag&&s&&(d.title=s),c.appendChild(d),o.async&&e&&e()}}function D(){return O(u+1)}function R(){return O(u-1)}function O(t,e){return!c&&0<=t&&t<e.length?(k(e,o),L(t),!0):t<0?(o.animation&&I("left"),!1):t>=g.length?(o.animation&&I("right"),!1):(P(u=t,function(){B(u),F(u)}),N(),o.onChange&&o.onChange(u,g.length),!0)}function I(t){e.className="bounce-from-"+t,setTimeout(function(){e.className=""},400)}function N(){var t=100*-u+"%";"fadeIn"===o.animation?(e.style.opacity=0,setTimeout(function(){s.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t,e.style.opacity=1},400)):s.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t}function B(t){t-u>=o.preload||P(t+1,function(){B(t+1)})}function F(t){u-t>=o.preload||P(t-1,function(){F(t-1)})}function U(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent("on"+e,function(t){(t=t||window.event).target=t.target||t.srcElement,i(t)})}function j(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent("on"+e,i)}function H(t){return document.getElementById(t)}function G(t){return document.createElement(t)}return[].forEach||(Array.prototype.forEach=function(t,e){for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)}),[].filter||(Array.prototype.filter=function(t,e,i,n,r){for(i=this,n=[],r=0;r<i.length;r++)t.call(e,i[r],r,i)&&n.push(i[r]);return n}),{run:function(o,a){return s.transforms=function(){var t=G("div");return void 0!==t.style.perspective||void 0!==t.style.webkitPerspective}(),s.svg=function(){var t=G("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),s.passiveEvents=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),function(){if(t=H("baguetteBox-overlay"))return e=H("baguetteBox-slider"),i=H("previous-button"),n=H("next-button"),void(r=H("close-button"));var o;(t=G("div")).setAttribute("role","dialog"),t.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(t),(e=G("div")).id="baguetteBox-slider",t.appendChild(e),(i=G("button")).setAttribute("type","button"),i.id="previous-button",i.setAttribute("aria-label","Previous"),i.innerHTML=s.svg?'<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&lt;",t.appendChild(i),(n=G("button")).setAttribute("type","button"),n.id="next-button",n.setAttribute("aria-label","Next"),n.innerHTML=s.svg?'<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&gt;",t.appendChild(n),(r=G("button")).setAttribute("type","button"),r.id="close-button",r.setAttribute("aria-label","Close"),r.innerHTML=s.svg?'<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>':"&times;",t.appendChild(r),i.className=n.className=r.className="baguetteBox-button",o=s.passiveEvents?{passive:!0}:null,U(t,"click",_),U(i,"click",v),U(n,"click",y),U(r,"click",b),U(e,"contextmenu",$),U(t,"touchstart",w,o),U(t,"touchmove",E,o),U(t,"touchend",T),U(document,"focus",x,!0)}(),S(o),function(t,e){var i=document.querySelectorAll(t),n={galleries:[],nodeList:i};return p[t]=n,[].forEach.call(i,function(t){e&&e.filter&&(f=e.filter);var i=[];if(i="A"===t.tagName?[t]:t.getElementsByTagName("a"),0!==(i=[].filter.call(i,function(t){if(-1===t.className.indexOf(e&&e.ignoreClass))return f.test(t.href)})).length){var r=[];[].forEach.call(i,function(t,i){var n=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,k(r,e),L(i)},o={eventHandler:n,imageElement:t};U(t,"click",n),r.push(o)}),n.galleries.push(r)}}),n.galleries}(o,a)},show:O,showNext:D,showPrevious:R,hide:M,destroy:function(){!function(){var o=s.passiveEvents?{passive:!0}:null;j(t,"click",_),j(i,"click",v),j(n,"click",y),j(r,"click",b),j(e,"contextmenu",$),j(t,"touchstart",w,o),j(t,"touchmove",E,o),j(t,"touchend",T),j(document,"focus",x,!0)}(),function(){for(var t in p)p.hasOwnProperty(t)&&S(t)}(),j(document,"keydown",C),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),p={},l=[],u=0}}});var MD5=function(t){function e(t,e){return t<<e|t>>>32-e}function i(t,e){var i,n,r,o,a;return r=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^a^r^o:i|n?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function n(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return t&e|~t&i}(n,r,o),a),l)),i(e(t,s),n)}function r(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return t&i|e&~i}(n,r,o),a),l)),i(e(t,s),n)}function o(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return t^e^i}(n,r,o),a),l)),i(e(t,s),n)}function a(t,n,r,o,a,s,l){return t=i(t,i(i(function(t,e,i){return e^(t|~i)}(n,r,o),a),l)),i(e(t,s),n)}function s(t){var e,i="",n="";for(e=0;e<=3;e++)i+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return i}var l,u,c,h,d,f,p,g,m,_=Array();for(_=function(t){for(var e,i=t.length,n=i+8,r=16*((n-n%64)/64+1),o=Array(r-1),a=0,s=0;s<i;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[r-2]=i<<3,o[r-1]=i>>>29,o}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),f=1732584193,p=4023233417,g=2562383102,m=271733878,l=0;l<_.length;l+=16)u=f,c=p,h=g,d=m,f=n(f,p,g,m,_[l+0],7,3614090360),m=n(m,f,p,g,_[l+1],12,3905402710),g=n(g,m,f,p,_[l+2],17,606105819),p=n(p,g,m,f,_[l+3],22,3250441966),f=n(f,p,g,m,_[l+4],7,4118548399),m=n(m,f,p,g,_[l+5],12,1200080426),g=n(g,m,f,p,_[l+6],17,2821735955),p=n(p,g,m,f,_[l+7],22,4249261313),f=n(f,p,g,m,_[l+8],7,1770035416),m=n(m,f,p,g,_[l+9],12,2336552879),g=n(g,m,f,p,_[l+10],17,4294925233),p=n(p,g,m,f,_[l+11],22,2304563134),f=n(f,p,g,m,_[l+12],7,1804603682),m=n(m,f,p,g,_[l+13],12,4254626195),g=n(g,m,f,p,_[l+14],17,2792965006),f=r(f,p=n(p,g,m,f,_[l+15],22,1236535329),g,m,_[l+1],5,4129170786),m=r(m,f,p,g,_[l+6],9,3225465664),g=r(g,m,f,p,_[l+11],14,643717713),p=r(p,g,m,f,_[l+0],20,3921069994),f=r(f,p,g,m,_[l+5],5,3593408605),m=r(m,f,p,g,_[l+10],9,38016083),g=r(g,m,f,p,_[l+15],14,3634488961),p=r(p,g,m,f,_[l+4],20,3889429448),f=r(f,p,g,m,_[l+9],5,568446438),m=r(m,f,p,g,_[l+14],9,3275163606),g=r(g,m,f,p,_[l+3],14,4107603335),p=r(p,g,m,f,_[l+8],20,1163531501),f=r(f,p,g,m,_[l+13],5,2850285829),m=r(m,f,p,g,_[l+2],9,4243563512),g=r(g,m,f,p,_[l+7],14,1735328473),f=o(f,p=r(p,g,m,f,_[l+12],20,2368359562),g,m,_[l+5],4,4294588738),m=o(m,f,p,g,_[l+8],11,2272392833),g=o(g,m,f,p,_[l+11],16,1839030562),p=o(p,g,m,f,_[l+14],23,4259657740),f=o(f,p,g,m,_[l+1],4,2763975236),m=o(m,f,p,g,_[l+4],11,1272893353),g=o(g,m,f,p,_[l+7],16,4139469664),p=o(p,g,m,f,_[l+10],23,3200236656),f=o(f,p,g,m,_[l+13],4,681279174),m=o(m,f,p,g,_[l+0],11,3936430074),g=o(g,m,f,p,_[l+3],16,3572445317),p=o(p,g,m,f,_[l+6],23,76029189),f=o(f,p,g,m,_[l+9],4,3654602809),m=o(m,f,p,g,_[l+12],11,3873151461),g=o(g,m,f,p,_[l+15],16,530742520),f=a(f,p=o(p,g,m,f,_[l+2],23,3299628645),g,m,_[l+0],6,4096336452),m=a(m,f,p,g,_[l+7],10,1126891415),g=a(g,m,f,p,_[l+14],15,2878612391),p=a(p,g,m,f,_[l+5],21,4237533241),f=a(f,p,g,m,_[l+12],6,1700485571),m=a(m,f,p,g,_[l+3],10,2399980690),g=a(g,m,f,p,_[l+10],15,4293915773),p=a(p,g,m,f,_[l+1],21,2240044497),f=a(f,p,g,m,_[l+8],6,1873313359),m=a(m,f,p,g,_[l+15],10,4264355552),g=a(g,m,f,p,_[l+6],15,2734768916),p=a(p,g,m,f,_[l+13],21,1309151649),f=a(f,p,g,m,_[l+4],6,4149444226),m=a(m,f,p,g,_[l+11],10,3174756917),g=a(g,m,f,p,_[l+2],15,718787259),p=a(p,g,m,f,_[l+9],21,3951481745),f=i(f,u),p=i(p,c),g=i(g,h),m=i(m,d);return(s(f)+s(p)+s(g)+s(m)).toLowerCase()};"undefined"!=typeof window&&function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Hls=e():t.Hls=e()}(this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=31)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);function r(){}var o={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=o,s=n.getSelfScope();e.enableLogs=function(t){if(!0===t||"object"==typeof t){!function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];e.forEach(function(e){a[e]=t[e]?t[e].bind(t):function(t){var e=s.console[t];return e?function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];i[0]&&(i[0]=function(t,e){return"["+t+"] > "+e}(t,i[0])),e.apply(s.console,i)}:r}(e)})}(t,"debug","log","info","warn","error");try{a.log()}catch(t){a=o}}else a=o},e.logger=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6).getSelfScope().Number;e.Number=n,n.isFinite=n.isFinite||function(t){return"number"==typeof t&&isFinite(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},e.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(3),o=i(1),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function t(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.hls=t,this.onEvent=this.onEvent.bind(this),this.handledEvents=e,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(a[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var i="on"+t.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,e)}).call(this,t,e).call()}catch(e){n.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(o.default.ERROR,{type:r.ErrorTypes.OTHER_ERROR,details:r.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var i=t.buffered,n=0;n<i.length;n++)if(e>=i.start(n)&&e<=i.end(n))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,i){try{if(t){var n=t.buffered,r=[],o=void 0;for(o=0;o<n.length;o++)r.push({start:n.start(o),end:n.end(o)});return this.bufferedInfo(r,e,i)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,i){var n,r,o,a,s,l=[];for(t.sort(function(t,e){return t.start-e.start||e.end-t.end}),s=0;s<t.length;s++){var u=l.length;if(u){var c=l[u-1].end;t[s].start-c<i?t[s].end>c&&(l[u-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,n=0,r=o=e;s<l.length;s++){var h=l[s].start,d=l[s].end;if(e+i>=h&&e<d)r=h,n=(o=d)-e;else if(e+i<h){a=h;break}}return{len:n,start:r,end:o,nextStart:a}},t}();e.BufferHelper=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelfScope=function(){return"undefined"==typeof window?self:window}},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),o=i(1);e.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var a=function(i){function a(t){var e=i.call(this,t,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return e.bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}return n(a,i),a.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,r.default.prototype.destroy.call(this),i.prototype.destroy.call(this)},a.prototype.getBufferedFrag=function(t,e){var i=this.fragments,n=Object.keys(i).filter(function(n){var r=i[n];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var o=r.body;return o.startPTS<=t&&t<=o.endPTS});if(0===n.length)return null;var r=n.pop();return i[r].body},a.prototype.detectEvictedFragments=function(t,e){var i,n,r=this;Object.keys(this.fragments).forEach(function(o){var a=r.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){i=s.time;for(var l=0;l<i.length;l++)if(n=i[l],!1===r.isTimeBuffered(n.startPTS,n.endPTS,e)){r.removeFragment(a.body);break}}}})},a.prototype.detectPartialFragments=function(t){var e=this,i=this.getFragmentKey(t),n=this.fragments[i];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach(function(i){if(t.hasElementaryStream(i)){var r=e.timeRanges[i];n.range[i]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}}))},a.prototype.getBufferedTimes=function(t,e,i){for(var n,r,o=[],a=!1,s=0;s<i.length;s++){if(n=i.start(s)-this.bufferPadding,r=i.end(s)+this.bufferPadding,t>=n&&e<=r){o.push({startPTS:Math.max(t,i.start(s)),endPTS:Math.min(e,i.end(s))});break}if(t<r&&e>n)o.push({startPTS:Math.max(t,i.start(s)),endPTS:Math.min(e,i.end(s))}),a=!0;else if(e<=n)break}return{time:o,partial:a}},a.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},a.prototype.getPartialFragment=function(t){var e,i,n,r=this,o=null,a=0;return Object.keys(this.fragments).forEach(function(s){var l=r.fragments[s];r.isPartial(l)&&(i=l.body.startPTS-r.bufferPadding,n=l.body.endPTS+r.bufferPadding,t>=i&&t<=n&&(e=Math.min(t-i,n-t),a<=e&&(o=l.body,a=e)))}),o},a.prototype.getState=function(t){var i=this.getFragmentKey(t),n=this.fragments[i],r=e.FragmentState.NOT_LOADED;return void 0!==n&&(r=n.buffered?!0===this.isPartial(n)?e.FragmentState.PARTIAL:e.FragmentState.OK:e.FragmentState.APPENDING),r},a.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},a.prototype.isTimeBuffered=function(t,e,i){for(var n,r,o=0;o<i.length;o++){if(n=i.start(o)-this.bufferPadding,r=i.end(o)+this.bufferPadding,t>=n&&e<=r)return!0;if(e<=n)return!1}return!1},a.prototype.onFragLoaded=function(e){var i=e.frag;t.isFinite(i.sn)&&!i.bitrateTest&&(this.fragments[this.getFragmentKey(i)]={body:i,range:Object.create(null),buffered:!1})},a.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var i=e.timeRanges[t];e.detectEvictedFragments(t,i)})},a.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},a.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},a.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},a.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},a}(r.default);e.FragmentTracker=a}).call(this,i(2).Number)},function(t,e,i){!function(e){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(h)}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={search:function(t,e){for(var i=0,n=t.length-1,r=null,o=null;i<=n;){var a=e(o=t[r=(i+n)/2|0]);if(a>0)i=r+1;else{if(!(a<0))return o;n=r-1}}return null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,i){for(var n=i,r=0;t.isHeader(e,i);)r+=10,r+=t._readSize(e,i+6),t.isFooter(e,i+10)&&(r+=10),i+=r;if(r>0)return e.subarray(n,n+r)},t._readSize=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,(i|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var i=t.getID3Frames(e),n=0;n<i.length;n++){var r=i[n];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var i=String.fromCharCode(e[0],e[1],e[2],e[3]),n=t._readSize(e,4);return{type:i,size:n,data:e.subarray(10,10+n)}},t.getID3Frames=function(e){for(var i=0,n=[];t.isHeader(e,i);){for(var r=t._readSize(e,i+6),o=(i+=10)+r;i+8<o;){var a=t._getFrameData(e.subarray(i)),s=t._decodeFrame(a);s&&n.push(s),i+=a.size+10}t.isFooter(e,i)&&(i+=10)}return n},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var i=t._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(i.length+1));return{key:e.type,info:i,data:n.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);for(var i,n,r,o=t.length,a="",s=0;s<o;){if(0===(i=t[s++])&&e)return a;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:n=t[s++],a+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=t[s++],r=t[s++],a+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&r)<<0)}}return a},t}(),r=n._utf8ArrayToStr;e.utf8ArrayToStr=r,e.default=n},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),r=i(18),o=function(){function e(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return Object.defineProperty(e,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=n.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var i=this.lastByteRangeEndOffset;t[0]=i||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endProgramDateTime",{get:function(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),e.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},e.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},e.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},e.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&((i=new r.default).method=t.method,i.baseuri=t.baseuri,i.reluri=t.reluri,i.iv=this.createInitializationVector(e)),i},e}();e.default=o}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(39),r=i(40),o=i(41),a=i(3),s=i(0),l=i(1),u=i(6).getSelfScope(),c=function(){function t(t,e,i){var n=(void 0===i?{}:i).removePKCS7Padding,r=void 0===n||n;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=r,r)try{var o=u.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,i,a){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new o.default),u.expandKey(e),a(u.decrypt(t,0,i,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new r.default(c,e)),this.fastAesKey.expandKey().then(function(r){new n.default(c,i).decrypt(t,r).catch(function(n){l.onWebCryptoError(n,t,e,i,a)}).then(function(t){a(t)})}).catch(function(n){l.onWebCryptoError(n,t,e,i,a)})}},t.prototype.onWebCryptoError=function(t,e,i,n,r){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,i,n,r)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(l.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);function r(e,i,r){var o=e[i],a=e[r],s=a.startPTS;t.isFinite(s)?r>i?(o.duration=s-o.start,o.duration<0&&n.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):(a.duration=o.start-s,a.duration<0&&n.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=r>i?o.start+o.duration:Math.max(o.start-a.duration,0)}function o(e,i,n,o,a,s){var l=n;if(t.isFinite(i.startPTS)){var u=Math.abs(i.startPTS-n);t.isFinite(i.deltaPTS)?i.deltaPTS=Math.max(u,i.deltaPTS):i.deltaPTS=u,l=Math.max(n,i.startPTS),n=Math.min(n,i.startPTS),o=Math.max(o,i.endPTS),a=Math.min(a,i.startDTS),s=Math.max(s,i.endDTS)}var c=n-i.start;i.start=i.startPTS=n,i.maxStartPTS=l,i.endPTS=o,i.startDTS=a,i.endDTS=s,i.duration=o-n;var h,d,f,p=i.sn;if(!e||p<e.startSN||p>e.endSN)return 0;for(h=p-e.startSN,(d=e.fragments)[h]=i,f=h;f>0;f--)r(d,f,f-1);for(f=h;f<d.length-1;f++)r(d,f,f+1);return e.PTSKnown=!0,c}e.addGroupId=function(t,e,i){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(i);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(i)}},e.updatePTS=r,e.updateFragPTSDTS=o,e.mergeDetails=function(e,i){var r,a=Math.max(e.startSN,i.startSN)-i.startSN,s=Math.min(e.endSN,i.endSN)-i.startSN,l=i.startSN-e.startSN,u=e.fragments,c=i.fragments,h=0;if(i.initSegment&&e.initSegment&&(i.initSegment=e.initSegment),s<a)i.PTSKnown=!1;else{for(var d=a;d<=s;d++){var f=u[l+d],p=c[d];p&&f&&(h=f.cc-p.cc,t.isFinite(f.startPTS)&&(p.start=p.startPTS=f.startPTS,p.endPTS=f.endPTS,p.duration=f.duration,p.backtracked=f.backtracked,p.dropped=f.dropped,r=p))}if(h)for(n.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<c.length;d++)c[d].cc+=h;if(r)o(i,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(l>=0&&l<u.length){var g=u[l].start;for(d=0;d<c.length;d++)c[d].start+=g}i.PTSKnown=e.PTSKnown}}}).call(this,i(2).Number)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t.apply(this,[e].concat(i))||this;return r._tickInterval=null,r._tickTimer=null,r._tickCallCount=0,r._boundTick=r.tick.bind(r),r}return n(e,t),e.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.prototype.hasInterval=function(){return!!this._tickInterval},e.prototype.hasNextTick=function(){return!!this._tickTimer},e.prototype.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)},e.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},e.prototype.doTick=function(){},e}(i(4).default);e.default=r},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(3),s=i(0),l=i(17),u=i(32),c=window.performance,h={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},d={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},f=function(e){function i(t){var i=e.call(this,t,r.default.MANIFEST_LOADING,r.default.LEVEL_LOADING,r.default.AUDIO_TRACK_LOADING,r.default.SUBTITLE_TRACK_LOADING)||this;return i.loaders={},i}return n(i,e),Object.defineProperty(i,"ContextType",{get:function(){return h},enumerable:!0,configurable:!0}),Object.defineProperty(i,"LevelType",{get:function(){return d},enumerable:!0,configurable:!0}),i.canHaveQualityLevels=function(t){return t!==h.AUDIO_TRACK&&t!==h.SUBTITLE_TRACK},i.mapContextToLevelType=function(t){switch(t.type){case h.AUDIO_TRACK:return d.AUDIO;case h.SUBTITLE_TRACK:return d.SUBTITLE;default:return d.MAIN}},i.getResponseUrl=function(t,e){var i=t.url;return void 0!==i&&0!==i.indexOf("data:")||(i=e.url),i},i.prototype.createInternalLoader=function(t){var e=this.hls.config,i=e.pLoader,n=e.loader,r=new(i||n)(e);return t.loader=r,this.loaders[t.type]=r,r},i.prototype.getInternalLoader=function(t){return this.loaders[t.type]},i.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},i.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},i.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},i.prototype.onManifestLoading=function(t){this.load(t.url,{type:h.MANIFEST,level:0,id:null})},i.prototype.onLevelLoading=function(t){this.load(t.url,{type:h.LEVEL,level:t.level,id:t.id})},i.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:h.AUDIO_TRACK,level:null,id:t.id})},i.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:h.SUBTITLE_TRACK,level:null,id:t.id})},i.prototype.load=function(t,e){var i=this.hls.config;s.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var n,r,o,a,l=this.getInternalLoader(e);if(l){var u=l.context;if(u&&u.url===t)return s.logger.trace("playlist request ongoing"),!1;s.logger.warn("aborting previous loader for type: "+e.type),l.abort()}switch(e.type){case h.MANIFEST:n=i.manifestLoadingMaxRetry,r=i.manifestLoadingTimeOut,o=i.manifestLoadingRetryDelay,a=i.manifestLoadingMaxRetryTimeout;break;case h.LEVEL:n=0,r=i.levelLoadingTimeOut;break;default:n=i.levelLoadingMaxRetry,r=i.levelLoadingTimeOut,o=i.levelLoadingRetryDelay,a=i.levelLoadingMaxRetryTimeout}l=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var c={timeout:r,maxRetry:n,retryDelay:o,maxRetryDelay:a},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return s.logger.debug("Calling internal loader delegate for URL: "+t),l.load(e,c,d),!0},i.prototype.loadsuccess=function(t,e,i,n){if(void 0===n&&(n=null),i.isSidxRequest)return this._handleSidxRequest(t,i),void this._handlePlaylistLoaded(t,e,i,n);this.resetInternalLoader(i.type);var r=t.data;e.tload=c.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,i,n):this._handleMasterPlaylist(t,e,i,n):this._handleManifestParsingError(t,i,"no EXTM3U delimiter",n)},i.prototype.loaderror=function(t,e,i){void 0===i&&(i=null),this._handleNetworkError(e,i,!1,t)},i.prototype.loadtimeout=function(t,e,i){void 0===i&&(i=null),this._handleNetworkError(e,i,!0)},i.prototype._handleMasterPlaylist=function(t,e,n,o){var a=this.hls,l=t.data,c=i.getResponseUrl(t,n),h=u.default.parseMasterPlaylist(l,c);if(h.length){var d=h.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),f=u.default.parseMasterPlaylistMedia(l,c,"AUDIO",d),p=u.default.parseMasterPlaylistMedia(l,c,"SUBTITLES");if(f.length){var g=!1;f.forEach(function(t){t.url||(g=!0)}),!1===g&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(s.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main"}))}a.trigger(r.default.MANIFEST_LOADED,{levels:h,audioTracks:f,subtitles:p,url:c,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,n,"no level found in manifest",o)},i.prototype._handleTrackOrLevelPlaylist=function(e,n,o,a){var s=this.hls,l=o.id,d=o.level,f=o.type,p=i.getResponseUrl(e,o),g=t.isFinite(l)?l:0,m=t.isFinite(d)?d:g,_=i.mapContextToLevelType(o),v=u.default.parseLevelPlaylist(e.data,p,m,_,g);if(v.tload=n.tload,f===h.MANIFEST){var y={url:p,details:v};s.trigger(r.default.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:p,stats:n,networkDetails:a})}if(n.tparsed=c.now(),v.needSidxRanges){var b=v.initSegment.url;this.load(b,{isSidxRequest:!0,type:f,level:d,levelDetails:v,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else o.levelDetails=v,this._handlePlaylistLoaded(e,n,o,a)},i.prototype._handleSidxRequest=function(t,e){var i=l.default.parseSegmentIndex(new Uint8Array(t.data));if(i){var n=i.references,r=e.levelDetails;n.forEach(function(t,e){var i=t.info,n=r.fragments[e];0===n.byteRange.length&&(n.rawByteRange=String(1+i.end-i.start)+"@"+String(i.start))}),r.initSegment.rawByteRange=String(i.moovEndOffset)+"@0"}},i.prototype._handleManifestParsingError=function(t,e,i,n){this.hls.trigger(r.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:i,networkDetails:n})},i.prototype._handleNetworkError=function(t,e,i,n){var o,l;void 0===i&&(i=!1),void 0===n&&(n=null),s.logger.info("A network error occured while loading a "+t.type+"-type playlist");var u=this.getInternalLoader(t);switch(t.type){case h.MANIFEST:o=i?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case h.LEVEL:o=i?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case h.AUDIO_TRACK:o=i?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;default:l=!1}u&&(u.abort(),this.resetInternalLoader(t.type));var c={type:a.ErrorTypes.NETWORK_ERROR,details:o,fatal:l,url:u.url,loader:u,context:t,networkDetails:e};n&&(c.response=n),this.hls.trigger(r.default.ERROR,c)},i.prototype._handlePlaylistLoaded=function(t,e,n,o){var a=n.type,s=n.level,l=n.id,u=n.levelDetails;if(u.targetduration)if(i.canHaveQualityLevels(n.type))this.hls.trigger(r.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:e,networkDetails:o});else switch(a){case h.AUDIO_TRACK:this.hls.trigger(r.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:e,networkDetails:o});break;case h.SUBTITLE_TRACK:this.hls.trigger(r.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,n,"invalid target duration",o)},i}(o.default);e.default=f}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(1),o=Math.pow(2,32)-1,a=function(){function t(t,e){this.observer=t,this.remuxer=e}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,i,n,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==i&&(i="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:i,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:n,initSegment:o?e:null})),this.observer.trigger(r.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else i&&(this.audioCodec=i),n&&(this.videoCodec=n)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<8|t[e+1];return i<0?65536+i:i},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return i<0?4294967296+i:i},t.writeUint32=function(t,e,i){t.data&&(e+=t.start,t=t.data),t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var n,r,o,a,s,l,u=[];if(e.data?(s=e.start,o=e.end,e=e.data):(s=0,o=e.byteLength),!i.length)return null;for(n=s;n<o;)l=(r=t.readUint32(e,n))>1?n+r:o,t.bin2str(e.subarray(n+4,n+8))===i[0]&&(1===i.length?u.push({data:e,start:n+8,end:l}):(a=t.findBox({data:e,start:n+8,end:l},i.slice(1))).length&&(u=u.concat(a))),n=l;return u},t.parseSegmentIndex=function(e){var i,n=t.findBox(e,["moov"])[0],r=n?n.end:null,o=0,a=t.findBox(e,["sidx"]);if(!a||!a[0])return null;i=[];var s=(a=a[0]).data[0];o=0===s?8:16;var l=t.readUint32(a,o);o+=4,o+=0===s?8:16,o+=2;var u=a.end+0,c=t.readUint16(a,o);o+=2;for(var h=0;h<c;h++){var d=o,f=t.readUint32(a,d);d+=4;var p=2147483647&f;if(1==(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(a,d);d+=4,i.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+p-1}}),u+=p,o=d+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:c,references:i,moovEndOffset:r}},t.parseInitSegment=function(e){var i=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var o=r.data[r.start],a=0===o?12:20,s=t.readUint32(r,a),l=t.findBox(e,["mdia","mdhd"])[0];if(l){a=0===(o=l.data[l.start])?12:20;var u=t.readUint32(l,a),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var h={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(h){var d=t.findBox(e,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var f=t.bin2str(d.data.subarray(d.start+12,d.start+16));n.logger.log("MP4Demuxer:"+h+":"+f+" found")}i[s]={timescale:u,type:h},i[h]={timescale:u,id:s}}}}}}),i},t.getStartDTS=function(e,i){var n,r,o;return n=t.findBox(i,["moof","traf"]),r=[].concat.apply([],n.map(function(i){return t.findBox(i,["tfhd"]).map(function(n){var r,o;return r=t.readUint32(n,4),o=e[r].timescale||9e4,t.findBox(i,["tfdt"]).map(function(e){var i,n;return i=e.data[e.start],n=t.readUint32(e,4),1===i&&(n*=Math.pow(2,32),n+=t.readUint32(e,8)),n})[0]/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0},t.offsetStartDTS=function(e,i,n){t.findBox(i,["moof","traf"]).map(function(i){return t.findBox(i,["tfhd"]).map(function(r){var a=t.readUint32(r,4),s=e[a].timescale||9e4;t.findBox(i,["tfdt"]).map(function(e){var i=e.data[e.start],r=t.readUint32(e,4);if(0===i)t.writeUint32(e,4,r-n*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=n*s,r=Math.max(r,0);var a=Math.floor(r/(o+1)),l=Math.floor(r%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,l)}})})})},t.prototype.append=function(e,i,n,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,l=this.initPTS;if(void 0===l){var u=t.getStartDTS(a,e);this.initPTS=l=u-i,this.observer.trigger(r.default.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(a,e,l),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,n,o,e)},t.prototype.destroy=function(){},t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),r=function(){function t(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(t.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=n.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};e.isCodecType=function(t,e){var i=n[e];return!!i&&!0===i[t.slice(0,4)]},e.isCodecSupportedInMp4=function(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(38),r=i(1),o=i(21),a=i(0),s=i(3),l=i(13),u=i(6),c=i(24),h=u.getSelfScope(),d=l.getMediaSource(),f=function(){function e(t,e){var i=this;this.hls=t,this.id=e;var l=this.observer=new c.Observer,u=t.config,f=function(e,n){(n=n||{}).frag=i.frag,n.id=i.id,t.trigger(e,n)};l.on(r.default.FRAG_DECRYPTED,f),l.on(r.default.FRAG_PARSING_INIT_SEGMENT,f),l.on(r.default.FRAG_PARSING_DATA,f),l.on(r.default.FRAG_PARSED,f),l.on(r.default.ERROR,f),l.on(r.default.FRAG_PARSING_METADATA,f),l.on(r.default.FRAG_PARSING_USERDATA,f),l.on(r.default.INIT_PTS_FOUND,f);var p={mp4:d.isTypeSupported("video/mp4"),mpeg:d.isTypeSupported("audio/mpeg"),mp3:d.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){a.logger.log("demuxing in webworker");var m=void 0;try{m=this.w=n(52),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(e){t.trigger(r.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},m.postMessage({cmd:"init",typeSupported:p,vendor:g,id:e,config:JSON.stringify(u)})}catch(t){a.logger.warn("Error in worker:",t),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),m&&h.URL.revokeObjectURL(m.objectURL),this.demuxer=new o.default(l,p,u,g),this.w=void 0}}else this.demuxer=new o.default(l,p,u,g)}return e.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,i,n,r,o,s,l,u){var c=this.w,h=t.isFinite(o.startPTS)?o.startPTS:o.start,d=o.decryptdata,f=this.frag,p=!(f&&o.cc===f.cc),g=!(f&&o.level===f.level),m=f&&o.sn===f.sn+1,_=!g&&m;if(p&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=o,c)c.postMessage({cmd:"demux",data:e,decryptdata:d,initSegment:i,audioCodec:n,videoCodec:r,timeOffset:h,discontinuity:p,trackSwitch:g,contiguous:_,duration:s,accurateTimeOffset:l,defaultInitPTS:u},e instanceof ArrayBuffer?[e]:[]);else{var v=this.demuxer;v&&v.push(e,d,i,n,r,h,p,g,_,s,l,u)}},e.prototype.onWorkerMessage=function(t){var e=t.data,i=this.hls;switch(e.event){case"init":h.URL.revokeObjectURL(this.w.objectURL);break;case r.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}},e}();e.default=f}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(3),a=i(12),s=i(42),l=i(17),u=i(43),c=i(46),h=i(47),d=i(50),f=i(6),p=i(0),g=f.getSelfScope();try{n=g.performance.now.bind(g.performance)}catch(t){p.logger.debug("Unable to use Performance API on this environment"),n=g.Date.now}var m=function(){function t(t,e,i,n){this.observer=t,this.typeSupported=e,this.config=i,this.vendor=n}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,i,o,s,l,u,c,h,d,f,p){var g=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a.default(this.observer,this.config));var _=n();m.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var a=n();g.observer.trigger(r.default.FRAG_DECRYPTED,{stats:{tstart:_,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),o,s,l,u,c,h,d,f,p)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),o,s,l,u,c,h,d,f,p)},t.prototype.pushDecrypted=function(t,e,i,n,a,f,p,g,m,_,v,y){var b=this.demuxer;if(!b||(p||g)&&!this.probe(t)){for(var w=this.observer,E=this.typeSupported,T=this.config,$=[{demux:u.default,remux:h.default},{demux:l.default,remux:d.default},{demux:s.default,remux:h.default},{demux:c.default,remux:h.default}],x=0,S=$.length;x<S;x++){var C=$[x],k=C.demux.probe;if(k(t)){var L=this.remuxer=new C.remux(w,T,E,this.vendor);b=new C.demux(w,L,T,E),this.probe=k;break}}if(!b)return void w.trigger(r.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=b}var A=this.remuxer;(p||g)&&(b.resetInitSegment(i,n,a,_),A.resetInitSegment()),p&&(b.resetTimeStamp(y),A.resetTimeStamp(y)),"function"==typeof b.setDecryptData&&b.setDecryptData(e),b.append(t,f,m,v)},t}();e.default=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(3),o=i(1);function a(t,e,i,a){var s,l,u,c,h,d=navigator.userAgent.toLowerCase(),f=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&e[i+2])>>>6),!((l=(60&e[i+2])>>>2)>p.length-1))return c=(1&e[i+2])<<2,c|=(192&e[i+3])>>>6,n.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+p[l]+"Hz],channelConfig:"+c),/firefox/i.test(d)?l>=6?(s=5,h=new Array(4),u=l-3):(s=2,h=new Array(2),u=l):-1!==d.indexOf("android")?(s=2,h=new Array(2),u=l):(s=5,h=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?u=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(d))||!a&&1===c)&&(s=2,h=new Array(2)),u=l)),h[0]=s<<3,h[0]|=(14&l)>>1,h[1]|=(1&l)<<7,h[1]|=c<<3,5===s&&(h[1]|=(14&u)>>1,h[2]=(1&u)<<7,h[2]|=8,h[3]=0),{config:h,samplerate:p[l],channelCount:c,codec:"mp4a.40."+s,manifestCodec:f};t.trigger(o.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function s(t,e){return 255===t[e]&&240==(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function u(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function c(t){return 9216e4/t}function h(t,e,i,n,r){var o,a,s=t.length;if(o=l(t,e),a=u(t,e),(a-=o)>0&&e+o+a<=s)return{headerLength:o,frameLength:a,stamp:i+n*r}}e.getAudioConfig=a,e.isHeaderPattern=s,e.getHeaderLength=l,e.getFullFrameLength=u,e.isHeader=function(t,e){return!!(e+1<t.length&&s(t,e))},e.probe=function(t,e){if(e+1<t.length&&s(t,e)){var i=l(t,e);e+5<t.length&&(i=u(t,e));var n=e+i;if(n===t.length||n+1<t.length&&s(t,n))return!0}return!1},e.initTrackConfig=function(t,e,i,r,o){if(!t.samplerate){var s=a(e,i,r,o);t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,n.logger.log("parsed codec:"+t.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},e.getFrameDuration=c,e.parseFrameHeader=h,e.appendFrame=function(t,e,i,n,r){var o=h(e,i,n,r,c(t.samplerate));if(o){var a=o.stamp,s=o.headerLength,l=o.frameLength,u={unit:e.subarray(i+s,i+s+l),pts:a,dts:a};return t.samples.push(u),t.len+=l,{sample:u,length:l+s}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,i,n,r){if(!(i+24>e.length)){var o=this.parseHeader(e,i);if(o&&i+o.frameLength<=e.length){var a=n+r*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(i,i+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var i=t[e+1]>>3&3,r=t[e+1]>>1&3,o=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==i&&0!==o&&15!==o&&3!==a){var l=3===i?3-r:3===r?3:4,u=1e3*n.BitratesMap[14*l+o-1],c=3===i?0:2===i?1:2,h=n.SamplingRateMap[3*c+a],d=t[e+3]>>6==3?1:2,f=n.SamplesCoefficients[i][r],p=n.BytesInSlot[r],g=8*f*p;return{sampleRate:h,channelCount:d,frameLength:parseInt(f*u/h+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var i=this.parseHeader(t,e),n=4;i&&i.frameLength&&(n=i.frameLength);var r=e+n;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}};e.default=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.emit.apply(this,[t,t].concat(e))},e}(i(51).EventEmitter);e.Observer=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={toString:function(t){for(var e="",i=t.length,n=0;n<i;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(0);function o(t,e){for(var i=null,n=0;n<t.length;n+=1){var r=t[n];if(r&&r.cc===e){i=r;break}}return i}function a(t,e,i){var n=!1;return e&&e.details&&i&&(i.endCC>i.startCC||t&&t.cc<i.startCC)&&(n=!0),n}function s(t,e){var i=t.fragments,n=e.fragments;if(n.length&&i.length){var a=o(i,n[0].cc);if(a&&(!a||a.startPTS))return a;r.logger.log("No frag in previous level to align on")}else r.logger.log("No fragments to align")}function l(t,e){e.fragments.forEach(function(e){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}),e.PTSKnown=!0}function u(t,e,i){if(a(t,i,e)){var n=s(i.details,e);n&&(r.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(n.start,e))}}function c(e,i){if(i&&i.fragments.length){if(!e.hasProgramDateTime||!i.hasProgramDateTime)return;var n=i.fragments[0].programDateTime,o=(e.fragments[0].programDateTime-n)/1e3+i.fragments[0].start;t.isFinite(o)&&(r.logger.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),l(o,e))}}e.findFirstFragWithCC=o,e.findFragWithCC=function(t,e){return n.default.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})},e.shouldAlignOnDiscontinuities=a,e.findDiscontinuousReferenceFrag=s,e.adjustPts=l,e.alignStream=function(t,e,i){u(t,i,e),!i.PTSKnown&&e&&c(i,e.details)},e.alignDiscontinuities=u,e.alignPDT=c}).call(this,i(2).Number)},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);function r(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0);var n=Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-n<=t?1:i.start-n>t&&i.start?-1:0}function o(t,e,i){var n=1e3*Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.endProgramDateTime-n>t}e.findFragmentByPDT=function(e,i,n){if(!Array.isArray(e)||!e.length||!t.isFinite(i))return null;if(i<e[0].programDateTime)return null;if(i>=e[e.length-1].endProgramDateTime)return null;n=n||0;for(var r=0;r<e.length;++r){var a=e[r];if(o(i,n,a))return a}return null},e.findFragmentByPTS=function(t,e,i,o){void 0===i&&(i=0),void 0===o&&(o=0);var a=t?e[t.sn-e[0].sn+1]:null;return a&&!r(i,o,a)?a:n.default.search(e,r.bind(null,i,o))},e.fragmentWithinToleranceTest=r,e.pdtWithinToleranceTest=o}).call(this,i(2).Number)},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(15),o=i(7),a=i(5),s=i(0);e.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var l=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return n(r,i),r.prototype.doTick=function(){},r.prototype._streamEnded=function(t,e){var i=this.fragCurrent,n=this.fragmentTracker;if(!e.live&&i&&!i.backtracked&&i.sn===e.endSN&&!t.nextStart){var r=n.getState(i);return r===o.FragmentState.PARTIAL||r===o.FragmentState.OK}return!1},r.prototype.onMediaSeeking=function(){var i=this.config,n=this.media,r=this.mediaBuffer,o=this.state,l=n?n.currentTime:null,u=a.BufferHelper.bufferInfo(r||n,l,this.config.maxBufferHole);if(t.isFinite(l)&&s.logger.log("media seeking to "+l.toFixed(3)),o===e.State.FRAG_LOADING){var c=this.fragCurrent;if(0===u.len&&c){var h=i.maxFragLookUpTolerance,d=c.start-h,f=c.start+c.duration+h;l<d||l>f?(c.loader&&(s.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=e.State.IDLE):s.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else o===e.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=e.State.IDLE);n&&(this.lastCurrentTime=l),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=l),this.tick()},r.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r}(r.default);e.default=l}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddTrackEvent=function(t,e){var i=null;try{i=new window.Event("addtrack")}catch(t){(i=document.createEvent("Event")).initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)},e.clearCurrentCues=function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(69),r=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new r,this.regionList=[]}function a(){this.values=Object.create(null)}function s(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(i);2===a.length&&e(a[0],a[1])}}a.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var l=new n.default(0,0,0),u="middle"===l.align?"middle":"center";function c(t,e,i){var n=t;function r(){var e=function(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var n=new a;s(t,function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",u,"end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",u,"end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===l.line&&(r=-1),e.line=r,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",u);var o=n.get("position","auto");"auto"===o&&50===l.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function h(t){return t.replace(/<br(?: \/)?>/gi,"\n")}e.fixLineBreaks=h,o.prototype={parse:function(t){var e=this;function i(){var t=e.buffer,i=0;for(t=h(t);i<t.length&&"\r"!==t[i]&&"\n"!==t[i];)++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function r(t){s(t,function(t,e){},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var o=void 0;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var a=(o=i()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=i(),e.state){case"HEADER":/:/.test(o)?r(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;if(e.cue=new n.default(0,0,""),e.state="CUE",-1===o.indexOf("--\x3e")){e.cue.id=o;continue}case"CUE":try{c(o,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=-1!==o.indexOf("--\x3e");if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=o;continue;case"BADCUE":o||(e.state="ID");continue}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}},e.default=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(8),o=i(3),a=i(16),s=i(35),l=i(36),u=i(7),c=i(37),h=i(55),d=i(56),f=i(57),p=i(0),g=i(58),m=i(1),_=function(t){function e(i){void 0===i&&(i={});var n=t.call(this)||this,r=e.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in r)o in i||(i[o]=r[o]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');p.enableLogs(i.debug),n.config=i,n._autoLevelCapping=-1;var f=n.abrController=new i.abrController(n),g=new i.bufferController(n),m=new i.capLevelController(n),_=new i.fpsController(n),v=new a.default(n),y=new s.default(n),b=new l.default(n),w=new d.default(n),E=n.levelController=new h.default(n),T=new u.FragmentTracker(n),$=[E,n.streamController=new c.default(n,T)],x=i.audioStreamController;x&&$.push(new x(n,T)),n.networkControllers=$;var S=[v,y,b,f,g,m,_,w,T];if(x=i.audioTrackController){var C=new x(n);n.audioTrackController=C,S.push(C)}if(x=i.subtitleTrackController){var k=new x(n);n.subtitleTrackController=k,S.push(k)}if(x=i.emeController){var L=new x(n);n.emeController=L,S.push(L)}return(x=i.subtitleStreamController)&&S.push(new x(n,T)),(x=i.timelineController)&&S.push(new x(n)),n.coreComponents=S,n}return n(e,t),Object.defineProperty(e,"version",{get:function(){return"0.12.2"},enumerable:!0,configurable:!0}),e.isSupported=function(){return f.isSupported()},Object.defineProperty(e,"Events",{get:function(){return m.default},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorTypes",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorDetails",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DefaultConfig",{get:function(){return e.defaultConfig?e.defaultConfig:g.hlsDefaultConfig},set:function(t){e.defaultConfig=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){p.logger.log("destroy"),this.trigger(m.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(t){p.logger.log("attachMedia"),this.media=t,this.trigger(m.default.MEDIA_ATTACHING,{media:t})},e.prototype.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(m.default.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(t){t=r.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),p.logger.log("loadSource:"+t),this.url=t,this.trigger(m.default.MANIFEST_LOADING,{url:t})},e.prototype.startLoad=function(t){void 0===t&&(t=-1),p.logger.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},e.prototype.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},e.prototype.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){p.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Object.defineProperty(e.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(t){p.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(t){p.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(t){p.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){p.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(t){p.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(t){p.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minAutoLevel",{get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,i=t?t.length:0,n=0;n<i;n++)if((t[n].realBitrate?Math.max(t[n].realBitrate,t[n].bitrate):t[n].bitrate)>e)return n;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAutoLevel",{get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTracks",{get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTracks",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTrack",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleDisplay",{get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)},enumerable:!0,configurable:!0}),e}(i(24).Observer);e.default=_},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),r=i(11),o=i(33),a=i(18),s=i(34),l=i(0),u=i(19),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,h=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),f=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function e(){}return e.findGroup=function(t,e){if(!t)return null;for(var i=null,n=0;n<t.length;n++){var r=t[n];r.id===e&&(i=r)}return i},e.convertAVC1ToAVCOTI=function(t){var e,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift()).toString(16),e+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):e=t,e},e.resolve=function(t,e){return n.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,i){var n,r=[];function o(t,e){["video","audio"].forEach(function(i){var n=t.filter(function(t){return u.isCodecType(t,i)});if(n.length){var r=n.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[i+"Codec"]=r.length>0?r[0]:n[0],t=t.filter(function(t){return-1===n.indexOf(t)})}}),e.unknownCodecs=t}for(c.lastIndex=0;null!=(n=c.exec(t));){var a={},l=a.attrs=new s.default(n[1]);a.url=e.resolve(n[2],i);var h=l.decimalResolution("RESOLUTION");h&&(a.width=h.width,a.height=h.height),a.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),a.name=l.NAME,o([].concat((l.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),r.push(a)}return r},e.parseMasterPlaylistMedia=function(t,i,n,r){var o;void 0===r&&(r=[]);var a=[],l=0;for(h.lastIndex=0;null!==(o=h.exec(t));){var u={},c=new s.default(o[1]);if(c.TYPE===n){if(u.groupId=c["GROUP-ID"],u.name=c.NAME,u.type=n,u.default="YES"===c.DEFAULT,u.autoselect="YES"===c.AUTOSELECT,u.forced="YES"===c.FORCED,c.URI&&(u.url=e.resolve(c.URI,i)),u.lang=c.LANGUAGE,u.name||(u.name=u.lang),r.length){var d=e.findGroup(r,u.groupId);u.audioCodec=d?d.codec:r[0].codec}u.id=l++,a.push(u)}}return a},e.parseLevelPlaylist=function(e,i,n,u,c){var h,g,_=0,v=0,y=new o.default(i),b=new a.default,w=0,E=null,T=new r.default,$=null;for(d.lastIndex=0;null!==(h=d.exec(e));){var x=h[1];if(x){T.duration=parseFloat(x);var S=(" "+h[2]).slice(1);T.title=S||null,T.tagList.push(S?["INF",x,S]:["INF",x])}else if(h[3]){if(t.isFinite(T.duration)){var C=_++;T.type=u,T.start=v,T.levelkey=b,T.sn=C,T.level=n,T.cc=w,T.urlId=c,T.baseurl=i,T.relurl=(" "+h[3]).slice(1),m(T,E),y.fragments.push(T),E=T,v+=T.duration,T=new r.default}}else if(h[4]){if(T.rawByteRange=(" "+h[4]).slice(1),E){var k=E.byteRangeEndOffset;k&&(T.lastByteRangeEndOffset=k)}}else if(h[5])T.rawProgramDateTime=(" "+h[5]).slice(1),T.tagList.push(["PROGRAM-DATE-TIME",T.rawProgramDateTime]),null===$&&($=y.fragments.length);else{for(h=h[0].match(f),g=1;g<h.length&&void 0===h[g];g++);var L=(" "+h[g+1]).slice(1),A=(" "+h[g+2]).slice(1);switch(h[g]){case"#":T.tagList.push(A?[L,A]:[L]);break;case"PLAYLIST-TYPE":y.type=L.toUpperCase();break;case"MEDIA-SEQUENCE":_=y.startSN=parseInt(L);break;case"TARGETDURATION":y.targetduration=parseFloat(L);break;case"VERSION":y.version=parseInt(L);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"DIS":w++,T.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":w=parseInt(L);break;case"KEY":var M=L,P=new s.default(M),D=P.enumeratedString("METHOD"),R=P.URI,O=P.hexadecimalInteger("IV");D&&(b=new a.default,R&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(b.method=D,b.baseuri=i,b.reluri=R,b.key=null,b.iv=O));break;case"START":var I=L,N=new s.default(I).decimalFloatingPoint("TIME-OFFSET");t.isFinite(N)&&(y.startTimeOffset=N);break;case"MAP":var B=new s.default(L);T.relurl=B.URI,T.rawByteRange=B.BYTERANGE,T.baseurl=i,T.level=n,T.type=u,T.sn="initSegment",y.initSegment=T,(T=new r.default).rawProgramDateTime=y.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+h)}}}return(T=E)&&!T.relurl&&(y.fragments.pop(),v-=T.duration),y.totalduration=v,y.averagetargetduration=v/y.fragments.length,y.endSN=_-1,y.startCC=y.fragments[0]?y.fragments[0].cc:0,y.endCC=w,!y.initSegment&&y.fragments.length&&y.fragments.every(function(t){return p.test(t.relurl)})&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(T=new r.default).relurl=y.fragments[0].relurl,T.baseurl=i,T.level=n,T.type=u,T.sn="initSegment",y.initSegment=T,y.needSidxRanges=!0),$&&function(t,e){for(var i=t[e],n=e-1;n>=0;n--){var r=t[n];r.programDateTime=i.programDateTime-1e3*r.duration,i=r}}(y.fragments,$),y},e}();function m(e,i){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):i&&i.programDateTime&&(e.programDateTime=i.endProgramDateTime),t.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}e.default=g}).call(this,i(2).Number)},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return Object.defineProperty(e.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!t.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),e}();e.default=i}).call(this,i(2).Number)},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,r=function(){function e(t){for(var i in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(i)&&(this[i]=t[i])}return e.prototype.decimalInteger=function(e){var i=parseInt(this[e],10);return i>t.MAX_SAFE_INTEGER?1/0:i},e.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)i[n]=parseInt(e.slice(2*n,2*n+2),16);return i}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var i=parseInt(this[e],16);return i>t.MAX_SAFE_INTEGER?1/0:i},e.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.prototype.enumeratedString=function(t){return this[t]},e.prototype.decimalResolution=function(t){var e=i.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},e.parseAttrList=function(t){var e,i={};for(n.lastIndex=0;null!==(e=n.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),i[e[1]]=r}return i},e}();e.default=r}).call(this,i(2).Number)},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(3),s=i(0),l=function(e){function i(t){var i=e.call(this,t,r.default.FRAG_LOADING)||this;return i.loaders={},i}return n(i,e),i.prototype.destroy=function(){var t=this.loaders;for(var i in t){var n=t[i];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.prototype.onFragLoading=function(e){var i=e.frag,n=i.type,r=this.loaders,o=this.hls.config,a=o.fLoader,l=o.loader;i.loaded=0;var u,c,h,d=r[n];d&&(s.logger.warn("abort previous fragment loader for type: "+n),d.abort()),d=r[n]=i.loader=o.fLoader?new a(o):new l(o),u={url:i.url,frag:i,responseType:"arraybuffer",progressData:!1};var f=i.byteRangeStartOffset,p=i.byteRangeEndOffset;t.isFinite(f)&&t.isFinite(p)&&(u.rangeStart=f,u.rangeEnd=p),c={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(u,c,h)},i.prototype.loadsuccess=function(t,e,i,n){void 0===n&&(n=null);var o=t.data,a=i.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(r.default.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:n})},i.prototype.loaderror=function(t,e,i){void 0===i&&(i=null);var n=e.frag,o=n.loader;o&&o.abort(),this.loaders[n.type]=void 0,this.hls.trigger(r.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:i})},i.prototype.loadtimeout=function(t,e,i){void 0===i&&(i=null);var n=e.frag,o=n.loader;o&&o.abort(),this.loaders[n.type]=void 0,this.hls.trigger(r.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:i})},i.prototype.loadprogress=function(t,e,i,n){void 0===n&&(n=null);var o=e.frag;o.loaded=t.loaded,this.hls.trigger(r.default.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:n})},i}(o.default);e.default=l}).call(this,i(2).Number)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(3),s=i(0),l=function(t){function e(e){var i=t.call(this,e,r.default.KEY_LOADING)||this;return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return n(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,i=e.type,n=this.loaders[i],o=e.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var l,u,c,h=this.hls.config;n&&(s.logger.warn("abort previous key loader for type:"+i),n.abort()),e.loader=this.loaders[i]=new h.loader(h),this.decrypturl=a,this.decryptkey=null,l={url:a,frag:e,responseType:"arraybuffer"},u={timeout:h.fragLoadingTimeOut,maxRetry:0,retryDelay:h.fragLoadingRetryDelay,maxRetryDelay:h.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(l,u,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(r.default.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(r.default.KEY_LOADED,{frag:n})},e.prototype.loaderror=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(r.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:i,response:t})},e.prototype.loadtimeout=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(r.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}(o.default);e.default=l},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),o=i(5),a=i(20),s=i(1),l=i(7),u=i(11),c=i(16),h=i(14),d=i(25),f=i(3),p=i(0),g=i(26),m=i(27),_=i(54),v=i(28),y=function(e){function i(t,i){var n=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED)||this;return n.fragmentTracker=i,n.config=t.config,n.audioCodecSwap=!1,n._state=v.State.STOPPED,n.stallReported=!1,n.gapController=null,n}return n(i,e),i.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.prototype.onHandlerDestroyed=function(){this.state=v.State.STOPPED,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},i.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(p.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=v.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=v.State.STOPPED},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=v.State.STOPPED,this.forceStartLoad=!1},i.prototype.doTick=function(){switch(this.state){case v.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case v.State.IDLE:this._doTickIdle();break;case v.State.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=v.State.IDLE);break;case v.State.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),i=this.retryDate;(!i||e>=i||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=v.State.IDLE);break;case v.State.ERROR:case v.State.STOPPED:case v.State.FRAG_LOADING:case v.State.PARSING:case v.State.PARSED:case v.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},i.prototype._doTickIdle=function(){var t=this.hls,e=t.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&e.startFragPrefetch)){var n;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,a=this.levels[r];if(a){var l,u=a.bitrate;l=u?Math.max(8*e.maxBufferSize/u,e.maxBufferLength):e.maxBufferLength,l=Math.min(l,e.maxMaxBufferLength);var c=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,e.maxBufferHole),h=c.len;if(!(h>=l)){p.logger.trace("buffer length of "+h.toFixed(3)+" is below max of "+l.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var d=a.details;if(!d||d.live&&this.levelLastLoaded!==r)this.state=v.State.WAITING_LEVEL;else{if(this._streamEnded(c,d)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(s.default.BUFFER_EOS,f),void(this.state=v.State.ENDED)}this._fetchPayloadOrEos(n,c,d)}}}}},i.prototype._fetchPayloadOrEos=function(t,e,i){var n=this.fragPrevious,r=this.level,o=i.fragments,a=o.length;if(0!==a){var s,l=o[0].start,u=o[a-1].start+o[a-1].duration,c=e.end;if(i.initSegment&&!i.initSegment.data)s=i.initSegment;else if(i.live){var h=this.config.initialLiveManifestSize;if(a<h)return void p.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+h);if(null===(s=this._ensureFragmentAtLivePoint(i,c,l,u,n,o,a)))return}else c<l&&(s=o[0]);s||(s=this._findFragment(l,n,a,o,c,u,i)),s&&(s.encrypted?(p.logger.log("Loading key for "+s.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+r),this._loadKey(s)):(p.logger.log("Loading "+s.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+r+", currentTime:"+t.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},i.prototype._ensureFragmentAtLivePoint=function(t,e,i,n,o,a,s){var l,u=this.hls.config,c=this.media,h=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(i-u.maxFragLookUpTolerance,n-h)){var d=this.liveSyncPosition=this.computeLivePosition(i,t);p.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),e=d,c&&c.readyState&&c.duration>d&&(c.currentTime=d),this.nextLoadPosition=d}if(t.PTSKnown&&e>n&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.hasProgramDateTime)p.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),l=m.findFragmentByPDT(a,o.endProgramDateTime,u.maxFragLookUpTolerance);else{var f=o.sn+1;if(f>=t.startSN&&f<=t.endSN){var g=a[f-t.startSN];o.cc===g.cc&&(l=g,p.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=r.default.search(a,function(t){return o.cc-t.cc}))&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=a[Math.min(s-1,Math.round(s/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},i.prototype._findFragment=function(t,e,i,n,r,o,a){var s,l=this.hls.config;if(r<o){var u=r>o-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=m.findFragmentByPTS(e,n,r,u)}else s=n[i-1];if(s){var c=s.sn-a.startSN,h=e&&s.level===e.level,d=n[c-1],f=n[c+1];if(e&&s.sn===e.sn)if(h&&!s.backtracked)if(s.sn<a.endSN){var g=e.deltaPTS;g&&g>l.maxBufferHole&&e.dropped&&c?(s=d,p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=f,p.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(f&&f.backtracked?(p.logger.warn("Already backtracked from fragment "+f.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+f.sn),s=f):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:c&&(s=null)))}return s},i.prototype._loadKey=function(t){this.state=v.State.KEY_LOADING,this.hls.trigger(s.default.KEY_LOADING,{frag:t})},i.prototype._loadFragment=function(e){var i=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,t.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||i===l.FragmentState.NOT_LOADED||i===l.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(s.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new a.default(this.hls,"main")),this.state=v.State.FRAG_LOADING):i===l.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,p.logger.log("main stream:"+e+"->"+t),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},enumerable:!0,configurable:!0}),i.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,c.default.LevelType.MAIN)},Object.defineProperty(i.prototype,"currentLevel",{get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nextBufferedFrag",{get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null},enumerable:!0,configurable:!0}),i.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},Object.defineProperty(i.prototype,"nextLevel",{get:function(){var t=this.nextBufferedFrag;return t?t.level:-1},enumerable:!0,configurable:!0}),i.prototype._checkFragmentChanged=function(){var t,e,i=this.media;if(i&&i.readyState&&!1===i.seeking&&((e=i.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),o.BufferHelper.isBuffered(i,e)?t=this.getBufferedFrag(e):o.BufferHelper.isBuffered(i,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:n});var r=n.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:r}),this.fragPlaying=n}}},i.prototype.immediateLevelSwitch=function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,i=void 0;e?(i=e.paused,e.pause()):i=!0,this.previouslyPaused=i}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)},i.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},i.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var i,n=void 0,r=void 0;if((i=this.getBufferedFrag(e.currentTime))&&i.startPTS>1&&this.flushMainBuffer(0,i.startPTS-1),e.paused)n=0;else{var o=this.hls.nextLoadLevel,a=this.levels[o],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((r=this.getBufferedFrag(e.currentTime+n))&&(r=this.followingBufferedFrag(r))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,t.POSITIVE_INFINITY)}}},i.prototype.flushMainBuffer=function(t,e){this.state=v.State.BUFFER_FLUSHING;var i={startOffset:t,endOffset:e};this.altAudio&&(i.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,i)},i.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition),this.gapController=new _.default(i,e,this.fragmentTracker,this.hls)},i.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.prototype.onMediaSeeked=function(){var e=this.media,i=e?e.currentTime:void 0;t.isFinite(i)&&p.logger.log("media seeked to "+i.toFixed(3)),this.tick()},i.prototype.onManifestLoading=function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},i.prototype.onManifestParsed=function(t){var e,i=!1,n=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(i=!0),-1!==e.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=i&&n,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},i.prototype.onLevelLoaded=function(e){var i=e.details,n=e.level,r=this.levels[this.levelLastLoaded],o=this.levels[n],a=i.totalduration,l=0;if(p.logger.log("level "+n+" loaded ["+i.startSN+","+i.endSN+"],duration:"+a),i.live){var u=o.details;u&&i.fragments.length>0?(h.mergeDetails(u,i),l=i.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(l,u),i.PTSKnown&&t.isFinite(l)?p.logger.log("live playlist sliding:"+l.toFixed(3)):(p.logger.log("live playlist - outdated PTS, unknown sliding"),g.alignStream(this.fragPrevious,r,i))):(p.logger.log("live playlist - first load, unknown sliding"),i.PTSKnown=!1,g.alignStream(this.fragPrevious,r,i))}else i.PTSKnown=!1;if(o.details=i,this.levelLastLoaded=n,this.hls.trigger(s.default.LEVEL_UPDATED,{details:i,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=i.startTimeOffset;t.isFinite(c)?(c<0&&(p.logger.log("negative start time offset "+c+", count from end of last fragment"),c=l+a+c),p.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):i.live?(this.startPosition=this.computeLivePosition(l,i),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===v.State.WAITING_LEVEL&&(this.state=v.State.IDLE),this.tick()},i.prototype.onKeyLoaded=function(){this.state===v.State.KEY_LOADING&&(this.state=v.State.IDLE,this.tick())},i.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=this.hls,n=this.levels,r=this.media,o=t.frag;if(this.state===v.State.FRAG_LOADING&&e&&"main"===o.type&&o.level===e.level&&o.sn===e.sn){var l=t.stats,u=n[e.level],c=u.details;if(this.bitrateTest=!1,this.stats=l,p.logger.log("Loaded "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level),o.bitrateTest&&i.nextLoadLevel)this.state=v.State.IDLE,this.startFragRequested=!1,l.tparsed=l.tbuffered=window.performance.now(),i.trigger(s.default.FRAG_BUFFERED,{stats:l,frag:e,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=v.State.IDLE,l.tparsed=l.tbuffered=window.performance.now(),c.initSegment.data=t.payload,i.trigger(s.default.FRAG_BUFFERED,{stats:l,frag:e,id:"main"}),this.tick();else{p.logger.log("Parsing "+e.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+e.level+", cc "+e.cc),this.state=v.State.PARSING,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var h=!(r&&r.seeking)&&(c.PTSKnown||!c.live),d=c.initSegment?c.initSegment.data:[],f=this._getAudioCodec(u);(this.demuxer=this.demuxer||new a.default(this.hls,"main")).push(t.payload,d,f,u.videoCodec,e,c.totalduration,h)}}this.fragLoadError=0},i.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===v.State.PARSING){var n=t.tracks,r=void 0,o=void 0;if(n.audio&&this.altAudio&&delete n.audio,o=n.audio){var a=this.levels[this.level].audioCodec,l=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===l.indexOf("firefox")&&(a="mp4a.40.5"),-1!==l.indexOf("android")&&"audio/mpeg"!==o.container&&(a="mp4a.40.2",p.logger.log("Android: force audio codec to "+a)),o.levelCodec=a,o.id=t.id}for(r in(o=n.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(s.default.BUFFER_CODECS,n),n){o=n[r],p.logger.log("main track:"+r+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var u=o.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}},i.prototype.onFragParsingData=function(e){var i=this,n=this.fragCurrent,r=e.frag;if(n&&"main"===e.id&&r.sn===n.sn&&r.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===v.State.PARSING){var o=this.levels[this.level],a=n;if(t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),!0===e.hasAudio&&a.addElementaryStream(u.default.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(u.default.ElementaryStreamTypes.VIDEO),p.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)p.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var l=o.details;if(!l||a.sn!==l.startSN)return p.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=v.State.IDLE,this.fragPrevious=a,void this.tick();p.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var c=h.updateFragPTSDTS(o.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),d=this.hls;d.trigger(s.default.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(t){t&&t.length&&i.state===v.State.PARSING&&(i.appended=!0,i.pendingBuffering=!0,d.trigger(s.default.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))}),this.tick()}},i.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===v.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=v.State.PARSED,this._checkAppendedParsed())},i.prototype.onAudioTrackSwitching=function(e){var i=!!e.url,n=e.id;if(!i){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.State.IDLE}var o=this.hls;o.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),o.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},i.prototype.onAudioTrackSwitched=function(t){var e=t.id,i=!!this.hls.audioTracks[e].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},i.prototype.onBufferCreated=function(t){var e,i,n=t.tracks,r=!1;for(var o in n){var a=n[o];"main"===a.id?(i=o,e=a,"video"===o&&(this.videoBuffer=n[o].buffer)):r=!0}r&&e?(p.logger.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},i.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==v.State.PARSING&&e!==v.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},i.prototype._checkAppendedParsed=function(){if(!(this.state!==v.State.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+d.default.toString(e.buffered)),this.fragPrevious=t;var i=this.stats;i.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=v.State.IDLE}this.tick()}},i.prototype.onError=function(e){var i=e.frag||this.fragCurrent;if(!i||"main"===i.type){var n=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=window.performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=v.State.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=v.State.ERROR;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==v.State.ERROR&&(e.fatal?(this.state=v.State.ERROR,p.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==v.State.WAITING_LEVEL||(this.state=v.State.IDLE));break;case f.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==v.State.PARSING&&this.state!==v.State.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=v.State.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)))}}},i.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},i.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},i.prototype.onFragLoadEmergencyAborted=function(){this.state=v.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},i.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(u.default.ElementaryStreamTypes.VIDEO,t.buffered),this.state=v.State.IDLE,this.fragPrevious=null},i.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},i.prototype.computeLivePosition=function(t,e){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-i)},i.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,i=t.seeking?e:this.startPosition;e!==i&&(p.logger.log("target start position not buffered, seek to buffered.start(0) "+i+" from current time "+e+" "),t.currentTime=i)},i.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Object.defineProperty(i.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t},enumerable:!0,configurable:!0}),i}(v.default);e.default=y}).call(this,i(2).Number)},function(t,e,i){function n(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var n=i(i.s=ENTRY_MODULE);return n.default||n}var r="[\\.|\\-|\\+|\\w|/|@]+",o="\\((/\\*.*?\\*/)?s?.*?("+r+").*?\\)";function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t){return!isNaN(1*t)}function l(t,e,n){var l={};l[n]=[];var u=e.toString(),c=u.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return l;for(var h,d=c[1],f=new RegExp("(\\\\n|\\W)"+a(d)+o,"g");h=f.exec(u);)"dll-reference"!==h[3]&&l[n].push(h[3]);for(f=new RegExp("\\("+a(d)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+o,"g");h=f.exec(u);)t[h[2]]||(l[n].push(h[1]),t[h[2]]=i(h[1]).m),l[h[2]]=l[h[2]]||[],l[h[2]].push(h[4]);for(var p=Object.keys(l),g=0;g<p.length;g++)for(var m=0;m<l[p[g]].length;m++)s(l[p[g]][m])&&(l[p[g]][m]=1*l[p[g]][m]);return l}function u(t){return Object.keys(t).reduce(function(e,i){return e||t[i].length>0},!1)}t.exports=function(t,e){e=e||{};var r={main:i.m},o=e.all?{main:Object.keys(r.main)}:function(t,e){for(var i={main:[e]},n={main:[]},r={main:{}};u(i);)for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],c=i[s].pop();if(r[s]=r[s]||{},!r[s][c]&&t[s][c]){r[s][c]=!0,n[s]=n[s]||[],n[s].push(c);for(var h=l(t,t[s][c],s),d=Object.keys(h),f=0;f<d.length;f++)i[d[f]]=i[d[f]]||[],i[d[f]]=i[d[f]].concat(h[d[f]])}}return n}(r,t),a="";Object.keys(o).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;o[t][e];)e++;o[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map(function(e){return JSON.stringify(e)+": "+r[t][e].toString()}).join(",")+"});\n"}),a=a+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map(function(t){return JSON.stringify(t)+": "+r.main[t].toString()}).join(",")+"}))(self);";var s=new window.Blob([a],{type:"text/javascript"});if(e.bare)return s;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),h=new window.Worker(c);return h.objectURL=c,h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();e.default=n},function(t,e,i){"use strict";function n(t){var e=t.byteLength,i=e&&new DataView(t).getUint8(e-1);return i?t.slice(0,e-i):t}Object.defineProperty(e,"__esModule",{value:!0}),e.removePadding=n;var r=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),n=0;n<4;n++)i[n]=e.getUint32(4*n);return i},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,n=i[0],r=i[1],o=i[2],a=i[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],h=s[3],d=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var _=d[f],v=d[_],y=d[v],b=257*d[m]^16843008*m;n[f]=b<<24|b>>>8,r[f]=b<<16|b>>>16,o[f]=b<<8|b>>>24,a[f]=b,b=16843009*y^65537*v^257*_^16843008*f,l[m]=b<<24|b>>>8,u[m]=b<<16|b>>>16,c[m]=b<<8|b>>>24,h[m]=b,f?(f=_^d[d[d[y^_]]],p^=d[d[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),i=!0,n=0;n<e.length&&i;)i=e[n]===this.key[n],n++;if(!i){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o,a,s,l,u=this.ksRows=4*(r+6+1),c=this.keySchedule=new Uint32Array(u),h=this.invKeySchedule=new Uint32Array(u),d=this.sBox,f=this.rcon,p=this.invSubMix,g=p[0],m=p[1],_=p[2],v=p[3];for(o=0;o<u;o++)o<r?s=c[o]=e[o]:(l=s,o%r==0?(l=d[(l=l<<8|l>>>24)>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l],l^=f[o/r|0]<<24):r>6&&o%r==4&&(l=d[l>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l]),c[o]=s=(c[o-r]^l)>>>0);for(a=0;a<u;a++)o=u-a,l=3&a?c[o]:c[o-4],h[a]=a<4||o<=4?l:g[d[l>>>24]]^m[d[l>>>16&255]]^_[d[l>>>8&255]]^v[d[255&l]],h[a]=h[a]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,i,r){for(var o,a,s,l,u,c,h,d,f,p,g,m,_,v,y=this.keySize+6,b=this.invKeySchedule,w=this.invSBox,E=this.invSubMix,T=E[0],$=E[1],x=E[2],S=E[3],C=this.uint8ArrayToUint32Array_(i),k=C[0],L=C[1],A=C[2],M=C[3],P=new Int32Array(t),D=new Int32Array(P.length),R=this.networkToHostOrderSwap;e<P.length;){for(f=R(P[e]),p=R(P[e+1]),g=R(P[e+2]),m=R(P[e+3]),u=f^b[0],c=m^b[1],h=g^b[2],d=p^b[3],_=4,v=1;v<y;v++)o=T[u>>>24]^$[c>>16&255]^x[h>>8&255]^S[255&d]^b[_],a=T[c>>>24]^$[h>>16&255]^x[d>>8&255]^S[255&u]^b[_+1],s=T[h>>>24]^$[d>>16&255]^x[u>>8&255]^S[255&c]^b[_+2],l=T[d>>>24]^$[u>>16&255]^x[c>>8&255]^S[255&h]^b[_+3],u=o,c=a,h=s,d=l,_+=4;o=w[u>>>24]<<24^w[c>>16&255]<<16^w[h>>8&255]<<8^w[255&d]^b[_],a=w[c>>>24]<<24^w[h>>16&255]<<16^w[d>>8&255]<<8^w[255&u]^b[_+1],s=w[h>>>24]<<24^w[d>>16&255]<<16^w[u>>8&255]<<8^w[255&c]^b[_+2],l=w[d>>>24]<<24^w[u>>16&255]<<16^w[c>>8&255]<<8^w[255&h]^b[_+3],_+=3,D[e]=R(o^k),D[e+1]=R(l^L),D[e+2]=R(s^A),D[e+3]=R(a^M),k=f,L=p,A=g,M=m,e+=4}return r?n(D.buffer):D.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}();e.default=r},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),r=i(0),o=i(10),a=function(){function e(t,e,i){this.observer=t,this.config=i,this.remuxer=e}return e.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(t){if(!t)return!1;for(var e=(o.default.getID3Data(t,0)||[]).length,i=t.length;e<i;e++)if(n.probe(t,e))return r.logger.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,i,a,s){for(var l=this._audioTrack,u=o.default.getID3Data(e,0)||[],c=o.default.getTimeStamp(u),h=t.isFinite(c)?90*c:9e4*i,d=0,f=h,p=e.length,g=u.length,m=[{pts:f,dts:f,data:u}];g<p-1;)if(n.isHeader(e,g)&&g+5<p){n.initTrackConfig(l,this.observer,e,g,l.manifestCodec);var _=n.appendFrame(l,e,g,h,d);if(!_){r.logger.log("Unable to parse AAC frame");break}g+=_.length,f=_.sample.pts,d++}else o.default.isHeader(e,g)?(u=o.default.getID3Data(e,g),m.push({pts:f,dts:f,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},i,a,s)},e.prototype.destroy=function(){},e}();e.default=a}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),r=i(23),o=i(1),a=i(44),s=i(45),l=i(0),u=i(3),c={video:1,audio:2,id3:3,text:4},h=function(){function t(t,e,i,n){this.observer=t,this.config=i,this.typeSupported=n,this.remuxer=e,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.default(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var i=t._syncOffset(e);return!(i<0||(i&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),i=0;i<e;){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=n,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,i,n,r){var a,s,c,h,d,f=e.length,p=!1;this.contiguous=n;var g=this.pmtParsed,m=this._avcTrack,_=this._audioTrack,v=this._id3Track,y=m.pid,b=_.pid,w=v.pid,E=this._pmtId,T=m.pesData,$=_.pesData,x=v.pesData,S=this._parsePAT,C=this._parsePMT,k=this._parsePES,L=this._parseAVCPES.bind(this),A=this._parseAACPES.bind(this),M=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this),D=t._syncOffset(e);for(f-=(f+D)%188,a=D;a<f;a+=188)if(71===e[a]){if(s=!!(64&e[a+1]),c=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((h=a+5+e[a+4])===a+188)continue}else h=a+4;switch(c){case y:s&&(T&&(d=k(T))&&void 0!==d.pts&&L(d,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(h,a+188)),T.size+=a+188-h);break;case b:s&&($&&(d=k($))&&void 0!==d.pts&&(_.isAAC?A(d):M(d)),$={data:[],size:0}),$&&($.data.push(e.subarray(h,a+188)),$.size+=a+188-h);break;case w:s&&(x&&(d=k(x))&&void 0!==d.pts&&P(d),x={data:[],size:0}),x&&(x.data.push(e.subarray(h,a+188)),x.size+=a+188-h);break;case 0:s&&(h+=e[h]+1),E=this._pmtId=S(e,h);break;case E:s&&(h+=e[h]+1);var R=C(e,h,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(y=R.avc)>0&&(m.pid=y),(b=R.audio)>0&&(_.pid=b,_.isAAC=R.isAAC),(w=R.id3)>0&&(v.pid=w),p&&!g&&(l.logger.log("reparse from beginning"),p=!1,a=D-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(d=k(T))&&void 0!==d.pts?(L(d,!0),m.pesData=null):m.pesData=T,$&&(d=k($))&&void 0!==d.pts?(_.isAAC?A(d):M(d),_.pesData=null):($&&$.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),_.pesData=$),x&&(d=k(x))&&void 0!==d.pts?(P(d),v.pesData=null):v.pesData=x,null==this.sampleAes?this.remuxer.remux(_,m,v,this._txtTrack,i,n,r):this.decryptAndRemux(_,m,v,this._txtTrack,i,n,r)},t.prototype.decryptAndRemux=function(t,e,i,n,r,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,i,n,r,o,a)})}else this.decryptAndRemuxAvc(t,e,i,n,r,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,i,n,r,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,i,n,r,o,a)})}else this.remuxer.remux(t,e,i,n,r,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,i,n){var r,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){l.logger.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!n){l.logger.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:i?-1===a.audio&&(a.audio=o,a.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},t.prototype._parsePES=function(t){var e,i,n,r,o,a,s,u,c=0,h=t.data;if(!t||0===t.size)return null;for(;h[0].length<19&&h.length>1;){var d=new Uint8Array(h[0].length+h[1].length);d.set(h[0]),d.set(h[1],h[0].length),h[0]=d,h.splice(1,1)}if(1===((e=h[0])[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;192&(i=e[7])&&((a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)>4294967295&&(a-=8589934592),64&i?((s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(l.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),u=(r=e[8])+9,t.size-=u,o=new Uint8Array(t.size);for(var f=0,p=h.length;f<p;f++){var g=(e=h[f]).byteLength;if(u){if(u>g){u-=g;continue}e=e.subarray(u),g-=u,u=0}o.set(e,c),c+=g}return n&&(n-=r+3),{data:o,pts:a,dts:s,len:n}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,n=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,i.push(t)):e.dropped++}t.debug.length&&l.logger.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var i,n,r,o=this,s=this._avcTrack,l=this._parseAVCNALu(t.data),u=this.avcSample,c=!1,h=this.pushAccesUnit.bind(this),d=function(t,e,i,n){return{key:t,pts:e,dts:i,units:[],debug:n}};t.data=null,u&&l.length&&!s.audFound&&(h(u,s),u=this.avcSample=d(!1,t.pts,t.dts,"")),l.forEach(function(e){switch(e.type){case 1:n=!0,u||(u=o.avcSample=d(!0,t.pts,t.dts,"")),u.frame=!0;var l=e.data;if(c&&l.length>4){var f=new a.default(l).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(u.key=!0)}break;case 5:n=!0,u||(u=o.avcSample=d(!0,t.pts,t.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,(i=new a.default(o.discardEPB(e.data))).readUByte();for(var p=0,g=0,m=!1,_=0;!m&&i.bytesAvailable>1;){p=0;do{p+=_=i.readUByte()}while(255===_);g=0;do{g+=_=i.readUByte()}while(255===_);if(4===p&&0!==i.bytesAvailable){if(m=!0,181===i.readUByte()&&49===i.readUShort()&&1195456820===i.readUInt()&&3===i.readUByte()){var v=i.readUByte(),y=31&v,b=[v,i.readUByte()];for(r=0;r<y;r++)b.push(i.readUByte()),b.push(i.readUByte()),b.push(i.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(g<i.bytesAvailable)for(r=0;r<g;r++)i.readUByte()}break;case 7:if(n=!0,c=!0,!s.sps){var w=(i=new a.default(e.data)).readSPS();s.width=w.width,s.height=w.height,s.pixelRatio=w.pixelRatio,s.sps=[e.data],s.duration=o._duration;var E=e.data.subarray(1,4),T="avc1.";for(r=0;r<3;r++){var $=E[r].toString(16);$.length<2&&($="0"+$),T+=$}s.codec=T}break;case 8:n=!0,s.pps||(s.pps=[e.data]);break;case 9:n=!1,s.audFound=!0,u&&h(u,s),u=o.avcSample=d(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+e.type+" ")}u&&n&&u.units.push(e)}),e&&u&&(h(u,s),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var i=t.length;if(i>0){if(e.pts>=t[i-1].pts)t.push(e);else for(var n=i-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var i=this._avcTrack.samples;e=i[i.length-1]}if(e){var n=e.units;t=n[n.length-1]}return t},t.prototype._parseAVCNALu=function(t){var e,i,n,r,o=0,a=t.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],h=-1;for(-1===l&&(h=0,r=31&t[0],l=0,o=1);o<a;)if(e=t[o++],l)if(1!==l)if(e)if(1===e){var d,f;h>=0?(n={data:t.subarray(h,o-l-1),type:r},c.push(n)):(d=this._getLastNalUnit())&&(u&&o<=4-u&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-u)),(i=o-l-1)>0&&((f=new Uint8Array(d.data.byteLength+i)).set(d.data,0),f.set(t.subarray(0,i),d.data.byteLength),d.data=f)),o<a?(h=o,r=31&t[o],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;return h>=0&&l>=0&&(n={data:t.subarray(h,a),type:r,state:l},c.push(n)),0===c.length&&(d=this._getLastNalUnit())&&((f=new Uint8Array(d.data.byteLength+t.byteLength)).set(d.data,0),f.set(t,d.data.byteLength),d.data=f),s.naluState=l,c},t.prototype.discardEPB=function(t){for(var e,i,n=t.byteLength,r=[],o=1;o<n-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),i[o]=t[a];return i},t.prototype._parseAACPES=function(t){var e,i,r,a,s,c=this._audioTrack,h=t.data,d=t.pts,f=this.aacOverFlow,p=this.aacLastPTS;if(f){var g=new Uint8Array(f.byteLength+h.byteLength);g.set(f,0),g.set(h,f.byteLength),h=g}for(r=0,s=h.length;r<s-1&&!n.isHeader(h,r);r++);if(r){var m=void 0,_=void 0;if(r<s-1?(m="AAC PES did not start with ADTS header,offset:"+r,_=!1):(m="no ADTS header found in AAC PES",_=!0),l.logger.warn("parsing error:"+m),this.observer.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:_,reason:m}),_)return}if(n.initTrackConfig(c,this.observer,h,r,this.audioCodec),i=0,e=n.getFrameDuration(c.samplerate),f&&p){var v=p+e;Math.abs(v-d)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((v-d)/90)),d=v)}for(;r<s;)if(n.isHeader(h,r)&&r+5<s){var y=n.appendFrame(c,h,r,d,i);if(!y)break;r+=y.length,a=y.sample.pts,i++}else r++;f=r<s?h.subarray(r,s):null,this.aacOverFlow=f,this.aacLastPTS=a},t.prototype._parseMPEGPES=function(t){for(var e=t.data,i=e.length,n=0,o=0,a=t.pts;o<i;)if(r.default.isHeader(e,o)){var s=r.default.appendFrame(this._audioTrack,e,o,a,n);if(!s)break;o+=s.length,n++}else o++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,n=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");n.set(t.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;return t>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?i<<e|this.readBits(e):i},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,i=8,n=8;for(e=0;e<t;e++)0!==n&&(n=(i+this.readEG()+256)%256),i=0===n?i:n},t.prototype.readSPS=function(){var t,e,i,n,r,o,a,s=0,l=0,u=0,c=0,h=this.readUByte.bind(this),d=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),_=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(h(),t=h(),d(5),g(3),h(),_(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var y=f();if(3===y&&g(1),_(),_(),g(1),p())for(o=3!==y?8:12,a=0;a<o;a++)p()&&v(a<6?16:64)}_();var b=f();if(0===b)f();else if(1===b)for(g(1),m(),m(),e=f(),a=0;a<e;a++)m();_(),g(1),i=f(),n=f(),0===(r=d(1))&&g(1),g(1),p()&&(s=f(),l=f(),u=f(),c=f());var w=[1,1];if(p()&&p())switch(h()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[h()<<8|h(),h()<<8|h()]}return{width:Math.ceil(16*(i+1)-2*s-2*l),height:(2-r)*(n+1)*16-(r?2:4)*(u+c),pixelRatio:w}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(12),r=function(){function t(t,e,i,r){this.decryptdata=i,this.discardEPB=r,this.decrypter=new n.default(t,e,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,i,n){var r=t[e].unit,o=r.subarray(16,r.length-r.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){o=new Uint8Array(o),r.set(o,16),n||s.decryptAacSamples(t,e+1,i)})},t.prototype.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,i,n),!n)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),n=0,r=32;r<=t.length-16;r+=160,n+=16)i.set(t.subarray(r,r+16),n);return i},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var i=0,n=32;n<=t.length-16;n+=160,i+=16)t.set(e.subarray(i,i+16),n);return t},t.prototype.decryptAvcSample=function(t,e,i,n,r,o){var a=this.discardEPB(r.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(a,s),o||l.decryptAvcSamples(t,e,i+1,n)})},t.prototype.decryptAvcSamples=function(t,e,i,n){for(;;e++,i=0){if(e>=t.length)return void n();for(var r=t[e].units;!(i>=r.length);i++){var o=r[i];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,i,n,o,a),!a)return}}}},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),r=i(0),o=i(23),a=function(){function t(t,e,i){this.observer=t,this.config=i,this.remuxer=e}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,i,a=n.default.getID3Data(t,0);if(a&&void 0!==n.default.getTimeStamp(a))for(e=a.length,i=Math.min(t.length-1,e+100);e<i;e++)if(o.default.probe(t,e))return r.logger.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,r){for(var a=n.default.getID3Data(t,0),s=n.default.getTimeStamp(a),l=s?90*s:9e4*e,u=a.length,c=t.length,h=0,d=0,f=this._audioTrack,p=[{pts:l,dts:l,data:a}];u<c;)if(o.default.isHeader(t,u)){var g=o.default.appendFrame(f,t,u,l,h);if(!g)break;u+=g.length,d=g.sample.pts,h++}else n.default.isHeader(t,u)?(a=n.default.getID3Data(t,u),p.push({pts:d,dts:d,data:a}),u+=a.length):u++;this.remuxer.remux(f,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,i,r)},t.prototype.destroy=function(){},t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(48),r=i(49),o=i(1),a=i(3),s=i(0),l=function(){function t(t,e,i,n){this.observer=t,this.config=e,this.typeSupported=i;var r=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&r&&!r.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,i,n,r,a,l){if(this.ISGenerated||this.generateIS(t,e,r),this.ISGenerated){var u=t.samples.length,c=e.samples.length,h=r,d=r;if(u&&c){var f=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;h+=Math.max(0,f),d+=Math.max(0,-f)}if(u){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,r));var p=this.remuxAudio(t,h,a,l);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,r)),this.remuxVideo(e,d,a,g,l)}}else if(c){var m=this.remuxVideo(e,d,a,0,l);m&&t.codec&&this.remuxEmptyAudio(t,h,a,m)}}i.samples.length&&this.remuxID3(i,r),n.samples.length&&this.remuxText(n,r),this.observer.trigger(o.default.FRAG_PARSED)},t.prototype.generateIS=function(t,e,i){var n,l,u=this.observer,c=t.samples,h=e.samples,d=this.typeSupported,f="audio/mp4",p={},g={tracks:p},m=void 0===this._initPTS;if(m&&(n=l=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(d.mpeg?(f="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")),p.audio={container:f,codec:t.codec,initSegment:!t.isAAC&&d.mpeg?new Uint8Array:r.default.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(n=l=c[0].pts-t.inputTimeScale*i)),e.sps&&e.pps&&h.length){var _=e.inputTimeScale;e.timescale=_,p.video={container:"video/mp4",codec:e.codec,initSegment:r.default.initSegment([e]),metadata:{width:e.width,height:e.height}},m&&(n=Math.min(n,h[0].pts-_*i),l=Math.min(l,h[0].dts-_*i),this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(p).length?(u.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,m&&(this._initPTS=n,this._initDTS=l)):u.trigger(o.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,i,n,l){var u,c,h,d,f,p,g,m=8,_=t.timescale,v=t.samples,y=[],b=v.length,w=this._PTSNormalize,E=this._initPTS,T=this.nextAvcDts,$=this.isSafari;if(0!==b){$&&(i|=v.length&&T&&(l&&Math.abs(e-T/_)<.1||Math.abs(v[0].pts-T-E)<_/5)),i||(T=e*_),v.forEach(function(t){t.pts=w(t.pts-E,T),t.dts=w(t.dts-E,T)}),v.sort(function(t,e){var i=t.dts-e.dts,n=t.pts-e.pts;return i||n||t.id-e.id});var x=v.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(x<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(x/90)+" ms to overcome this issue");for(var S=0;S<v.length;S++)v[S].dts+=x}var C=v[0];f=Math.max(C.dts,0),d=Math.max(C.pts,0);var k=Math.round((f-T)/90);i&&k&&(k>1?s.logger.log("AVC:"+k+" ms hole between fragments detected,filling it"):k<-1&&s.logger.log("AVC:"+-k+" ms overlapping between fragments detected"),f=T,v[0].dts=f,d=Math.max(d-k,T),v[0].pts=d,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(f/90)+",delta:"+k+" ms")),C=v[v.length-1],g=Math.max(C.dts,0),p=Math.max(C.pts,0,g),$&&(u=Math.round((g-f)/(v.length-1)));var L=0,A=0;for(S=0;S<b;S++){for(var M=v[S],P=M.units,D=P.length,R=0,O=0;O<D;O++)R+=P[O].data.length;A+=R,L+=D,M.length=R,M.dts=$?f+S*u:Math.max(M.dts,f),M.pts=Math.max(M.pts,M.dts)}var I=A+4*L+8;try{c=new Uint8Array(I)}catch(t){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:I,reason:"fail allocating video mdat "+I})}var N=new DataView(c.buffer);for(N.setUint32(0,I),c.set(r.default.types.mdat,4),S=0;S<b;S++){var B=v[S],F=B.units,U=0,j=void 0;for(O=0,D=F.length;O<D;O++){var H=F[O],G=H.data,z=H.data.byteLength;N.setUint32(m,z),m+=4,c.set(G,m),m+=z,U+=4+z}if($)j=Math.max(0,u*Math.round((B.pts-B.dts)/u));else{if(S<b-1)u=v[S+1].dts-B.dts;else{var q=this.config,W=B.dts-v[S>0?S-1:S].dts;if(q.stretchShortVideoTrack){var Y=q.maxBufferHole,V=Math.floor(Y*_),X=(n?d+n*_:this.nextAudioPts)-B.pts;X>V?((u=X-W)<0&&(u=W),s.logger.log("It is approximately "+X/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=W}else u=W}j=Math.round(B.pts-B.dts)}y.push({size:U,duration:u,cts:j,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=g+u;var K=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Q=y[0].flags;Q.dependsOn=2,Q.isNonSync=0}t.samples=y,h=r.default.moof(t.sequenceNumber++,f,t),t.samples=[];var Z={data1:h,data2:c,startPTS:d/_,endPTS:(p+u)/_,startDTS:f/_,endDTS:this.nextAvcDts/_,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:K};return this.observer.trigger(o.default.FRAG_PARSING_DATA,Z),Z}},t.prototype.remuxAudio=function(t,e,i,l){var u,c,h,d,f,p,g,m=t.inputTimeScale,_=t.timescale,v=m/_,y=(t.isAAC?1024:1152)*v,b=this._PTSNormalize,w=this._initPTS,E=!t.isAAC&&this.typeSupported.mpeg,T=t.samples,$=[],x=this.nextAudioPts;if(i|=T.length&&x&&(l&&Math.abs(e-x/m)<.1||Math.abs(T[0].pts-x-w)<20*y),T.forEach(function(t){t.pts=t.dts=b(t.pts-w,e*m)}),0!==(T=T.filter(function(t){return t.pts>=0})).length){if(i||(x=l?e*m:T[0].pts),t.isAAC)for(var S=this.config.maxAudioFramesDrift,C=0,k=x;C<T.length;){var L,A=T[C];L=(B=A.pts)-k;var M=Math.abs(1e3*L/m);if(L<=-S*y)s.logger.warn("Dropping 1 audio frame @ "+(k/m).toFixed(3)+"s due to "+Math.round(M)+" ms overlap."),T.splice(C,1),t.len-=A.unit.length;else if(L>=S*y&&M<1e4&&k){var P=Math.round(L/y);s.logger.warn("Injecting "+P+" audio frame @ "+(k/m).toFixed(3)+"s due to "+Math.round(1e3*L/m)+" ms gap.");for(var D=0;D<P;D++){var R=Math.max(k,0);(h=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),h=A.unit.subarray()),T.splice(C,0,{unit:h,pts:R,dts:R}),t.len+=h.length,k+=y,C++}A.pts=A.dts=k,k+=y,C++}else Math.abs(L),A.pts=A.dts=k,k+=y,C++}D=0;for(var O=T.length;D<O;D++){var I=T[D],N=I.unit,B=I.pts;if(void 0!==g)c.duration=Math.round((B-g)/v);else{var F=Math.round(1e3*(B-x)/m),U=0;if(i&&t.isAAC&&F){if(F>0&&F<1e4)U=Math.round((B-x)/y),s.logger.log(F+" ms hole between AAC samples detected,filling it"),U>0&&((h=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(h=N.subarray()),t.len+=U*h.length);else if(F<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(x/m).toFixed(3)+"s/"+(B/m).toFixed(3)+"s/"+-F+"ms"),t.len-=N.byteLength;continue}B=x}if(p=B,!(t.len>0))return;var j=E?t.len:t.len+8;u=E?0:8;try{d=new Uint8Array(j)}catch(t){return void this.observer.trigger(o.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}for(E||(new DataView(d.buffer).setUint32(0,j),d.set(r.default.types.mdat,4)),C=0;C<U;C++)(h=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),h=N.subarray()),d.set(h,u),u+=h.byteLength,c={size:h.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},$.push(c)}d.set(N,u);var H=N.byteLength;u+=H,c={size:H,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},$.push(c),g=B}var G=0,z=$.length;if(z>=2&&(G=$[z-2].duration,c.duration=G),z){this.nextAudioPts=x=g+v*G,t.len=0,t.samples=$,f=E?new Uint8Array:r.default.moof(t.sequenceNumber++,p/v,t),t.samples=[];var q=p/m,W=x/m,Y={data1:f,data2:d,startPTS:q,endPTS:W,startDTS:q,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:z};return this.observer.trigger(o.default.FRAG_PARSING_DATA,Y),Y}return null}},t.prototype.remuxEmptyAudio=function(t,e,i,r){var o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),l=this.nextAudioPts,u=(void 0!==l?l:r.startDTS*o)+this._initDTS,c=r.endDTS*o+this._initDTS,h=1024*a,d=Math.ceil((c-u)/h),f=n.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),f){for(var p=[],g=0;g<d;g++){var m=u+g*h;p.push({unit:f,pts:m,dts:m}),t.len+=f.length}t.samples=p,this.remuxAudio(t,e,i)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t){var e,i=t.samples.length,n=t.inputTimeScale,r=this._initPTS,a=this._initDTS;if(i){for(var s=0;s<i;s++)(e=t.samples[s]).pts=(e.pts-r)/n,e.dts=(e.dts-a)/n;this.observer.trigger(o.default.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},t.prototype.remuxText=function(t){t.samples.sort(function(t,e){return t.pts-e.pts});var e,i=t.samples.length,n=t.inputTimeScale,r=this._initPTS;if(i){for(var a=0;a<i;a++)(e=t.samples[a]).pts=(e.pts-r)/n;this.observer.trigger(o.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t.prototype._PTSNormalize=function(t,e){var i;if(void 0===e)return t;for(i=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=i;return t},t}();e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.pow(2,32)-1,r=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,l,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=8,r=i.length,o=r;r--;)n+=i[r].byteLength;for((e=new Uint8Array(n))[0]=n>>24&255,e[1]=n>>16&255,e[2]=n>>8&255,e[3]=255&n,e.set(t,4),r=0,n=8;r<o;r++)e.set(i[r],n),n+=i[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,i){i*=e;var r=Math.floor(i/(n+1)),o=Math.floor(i%(n+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,i,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,i))},t.moov=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,i){i*=e;var r=Math.floor(i/(n+1)),o=Math.floor(i%(n+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var i,n,r=e.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,o[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var i,n,r,o=[],a=[];for(i=0;i<e.sps.length;i++)r=(n=e.sps[i]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(i=0;i<e.pps.length;i++)r=(n=e.pps[i]).byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(n));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),l=e.width,u=e.height,c=e.pixelRatio[0],h=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,h>>24,h>>16&255,h>>8&255,255&h])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var i=e.id,r=e.duration*e.timescale,o=e.width,a=e.height,s=Math.floor(r/(n+1)),l=Math.floor(r%(n+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,i){var r=t.sdtp(e),o=e.id,a=Math.floor(i/(n+1)),s=Math.floor(i%(n+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,r.length+16+20+8+16+8+8),r)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,i){var n,r,o,a,s,l,u=e.samples||[],c=u.length,h=12+16*c,d=new Uint8Array(h);for(i+=8+h,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),n=0;n<c;n++)o=(r=u[n]).duration,a=r.size,s=r.flags,l=r.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return t.box(t.types.trun,d)},t.initSegment=function(e){t.types||t.init();var i,n=t.moov(e);return(i=new Uint8Array(t.FTYP.byteLength+n.byteLength)).set(t.FTYP),i.set(n,t.FTYP.byteLength),i},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(){function t(t){this.observer=t}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,i,r,o,a,s,l){var u=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),u.trigger(n.default.FRAG_PARSING_DATA,{data1:l,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),u.trigger(n.default.FRAG_PARSED)},t}();e.default=r},function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function a(t,e,i,n,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new function(t,e,i){this.fn=t,this.context=e,this.once=i||!1}(i,n||t,o),s=r?r+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},l.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,a=new Array(o);n<o;n++)a[n]=i[n].fn;return a},l.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},l.prototype.emit=function(t,e,i,n,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,o),!0;case 6:return c.fn.call(c.context,e,i,n,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,n);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},l.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},l.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},l.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==e||n&&!a[l].once||i&&a[l].context!==i)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21),r=i(1),o=i(0),a=i(53);e.default=function(t){var e=new a.EventEmitter;e.trigger=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];e.removeListener.apply(e,[t].concat(i))};var i=function(e,i){t.postMessage({event:e,data:i})};t.addEventListener("message",function(r){var a=r.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new n.default(e,a.typeSupported,s,a.vendor),o.enableLogs(s.debug),i("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),e.on(r.default.FRAG_DECRYPTED,i),e.on(r.default.FRAG_PARSING_INIT_SEGMENT,i),e.on(r.default.FRAG_PARSED,i),e.on(r.default.ERROR,i),e.on(r.default.FRAG_PARSING_METADATA,i),e.on(r.default.FRAG_PARSING_USERDATA,i),e.on(r.default.INIT_PTS_FOUND,i),e.on(r.default.FRAG_PARSING_DATA,function(e,i){var n=[],r={event:e,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),t.postMessage(r,n)})}},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,a,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(u=i.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},i.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},i.prototype.removeListener=function(t,e){var i,o,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(i=this._events[t]).length,o=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(s=a;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),r=i(3),o=i(1),a=i(0),s=function(){function t(t,e,i,n){this.config=t,this.media=e,this.fragmentTracker=i,this.hls=n,this.stallReported=!1}return t.prototype.poll=function(t,e){var i=this.config,r=this.media,o=r.currentTime,s=window.performance.now();if(o!==t)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(r.ended||!r.buffered.length||r.readyState>2||r.seeking&&n.BufferHelper.isBuffered(r,o))){var l=s-this.stalled,u=n.BufferHelper.bufferInfo(r,o,i.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},t.prototype._tryFixBufferStall=function(t,e){var i=this.config,n=this.fragmentTracker,r=this.media.currentTime,o=n.getPartialFragment(r);o&&this._trySkipBufferHole(o),t.len>.5&&e>1e3*i.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},t.prototype._reportStall=function(t){var e=this.hls,i=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+i.currentTime+" due to low buffer"),e.trigger(o.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},t.prototype._trySkipBufferHole=function(t){for(var e=this.hls,i=this.media,n=i.currentTime,s=0,l=0;l<i.buffered.length;l++){var u=i.buffered.start(l);if(n>=s&&n<u)return i.currentTime=Math.max(u,i.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+n+" to "+i.currentTime),this.stalled=null,void e.trigger(o.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+i.currentTime,frag:t});s=i.buffered.end(l)}},t.prototype._tryNudgeBuffer=function(){var t=this.config,e=this.hls,i=this.media,n=i.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<t.nudgeMaxRetry){var l=n+s*t.nudgeOffset;a.logger.log("adjust currentTime from "+n+" to "+l),i.currentTime=l,e.trigger(o.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+n+" after "+t.nudgeMaxRetry+", raise fatal error"),e.trigger(o.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();e.default=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(1),a=i(4),s=i(0),l=i(3),u=i(19),c=i(14),h=window.performance,d=function(t){function e(e){var i=t.call(this,e,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,r=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),i}return n(e,t),e.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},e.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e,i=[],n=[],a={},h=null,d=!1,f=!1;if(t.levels.forEach(function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,d=d||!!t.videoCodec,f=f||!!t.audioCodec,r&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(h=a[t.bitrate])?h.url.push(t.url):(t.url=[t.url],t.urlId=0,a[t.bitrate]=t,i.push(t)),e&&(e.AUDIO&&(f=!0,c.addGroupId(h||t,"audio",e.AUDIO)),e.SUBTITLES&&c.addGroupId(h||t,"text",e.SUBTITLES))}),d&&f&&(i=i.filter(function(t){return!!t.videoCodec})),i=i.filter(function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||u.isCodecSupportedInMp4(e,"audio"))&&(!i||u.isCodecSupportedInMp4(i,"video"))}),t.audioTracks&&(n=t.audioTracks.filter(function(t){return!t.audioCodec||u.isCodecSupportedInMp4(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),i.length>0){e=i[0].bitrate,i.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=i;for(var p=0;p<i.length;p++)if(i[p].bitrate===e){this._firstLevel=p,s.logger.log("manifest loaded,"+i.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:i,audioTracks:n,firstLevel:this._firstLevel,stats:t.stats,audio:f,video:d,altAudio:n.some(function(t){return!!t.url})})}else this.hls.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(e.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))},enumerable:!0,configurable:!0}),e.prototype.setLevelInternal=function(t){var e=this._levels,i=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){s.logger.log("switching to level "+t),this.currentLevelIndex=t;var n=e[t];n.level=t,i.trigger(o.default.LEVEL_SWITCHING,n)}var r=e[t],a=r.details;if(!a||a.live){var u=r.urlId;i.trigger(o.default.LEVEL_LOADING,{url:r.url[u],level:t,id:u})}}else i.trigger(o.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(t){this._firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t},enumerable:!0,configurable:!0}),e.prototype.onError=function(t){if(t.fatal)t.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,i=!1,n=!1;switch(t.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,n=!0;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,i=!0;break;case l.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,i=!0}void 0!==e&&this.recoverLevel(t,e,i,n)}},e.prototype.recoverLevel=function(t,e,i,n){var r,o,a,l=this,u=this.hls.config,c=t.details,h=this._levels[e];if(h.loadError++,h.fragmentError=n,i){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return s.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return l.loadLevel()},o),t.levelRetry=!0,this.levelRetryCount++,s.logger.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(i||n)&&((r=h.url.length)>1&&h.loadError<r?(h.urlId=(h.urlId+1)%r,h.details=void 0,s.logger.warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+h.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,s.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):n&&(s.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var i=this._levels[e.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,i=t.level;if(i===this.currentLevelIndex){var n=this._levels[i];n.fragmentError||(n.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var o=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=o,l=n.details;l&&r.endSN===l.endSN&&(a/=2,s.logger.log("same live playlist, reload twice faster")),a-=h.now()-t.stats.trequest,a=Math.max(o/2,Math.round(a)),s.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},a)}else this.clearTimer()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,i=this.hls.levels[this.currentLevelIndex];if(i&&i.audioGroupIds){var n=i.audioGroupIds.findIndex(function(t){return t===e});n!==i.urlId&&(i.urlId=n,this.startLoad())}},e.prototype.loadLevel=function(){if(s.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&t.url.length>0){var e=this.currentLevelIndex,i=t.urlId,n=t.url[i];s.logger.log("Attempt loading level index "+e+" with URL-id "+i),this.hls.trigger(o.default.LEVEL_LOADING,{url:n,level:e,id:i})}}},Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)},enumerable:!0,configurable:!0}),e}(a.default);e.default=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(10),s=i(29),l=function(t){function e(e){var i=t.call(this,e,r.default.MEDIA_ATTACHED,r.default.MEDIA_DETACHING,r.default.FRAG_PARSING_METADATA)||this;return i.id3Track=void 0,i.media=void 0,i}return n(e,t),e.prototype.destroy=function(){o.default.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){s.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var i=t[e];if("metadata"===i.kind&&"id3"===i.label)return s.sendAddTrackEvent(i,this.media),i}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<i.length;r++){var o=a.default.getID3Frames(i[r].data);if(o){var s=i[r].pts,l=r<i.length-1?i[r+1].pts:e.endPTS;s===l&&(l+=1e-4);for(var u=0;u<o.length;u++){var c=o[u];if(!a.default.isTimeStampFrame(c)){var h=new n(s,l,"");h.value=c,this.id3Track.addCue(h)}}}}},e}(o.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(13);e.isSupported=function(){var t=n.getMediaSource(),e=window.SourceBuffer||window.WebKitSourceBuffer,i=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!i&&!!r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(59),r=i(62),o=i(63),a=i(64),s=i(65),l=i(66),u=i(67),c=i(68),h=i(70),d=i(74),f=i(75),p=i(76),g=i(77);e.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:n.default,bufferController:r.default,capLevelController:o.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},e.hlsDefaultConfig.subtitleStreamController=f.SubtitleStreamController,e.hlsDefaultConfig.subtitleTrackController=d.default,e.hlsDefaultConfig.timelineController=h.default,e.hlsDefaultConfig.cueHandler=c,e.hlsDefaultConfig.enableCEA708Captions=!0,e.hlsDefaultConfig.enableWebVTT=!0,e.hlsDefaultConfig.captionsTextTrack1Label="English",e.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",e.hlsDefaultConfig.captionsTextTrack2Label="Spanish",e.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",e.hlsDefaultConfig.audioStreamController=u.default,e.hlsDefaultConfig.audioTrackController=l.default,e.hlsDefaultConfig.emeController=p.default},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(5),s=i(3),l=i(0),u=i(60),c=window.performance,h=function(e){function i(t){var i=e.call(this,t,r.default.FRAG_LOADING,r.default.FRAG_LOADED,r.default.FRAG_BUFFERED,r.default.ERROR)||this;return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=t,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return n(i,e),i.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},i.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var i=this.hls,n=i.config,r=e.level,o=void 0,a=void 0;i.levels[r].details.live?(o=n.abrEwmaFastLive,a=n.abrEwmaSlowLive):(o=n.abrEwmaFastVoD,a=n.abrEwmaSlowVoD),this._bwEstimator=new u.default(i,a,o,n.abrEwmaDefaultEstimate)}},i.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,i=this.fragCurrent;if(i){var n=i.loader,o=t.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=n.stats;if(e&&s&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&i.autoLevel&&i.level){var u=c.now()-s.trequest,h=Math.abs(e.playbackRate);if(u>500*i.duration/h){var d=t.levels,f=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/u),p=d[i.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,m=s.total?s.total:Math.max(s.loaded,Math.round(i.duration*g/8)),_=e.currentTime,v=(m-s.loaded)/f,y=(a.BufferHelper.bufferInfo(e,_,t.config.maxBufferHole).end-_)/h;if(y<2*i.duration/h&&v>y){var b=void 0,w=void 0;for(w=i.level-1;w>o;w--){var E=d[w].realBitrate?Math.max(d[w].realBitrate,d[w].bitrate):d[w].bitrate;if((b=i.duration*E/(6.4*f))<y)break}b<v&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+w+":fragLoadedDelay["+w+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+v.toFixed(1)+":"+y.toFixed(1)),t.nextLoadLevel=w,this._bwEstimator.sample(u,s.loaded),n.abort(),this.clearTimer(),t.trigger(r.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:s}))}}}}},i.prototype.onFragLoaded=function(e){var i=e.frag;if("main"===i.type&&t.isFinite(i.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=i.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[i.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,o=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:r,duration:o},n.realBitrate=Math.round(8*r/o)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},i.prototype.onFragBuffered=function(e){var i=e.stats,n=e.frag;if(!0!==i.aborted&&"main"===n.type&&t.isFinite(n.sn)&&(!n.bitrateTest||i.tload===i.tbuffered)){var r=i.tparsed-i.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(i.tfirst-i.trequest)+"/"+Math.round(i.tload-i.tfirst)+"/"+Math.round(i.tparsed-i.tload)+"/"+Math.round(i.tbuffered-i.tparsed)+"/"+Math.round(8*i.loaded/(i.tbuffered-i.trequest))),this._bwEstimator.sample(r,i.loaded),i.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},i.prototype.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},i.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(i.prototype,"nextAutoLevel",{get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var i=this._nextABRAutoLevel;return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_nextABRAutoLevel",{get:function(){var t=this.hls,e=t.maxAutoLevel,i=t.levels,n=t.config,r=t.minAutoLevel,o=t.media,s=this.lastLoadedFragLevel,u=this.fragCurrent?this.fragCurrent.duration:0,c=o?o.currentTime:0,h=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,f=(a.BufferHelper.bufferInfo(o,c,n.maxBufferHole).end-c)/h,p=this._findBestLevel(s,u,d,r,e,f,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(p>=0)return p;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=u?Math.min(u,n.maxStarvationDelay):n.maxStarvationDelay,m=n.abrBandWidthFactor,_=n.abrBandWidthUpFactor;if(0===f){var v=this.bitrateTestDelay;v&&(g=(u?Math.min(u,n.maxLoadingDelay):n.maxLoadingDelay)-v,l.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=_=1)}return p=this._findBestLevel(s,u,d,r,e,f+g,m,_,i),Math.max(p,0)},enumerable:!0,configurable:!0}),i.prototype._findBestLevel=function(t,e,i,n,r,o,a,s,u){for(var c=r;c>=n;c--){var h=u[c];if(h){var d,f=h.details,p=f?f.totalduration/f.fragments.length:e,g=!!f&&f.live;d=c<=t?a*i:s*i;var m=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,_=m*p/d;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(d)+"/"+m+"/"+p+"/"+o+"/"+_),d>m&&(!_||g&&!this.bitrateTestDelay||_<o))return c}}return-1},i}(o.default);e.default=h}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(61),r=function(){function t(t,e,i,r){this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(e),this.fast_=new n.default(i)}return t.prototype.sample=function(t,e){var i=8e3*e/(t=Math.max(t,this.minDelayMs_)),n=t/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();e.default=n},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(0),s=i(3),l=i(13).getMediaSource(),u=function(e){function i(t){var i=e.call(this,t,r.default.MEDIA_ATTACHING,r.default.MEDIA_DETACHING,r.default.MANIFEST_PARSED,r.default.BUFFER_RESET,r.default.BUFFER_APPENDING,r.default.BUFFER_CODECS,r.default.BUFFER_EOS,r.default.BUFFER_FLUSHING,r.default.LEVEL_PTS_UPDATED,r.default.LEVEL_UPDATED)||this;return i._msDuration=null,i._levelDuration=null,i._levelTargetDuration=10,i._live=null,i._objectUrl=null,i.bufferCodecEventsExpected=0,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return n(i,e),i.prototype.destroy=function(){o.default.prototype.destroy.call(this)},i.prototype.onLevelPtsUpdated=function(t){var e=t.type,i=this.tracks.audio;if("audio"===e&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var r=n.updating;try{n.abort()}catch(t){a.logger.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(a.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},i.prototype.onManifestParsed=function(t){this.bufferCodecEventsExpected=t.altAudio?2:1,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var i=this.mediaSource=new l;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(i),this._objectUrl=e.src}},i.prototype.onMediaDetaching=function(){a.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){a.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):a.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(r.default.MEDIA_DETACHED)},i.prototype.onMediaSourceOpen=function(){a.logger.log("media source opened"),this.hls.trigger(r.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},i.prototype.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,i=Object.keys(e).length;(i&&!t||2===i)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},i.prototype.onMediaSourceClose=function(){a.logger.log("media source closed")},i.prototype.onMediaSourceEnded=function(){a.logger.log("media source ended")},i.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;a.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,i=this.segments.reduce(function(t,i){return i.parent===e?t+1:t},0),n={},o=this.sourceBuffer;for(var s in o)n[s]=o[s].buffered;this.hls.trigger(r.default.BUFFER_APPENDED,{parent:e,pending:i,timeRanges:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===i&&this.flushLiveBackBuffer()},i.prototype.onSBUpdateError=function(t){a.logger.error("sourceBuffer error:",t),this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},i.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var i=t[e];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.prototype.onBufferCodecs=function(t){var e=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach(function(i){e.pendingTracks[i]=t[i]});var i=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),i&&"open"===i.readyState&&this.checkPendingTracks()}},i.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,i=this.mediaSource;for(var n in t)if(!e[n]){var o=t[n],l=o.levelCodec||o.codec,u=o.container+";codecs="+l;a.logger.log("creating sourceBuffer("+u+")");try{var c=e[n]=i.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[n]={codec:l,container:o.container},o.buffer=c}catch(t){a.logger.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:u})}}this.hls.trigger(r.default.BUFFER_CREATED,{tracks:t})},i.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},i.prototype.onBufferAppendFail=function(t){a.logger.error("sourceBuffer error:",t.event),this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},i.prototype.onBufferEos=function(t){var e=this.sourceBuffer,i=t.type;for(var n in e)i&&n!==i||e[n].ended||(e[n].ended=!0,a.logger.log(n+" sourceBuffer now EOS"));this.checkEos()},i.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var i in t){var n=t[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}a.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){a.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},i.prototype.flushLiveBackBuffer=function(){if(this._live){var t=this.hls.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))for(var e=this.media.currentTime,i=this.sourceBuffer,n=Object.keys(i),r=e-Math.max(t,this._levelTargetDuration),o=n.length-1;o>=0;o--){var a=n[o],s=i[a].buffered;s.length>0&&r>s.start(0)&&this.removeBufferRange(a,i[a],0,r)}}},i.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},i.prototype.updateMediaElementDuration=function(){var e,i=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===i.liveDurationInfinity?(a.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!t.isFinite(e))&&(a.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,i=this.sourceBuffer;try{for(var n in i)e+=i[n].buffered.length}catch(t){a.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(r.default.BUFFER_FLUSHED)}},i.prototype.doAppending=function(){var t=this.hls,e=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(this.media.error)return this.segments=[],void a.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(e&&e.length){var n=e.shift();try{var o=i[n.type];o?o.updating?e.unshift(n):(o.ended=!1,this.parent=n.parent,o.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(i){a.logger.error("error while trying to append buffer:"+i.message),e.unshift(n);var l={type:s.ErrorTypes.MEDIA_ERROR,parent:n.parent};22!==i.code?(this.appendError?this.appendError++:this.appendError=1,l.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(a.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],l.fatal=!0,t.trigger(r.default.ERROR,l)):(l.fatal=!1,t.trigger(r.default.ERROR,l))):(this.segments=[],l.details=s.ErrorDetails.BUFFER_FULL_ERROR,l.fatal=!1,t.trigger(r.default.ERROR,l))}}}},i.prototype.flushBuffer=function(t,e,i){var n,r=this.sourceBuffer;if(Object.keys(r).length){if(a.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var o in r)if(!i||o===i){if((n=r[o]).ended=!1,n.updating)return a.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(o,n,t,e))return this.flushBufferCounter++,!1}}else a.logger.warn("abort flushing too many retries");a.logger.log("buffer flushed")}return!0},i.prototype.removeBufferRange=function(t,e,i,n){try{for(var r=0;r<e.buffered.length;r++){var o=e.buffered.start(r),s=e.buffered.end(r),l=Math.max(o,i),u=Math.min(s,n);if(Math.min(u,s)-l>.5)return a.logger.log("sb remove "+t+" ["+l+","+u+"], of ["+o+","+s+"], pos:"+this.media.currentTime),e.remove(l,u),!0}}catch(t){a.logger.warn("removeBufferRange failed",t)}return!1},i}(o.default);e.default=u}).call(this,i(2).Number)},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=function(e){function i(i){var n=e.call(this,i,r.default.FPS_DROP_LEVEL_CAPPING,r.default.MEDIA_ATTACHING,r.default.MANIFEST_PARSED,r.default.BUFFER_CODECS,r.default.MEDIA_DETACHING)||this;return n.autoLevelCapping=t.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}return n(i,e),i.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},i.prototype.onFpsDropLevelCapping=function(t){i.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},i.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},i.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this._startCapping()},i.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},i.prototype.onLevelsUpdated=function(t){this.levels=t.levels},i.prototype.onMediaDetaching=function(){this._stopCapping()},i.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},i.prototype.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return i.isLevelAllowed(r,e.restrictedLevels)&&r<=t});return i.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},i.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=t.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},i.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=t.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(i.prototype,"mediaWidth",{get:function(){var t,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=i.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mediaHeight",{get:function(){var t,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=i.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"contentScaleFactor",{get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t},enumerable:!0,configurable:!0}),i.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},i.getMaxLevelByMediaSize=function(t,e,i){if(!t||t&&!t.length)return-1;for(var n=function(t,e){return!e||t.width!==e.width||t.height!==e.height},r=t.length-1,o=0;o<t.length;o+=1){var a=t[o];if((a.width>=e||a.height>=i)&&n(a,t[o+1])){r=o;break}}return r},i}(i(4).default);e.default=o}).call(this,i(2).Number)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(0),s=window.performance,l=function(t){function e(e){return t.call(this,e,r.default.MEDIA_ATTACHING)||this}return n(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,i){var n=s.now();if(e){if(this.lastTime){var o=n-this.lastTime,l=i-this.lastDroppedFrames,u=e-this.lastDecodedFrames,c=1e3*l/o,h=this.hls;if(h.trigger(r.default.FPS_DROP,{currentDropped:l,currentDecoded:u,totalDroppedFrames:i}),c>0&&l>h.config.fpsDroppedMonitoringThreshold*u){var d=h.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===h.autoLevelCapping||h.autoLevelCapping>=d)&&(d-=1,h.trigger(r.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:h.currentLevel}),h.autoLevelCapping=d,h.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(o.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=window.performance,o=window.XMLHttpRequest,a=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,i){this.context=t,this.config=e,this.callbacks=i,this.stats={trequest:r.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new o;var i=this.stats;i.tfirst=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(i){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,o=this.stats,a=this.context,s=this.config;if(!o.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===o.tfirst&&(o.tfirst=Math.max(r.now(),o.trequest)),4===i){var l=e.status;if(l>=200&&l<300){o.tload=Math.max(o.tfirst,r.now());var u,c=void 0;u="arraybuffer"===a.responseType?(c=e.response).byteLength:(c=e.responseText).length,o.loaded=o.total=u;var h={url:e.responseURL,data:c};this.callbacks.onSuccess(h,o,a,e)}else o.retry>=s.maxRetry||l>=400&&l<499?(n.logger.error(l+" while loading "+a.url),this.callbacks.onError({code:l,text:e.statusText},a,e)):(n.logger.warn(l+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),o.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},t.prototype.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total);var n=this.callbacks.onProgress;n&&n(i,this.context,null,e)},t}();e.default=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(15),a=i(0),s=i(3),l=function(t){function e(e){var i=t.call(this,e,r.default.MANIFEST_LOADING,r.default.MANIFEST_PARSED,r.default.AUDIO_TRACK_LOADED,r.default.AUDIO_TRACK_SWITCHED,r.default.LEVEL_LOADED,r.default.ERROR)||this;return i._trackId=-1,i._selectDefaultTrack=!0,i.tracks=[],i.trackIdBlacklist=Object.create(null),i.audioGroupId=null,i}return n(e,t),e.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},e.prototype.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(r.default.AUDIO_TRACKS_UPDATED,{audioTracks:e})},e.prototype.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)a.logger.warn("Invalid audio track id:",t.id);else{if(a.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},e.prototype.onLevelLoaded=function(t){var e=this.hls.levels[t.level];if(e.audioGroupIds){var i=e.audioGroupIds[e.urlId];this.audioGroupId!==i&&(this.audioGroupId=i,this._selectInitialAudioTrack())}},e.prototype.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(a.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},Object.defineProperty(e.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),e.prototype._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)a.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)a.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];a.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var i=e.url,n=e.type,o=e.id;this.hls.trigger(r.default.AUDIO_TRACK_SWITCHING,{id:o,type:n,url:i}),this._loadTrackDetailsIfNeeded(e)}},e.prototype.doTick=function(){this._updateTrack(this._trackId)},e.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var i=this.tracks[this._trackId],n=null;if(i&&(n=i.name),this._selectDefaultTrack){var o=e.filter(function(t){return t.default});o.length?e=o:a.logger.warn("No default audio tracks defined")}var l=!1,u=function(){e.forEach(function(e){l||t.audioGroupId&&e.groupId!==t.audioGroupId||n&&n!==e.name||(t._setAudioTrack(e.id),l=!0)})};u(),l||(n=null,u()),l||(a.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},e.prototype._needsTrackLoading=function(t){var e=t.details,i=t.url;return!(e&&!e.live||!i)},e.prototype._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,i=t.id;a.logger.log("loading audio-track playlist for id: "+i),this.hls.trigger(r.default.AUDIO_TRACK_LOADING,{url:e,id:i})}},e.prototype._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,a.logger.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},e.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],i=e.name,n=e.language,r=e.groupId;a.logger.warn("Loading failed on audio track id: "+t+", group-id: "+r+', name/language: "'+i+'" / "'+n+'"');for(var o=t,s=0;s<this.tracks.length;s++)if(!this.trackIdBlacklist[s]&&this.tracks[s].name===i){o=s;break}o!==t?(a.logger.log("Attempting audio-track fallback id:",o,"group-id:",this.tracks[o].groupId),this._setAudioTrack(o)):a.logger.warn('No fallback audio-track found for name/language: "'+i+'" / "'+n+'"')},e}(o.default);e.default=l},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),o=i(5),a=i(20),s=i(1),l=i(14),u=i(25),c=i(3),h=i(0),d=i(26),f=i(7),p=i(11),g=i(28),m=window.performance,_=function(e){function i(t,i){var n=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_RESET,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND)||this;return n.fragmentTracker=i,n.config=t.config,n.audioCodecSwap=!1,n._state=g.State.STOPPED,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return n(i,e),i.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.prototype.onHandlerDestroyed=function(){this.state=g.State.STOPPED,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},i.prototype.onInitPtsFound=function(t){var e=t.id,i=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[i]=n,this.videoTrackCC=i,h.logger.log("InitPTS for cc: "+i+" found from video track: "+n),this.state===g.State.WAITING_INIT_PTS&&this.tick())},i.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(h.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=g.State.STOPPED},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=g.State.STOPPED},Object.defineProperty(i.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,h.logger.log("audio stream:"+e+"->"+t)}},enumerable:!0,configurable:!0}),i.prototype.doTick=function(){var e,i,n,a=this.hls,l=a.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!l.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,p=this.videoBuffer?this.videoBuffer:this.media,_=o.BufferHelper.bufferInfo(c,e,l.maxBufferHole),v=o.BufferHelper.bufferInfo(p,e,l.maxBufferHole),y=_.len,b=_.end,w=this.fragPrevious,E=Math.min(l.maxBufferLength,l.maxMaxBufferLength),T=Math.max(E,v.len),$=this.audioSwitch,x=this.trackId;if((y<T||$)&&x<u.length){if(void 0===(n=u[x].details)){this.state=g.State.WAITING_TRACK;break}if(!$&&this._streamEnded(_,n))return this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),void(this.state=g.State.ENDED);var S=n.fragments,C=S.length,k=S[0].start,L=S[C-1].start+S[C-1].duration,A=void 0;if($)if(n.live&&!n.PTSKnown)h.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),b=0;else if(b=e,n.PTSKnown&&e<k){if(!(_.end>k||_.nextStart))return;h.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=k+.05}if(n.initSegment&&!n.initSegment.data)A=n.initSegment;else if(b<=k){if(A=S[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(A=d.findFragWithCC(S,this.videoTrackCC)),n.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var M=_.nextStart?_.nextStart:k;return h.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(M+.05)),void(this.media.currentTime=M+.05)}}else{var P=void 0,D=l.maxFragLookUpTolerance,R=w?S[w.sn-S[0].sn+1]:void 0,O=function(t){var e=Math.min(D,t.duration);return t.start+t.duration-e<=b?1:t.start-e>b&&t.start?-1:0};b<L?(b>L-D&&(D=0),P=R&&!O(R)?R:r.default.search(S,O)):P=S[C-1],P&&(A=P,k=P.start,w&&A.level===w.level&&A.sn===w.sn&&(A.sn<n.endSN?(A=S[A.sn+1-n.startSN],h.logger.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(h.logger.log("Loading key for "+A.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+x),this.state=g.State.KEY_LOADING,a.trigger(s.default.KEY_LOADING,{frag:A})):(h.logger.log("Loading "+A.sn+", cc: "+A.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+x+", currentTime:"+e+",bufferEnd:"+b.toFixed(3)),this.fragCurrent=A,($||this.fragmentTracker.getState(A)===f.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,t.isFinite(A.sn)&&(this.nextLoadPosition=A.start+A.duration),a.trigger(s.default.FRAG_LOADING,{frag:A}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(i=this.tracks[this.trackId])&&i.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var I=m.now(),N=this.retryDate,B=(c=this.media)&&c.seeking;(!N||I>=N||B)&&(h.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var F=this.videoTrackCC;if(void 0===this.initPTS[F])break;var U=this.waitingFragment;if(U){var j=U.frag.cc;F!==j?(i=this.tracks[this.trackId]).details&&i.details.live&&(h.logger.warn("Waiting fragment CC ("+j+") does not match video track CC ("+F+")"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},i.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},i.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(h.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.prototype.onAudioTracksUpdated=function(t){h.logger.log("audio tracks updated"),this.tracks=t.audioTracks},i.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},i.prototype.onAudioTrackLoaded=function(e){var i=e.details,n=e.id,r=this.tracks[n],o=i.totalduration,a=0;if(h.logger.log("track "+n+" loaded ["+i.startSN+","+i.endSN+"],duration:"+o),i.live){var s=r.details;s&&i.fragments.length>0?(l.mergeDetails(s,i),a=i.fragments[0].start,i.PTSKnown?h.logger.log("live audio playlist sliding:"+a.toFixed(3)):h.logger.log("live audio playlist - outdated PTS, unknown sliding")):(i.PTSKnown=!1,h.logger.log("live audio playlist - first load, unknown sliding"))}else i.PTSKnown=!1;if(r.details=i,!this.startFragRequested){if(-1===this.startPosition){var u=i.startTimeOffset;t.isFinite(u)?(h.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},i.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},i.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===g.State.FRAG_LOADING&&e&&"audio"===i.type&&i.level===e.level&&i.sn===e.sn){var n=this.tracks[this.trackId],r=n.details,o=r.totalduration,l=e.level,u=e.sn,c=e.cc,d=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",f=this.stats=t.stats;if("initSegment"===u)this.state=g.State.IDLE,f.tparsed=f.tbuffered=m.now(),r.initSegment.data=t.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:f,frag:e,id:"audio"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new a.default(this.hls,"audio"));var p=this.initPTS[c],_=r.initSegment?r.initSegment.data:[];r.initSegment||void 0!==p?(this.pendingBuffering=!0,h.logger.log("Demuxing "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+l),this.demuxer.push(t.payload,_,d,null,e,o,!1,p)):(h.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+l),this.waitingFragment=t,this.state=g.State.WAITING_INIT_PTS)}}this.fragLoadError=0},i.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===g.State.PARSING){var n=t.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(s.default.BUFFER_CODECS,n),h.logger.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,a))}this.tick()}}},i.prototype.onFragParsingData=function(e){var i=this,n=this.fragCurrent,r=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&r.sn===n.sn&&r.level===n.level&&this.state===g.State.PARSING){var o=this.trackId,a=this.tracks[o],u=this.hls;t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),n.addElementaryStream(p.default.ElementaryStreamTypes.AUDIO),h.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),l.updateFragPTSDTS(a.details,n,e.startPTS,e.endPTS);var d=this.audioSwitch,f=this.media,m=!1;if(d&&f)if(f.readyState){var _=f.currentTime;h.logger.log("switching audio track : currentTime:"+_),_>=e.startPTS&&(h.logger.log("switching audio track : flushing all audio"),this.state=g.State.BUFFER_FLUSHING,u.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),m=!0,this.audioSwitch=!1,u.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,u.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:o});var v=this.pendingData;if(!v)return h.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void u.trigger(s.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&v.push({type:e.type,data:t,parent:"audio",content:"data"})}),!m&&v.length&&(v.forEach(function(t){i.state===g.State.PARSING&&(i.pendingBuffering=!0,i.hls.trigger(s.default.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},i.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===g.State.PARSING&&(this.stats.tparsed=m.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},i.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},i.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},i.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==g.State.PARSING&&e!==g.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},i.prototype._checkAppendedParsed=function(){if(!(this.state!==g.State.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,i=this.hls;if(t){this.fragPrevious=t,e.tbuffered=m.now(),i.trigger(s.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;h.logger.log("audio buffered : "+u.default.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},i.prototype.onError=function(e){var i=e.frag;if(!i||"audio"===i.type)switch(e.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=e.frag;if(n&&"audio"!==n.type)break;if(!e.fatal){var r=this.fragLoadError;if(r?r++:r=1,r<=(l=this.config).fragLoadingMaxRetry){this.fragLoadError=r;var a=Math.min(Math.pow(2,r-1)*l.fragLoadingRetryDelay,l.fragLoadingMaxRetryTimeout);h.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=m.now()+a,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else h.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=g.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=e.fatal?g.State.ERROR:g.State.IDLE,h.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var l,u=this.mediaBuffer,d=this.media.currentTime;u&&o.BufferHelper.isBuffered(u,d)&&o.BufferHelper.isBuffered(u,d+.5)?((l=this.config).maxMaxBufferLength>=l.maxBufferLength&&(l.maxMaxBufferLength/=2,h.logger.warn("AudioStreamController: reduce max buffer length to "+l.maxMaxBufferLength+"s")),this.state=g.State.IDLE):(h.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}))}}},i.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(h.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(s.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},i}(g.default);e.default=_}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(30);e.newCue=function(t,e,i,r){for(var o,a,s,l,u,c=window.VTTCue||window.TextTrackCue,h=0;h<r.rows.length;h++)if(s=!0,l=0,u="",!(o=r.rows[h]).isEmpty()){for(var d=0;d<o.chars.length;d++)o.chars[d].uchar.match(/\s/)&&s?l++:(u+=o.chars[d].uchar,s=!1);o.cueStartTime=e,e===i&&(i+=1e-4),a=new c(e,i,n.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?a.line=h+1:a.line=h>7?h-2:h+1,a.align="left",a.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function o(i,o,a){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",h=!1,d=i,f=o,p=a,g=null,m="",_=!0,v="auto",y="start",b=50,w="middle",E=50,T="middle";if(Object.defineProperty(s,"id",r({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},u,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(s,"startTime",r({},u,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},u,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},u,{get:function(){return m},set:function(t){var i=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},u,{get:function(){return _},set:function(t){_=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},u,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},u,{get:function(){return y},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},u,{get:function(){return w},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},u,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},u,{get:function(){return T},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o}()},function(t,e,i){"use strict";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(71),s=i(72),l=i(73),u=i(0),c=i(29);function h(t,e,i,n){return Math.min(e,n)-Math.max(t,i)}var d=function(e){function i(t){var i=e.call(this,t,r.default.MEDIA_ATTACHING,r.default.MEDIA_DETACHING,r.default.FRAG_PARSING_USERDATA,r.default.FRAG_DECRYPTED,r.default.MANIFEST_LOADING,r.default.MANIFEST_LOADED,r.default.FRAG_LOADED,r.default.LEVEL_SWITCHING,r.default.INIT_PTS_FOUND)||this;if(i.hls=t,i.config=t.config,i.enabled=!0,i.Cues=t.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=[],i.cueRanges=[],i.captionsTracks={},i.captionsProperties={textTrack1:{label:i.config.captionsTextTrack1Label,languageCode:i.config.captionsTextTrack1LanguageCode},textTrack2:{label:i.config.captionsTextTrack2Label,languageCode:i.config.captionsTextTrack2LanguageCode}},i.config.enableCEA708Captions){var n=new s.default(i,"textTrack1"),o=new s.default(i,"textTrack2");i.cea608Parser=new a.default(0,n,o)}return i}return n(i,e),i.prototype.addCues=function(t,e,i,n){for(var r=this.cueRanges,o=!1,a=r.length;a--;){var s=r[a],l=h(s[0],s[1],e,i);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],i),o=!0,l/(i-e)>.5))return}o||r.push([e,i]),this.Cues.newCue(this.captionsTracks[t],e,i,n)},i.prototype.onInitPtsFound=function(t){var e=this;if("main"===t.id&&(this.initPTS[t.frag.cc]=t.initPTS),this.unparsedVttFrags.length){var i=this.unparsedVttFrags;this.unparsedVttFrags=[],i.forEach(function(t){e.onFragLoaded(t)})}},i.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var n=e.textTracks[i];if(n[t])return n}return null},i.prototype.createCaptionsTrack=function(t){var e=this.captionsProperties[t],i=e.label,n=e.languageCode,r=this.captionsTracks;if(!r[t]){var o=this.getExistingTrack(t);if(o)r[t]=o,c.clearCurrentCues(r[t]),c.sendAddTrackEvent(r[t],this.media);else{var a=this.createTextTrack("captions",i,n);a&&(a[t]=!0,r[t]=a)}}},i.prototype.createTextTrack=function(t,e,i){var n=this.media;if(n)return n.addTextTrack(t,e,i)},i.prototype.destroy=function(){o.default.prototype.destroy.call(this)},i.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},i.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){c.clearCurrentCues(t[e]),delete t[e]})},i.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},i.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)c.clearCurrentCues(e[i])}},i.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var r;if(n<i.length){var o=[].slice.call(i).find(function(e){return function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}(e,t)});o&&(r=o)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),t.default?r.mode=e.hls.subtitleDisplay?"showing":"hidden":r.mode="disabled",e.textTracks.push(r)})}},i.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},i.prototype.onFragLoaded=function(e){var i=e.frag,n=e.payload;if("main"===i.type){var o=i.sn;if(o!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=o}else if("subtitle"===i.type)if(n.byteLength){if(!t.isFinite(this.initPTS[i.cc]))return this.unparsedVttFrags.push(e),void(this.initPTS.length&&this.hls.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i}));var s=i.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(i,n)}else this.hls.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i})},i.prototype._parseVTTs=function(t,e){var i=this.vttCCs;i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var n=this.textTracks,o=this.hls;l.default.parse(e,this.initPTS[t.cc],i,t.cc,function(e){var i=n[t.trackId];"disabled"!==i.mode?(e.forEach(function(t){if(!i.cues.getCueById(t.id))try{i.addCue(t)}catch(n){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,i.addCue(e)}}),o.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):o.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},function(e){u.logger.log("Failed to parse VTT cue: "+e),o.trigger(r.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},i.prototype.onFragDecrypted=function(e){var i=e.payload,n=e.frag;if("subtitle"===n.type){if(!t.isFinite(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(n,i)}},i.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var i=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,i)}},i.prototype.extractCea608Data=function(t){for(var e,i,n,r=31&t[0],o=2,a=[],s=0;s<r;s++)e=t[o++],i=127&t[o++],n=127&t[o++],0===i&&0===n||0!=(4&e)&&0==(3&e)&&(a.push(i),a.push(n));return a},i}(o.default);e.default=d}).call(this,i(2).Number)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function(t){var e=t;return n.hasOwnProperty(t)&&(e=n[t]),String.fromCharCode(e)},o=15,a=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){this.verboseFilter[t],this.verboseLevel}},f=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},p=function(){function t(t,e,i,n,r){this.foreground=t||"white",this.underline=e||!1,this.italics=i||!1,this.background=n||"black",this.flash=r||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var n=e[i];t.hasOwnProperty(n)&&(this[n]=t[n])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),g=function(){function t(t,e,i,n,r,o){this.uchar=t||" ",this.penState=new p(e,i,n,r,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),m=function(){function t(){this.chars=[];for(var t=0;t<a;t++)this.chars.push(new g);this.pos=0,this.currPenState=new p}return t.prototype.equals=function(t){for(var e=!0,i=0;i<a;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<a;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<a;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=a)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=r(t);this.pos>=a?d.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e;for(e=t;e<a;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,i=0;i<a;i++){var n=this.chars[i].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),_=function(){function t(){this.rows=[];for(var t=0;t<o;t++)this.rows.push(new m);this.currRow=o-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<o;t++)this.rows[t].clear();this.currRow=o-1},t.prototype.equals=function(t){for(var e=!0,i=0;i<o;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<o;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<o;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){d.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){d.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<o;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[n].cueStartTime;if(a&&a<d.time)for(i=0;i<this.nrRollUpRows;i++)this.rows[e-this.nrRollUpRows+i+1].copy(r.rows[n+i])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,u=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[u].penState.foreground}var c={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(c)},t.prototype.setBkgData=function(t){d.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],i="",n=-1,r=0;r<o;r++){var a=this.rows[r].getTextString();a&&(n=r+1,t?e.push("Row "+n+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i},t.prototype.getTextAndFormat=function(){return this.rows},t}(),v=function(){function t(t,e){this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new _,this.nonDisplayedMemory=new _,this.lastOutputScreen=new _,this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[o-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,d.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){d.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){d.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}d.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=d.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),y=function(){function t(t,e,i){this.field=t||1,this.outputs=[e,i],this.channels=[new v(1,e),new v(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var i,n,r,o=!1;this.lastTime=t,d.setTime(t);for(var a=0;a<e.length;a+=2)n=127&e[a],r=127&e[a+1],0!==n||0!==r?(d.log("DATA","["+f([e[a],e[a+1]])+"] -> ("+f([n,r])+")"),(i=this.parseCmd(n,r))||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),i||(o=this.parseChars(n,r))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):d.log("WARNING","No channel found yet. TEXT-MODE?")),i?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+f([n,r])+" orig: "+f([e[a],e[a+1]])))):this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var i;if(!((20===t||28===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+f([t,e])+") is dropped"),!0;i=20===t||23===t?1:2;var n=this.channels[i-1];return 20===t||28===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.parseMidrow=function(t,e){var i=null;return(17===t||25===t)&&e>=32&&e<=47&&((i=17===t?1:2)!==this.currChNr?(d.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[i-1].ccMIDROW(e),d.log("DEBUG","MIDROW ("+f([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var i,n;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=t<=23?1:2,n=e>=64&&e<=95?1===i?s[t]:u[t]:1===i?l[t]:c[t];var r=this.interpretPAC(n,e);return this.channels[i-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.interpretPAC=function(t,e){var i,n={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,n.underline=1==(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n},t.prototype.parseChars=function(t,e){var i=null,n=null,o=null;if(t>=25?(i=2,o=t-8):(i=1,o=t),o>=17&&o<=19){var a;a=17===o?e+80:18===o?e+112:e+144,d.log("INFO","Special char '"+r(a)+"' in channel "+i),n=[a]}else t>=32&&t<=127&&(n=0===e?[t]:[t,e]);if(n){var s=f(n);d.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},t.prototype.parseBackgroundAttributes=function(t,e){var i,n,r;return((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47)&&(i={},16===t||24===t?(n=Math.floor((e-32)/2),i.background=h[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),r=t<24?1:2,this.channels[r-1].setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.timelineController=t,this.trackName=e,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)},t}();e.default=n},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),r=i(10),o=function(t,e,i){return t.substr(i||0,e.length)===e},a=function(t){for(var e=5381,i=t.length;i;)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},s={parse:function(e,i,s,l,u,c){var h,d=r.utf8ArrayToStr(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),f="00:00.000",p=0,g=0,m=0,_=[],v=!0,y=new n.default;y.oncue=function(t){var e=s[l],i=s.ccOffset;e&&e.new&&(void 0!==g?i=s.ccOffset=e.start:function(t,e,i){var n=t[l],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,r=t[(n=r).prevCC];t.presentationOffset=i}(s,0,m)),m&&(i=m-s.presentationOffset),t.startTime+=i-g,t.endTime+=i-g,t.id=a(t.startTime.toString())+a(t.endTime.toString())+a(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&_.push(t)},y.onparsingerror=function(t){h=t},y.onflush=function(){h&&c?c(h):u(_)},d.forEach(function(e){if(v){if(o(e,"X-TIMESTAMP-MAP=")){v=!1,e.substr(16).split(",").forEach(function(t){o(t,"LOCAL:")?f=t.substr(6):o(t,"MPEGTS:")&&(p=parseInt(t.substr(7)))});try{i+(9e4*s[l].start||0)<0&&(i+=8589934592),p-=i,g=function(e){var i=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return t.isFinite(i)&&t.isFinite(n)&&t.isFinite(r)&&t.isFinite(o)?(i+=1e3*n,i+=6e4*r,i+=36e5*o):-1}(f)/1e3,m=p/9e4,-1===g&&(h=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){h=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(v=!1)}y.parse(e+"\n")}),y.flush()}};e.default=s}).call(this,i(2).Number)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(4),a=i(0);function s(t){for(var e=[],i=0;i<t.length;i++)"subtitles"===t[i].kind&&e.push(t[i]);return e}var l=function(t){function e(e){var i=t.call(this,e,r.default.MEDIA_ATTACHED,r.default.MEDIA_DETACHING,r.default.MANIFEST_LOADING,r.default.MANIFEST_LOADED,r.default.SUBTITLE_TRACK_LOADED)||this;return i.tracks=[],i.trackId=-1,i.media=null,i.subtitleDisplay=!0,i}return n(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=s(this.media.textTracks),i=0;i<e.length;i++)if("hidden"===e[i].mode)t=i;else if("showing"===e[i].mode){t=i;break}this.subtitleTrack=t}},e.prototype.destroy=function(){o.default.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,i=t.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(r.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var i=e.details;i&&!i.live||(a.logger.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(r.default.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(a.logger.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&this._stopTimer())},Object.defineProperty(e.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this.setSubtitleTrackInternal(t))},enumerable:!0,configurable:!0}),e.prototype.setSubtitleTrackInternal=function(t){var e=this.hls,i=this.tracks;if(!("number"!=typeof t||t<-1||t>=i.length)&&(this._stopTimer(),this.trackId=t,a.logger.log("switching to subtitle track "+t),e.trigger(r.default.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t)){var n=i[t],o=n.details;o&&!o.live||(a.logger.log("(re)loading playlist for subtitle track "+t),e.trigger(r.default.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))}},e.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},e.prototype._toggleTrackModes=function(t){var e=this.media,i=this.subtitleDisplay,n=this.trackId;if(e){var r=s(e.textTracks);if(-1===t)[].slice.call(r).forEach(function(t){t.mode="disabled"});else{var o=r[n];o&&(o.mode="disabled")}var a=r[t];a&&(a.mode=i?"showing":"hidden")}},e}(o.default);e.default=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),a=i(12),s=i(15),l=i(5),u=i(27),c=i(7),h=window.performance;e.SubtitleStreamControllerState={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"};var d=e.SubtitleStreamControllerState,f=function(t){function e(e,i){var n=t.call(this,e,r.default.MEDIA_ATTACHED,r.default.MEDIA_DETACHING,r.default.ERROR,r.default.KEY_LOADED,r.default.FRAG_LOADED,r.default.SUBTITLE_TRACKS_UPDATED,r.default.SUBTITLE_TRACK_SWITCH,r.default.SUBTITLE_TRACK_LOADED,r.default.SUBTITLE_FRAG_PROCESSED)||this;return n.fragmentTracker=i,n.config=e.config,n.state=d.STOPPED,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new a.default(e,e.config),n}return n(e,t),e.prototype.onHandlerDestroyed=function(){this.fragmentTracker=null,this.state=d.STOPPED,t.prototype.onHandlerDestroyed.call(this)},e.prototype.onSubtitleFragProcessed=function(t){if(this.state=d.IDLE,t.success){var e=this.tracksBuffered[this.currentTrackId],i=t.frag;if(this.fragPrevious=i,e){for(var n,r=0;r<e.length;r++)if(i.start>=e[r].start&&i.start<=e[r].end){n=e[r];break}n?n.end=i.start+i.duration:e.push({start:i.start,end:i.start+i.duration})}}},e.prototype.onMediaAttached=function(t){this.media=t.media,this.state=d.IDLE},e.prototype.onMediaDetaching=function(){this.media=null,this.state=d.STOPPED},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=d.IDLE)},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},e.prototype.onSubtitleTrackLoaded=function(t){var e=t.id,i=t.details;this.tracks?(this.tracks[e]&&(o.logger.log("Updating subtitle track details"),this.tracks[e].details=i),this.setInterval(500)):o.logger.warn("Can not update subtitle details, no tracks found")},e.prototype.onKeyLoaded=function(){this.state===d.KEY_LOADING&&(this.state=d.IDLE)},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag.decryptdata,n=t.frag,o=this.hls;if(this.state===d.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&i&&i.key&&"AES-128"===i.method){var a=h.now();this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,function(t){var e=h.now();o.trigger(r.default.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:a,tdecrypt:e}})})}},e.prototype.doTick=function(){if(this.media)switch(this.state){case d.IDLE:var t=this.tracks,e=this.currentTrackId;if(!t||!t[e]||!t[e].details)break;var i=t[e].details,n=this.config,a=n.maxBufferHole,s=Math.min(n.maxBufferLength,n.maxMaxBufferLength),h=n.maxFragLookUpTolerance,f=l.BufferHelper.bufferedInfo(this._getBuffered(),this.media.currentTime,a),p=f.end,g=f.len,m=i.fragments,_=m.length,v=m[_-1].start+m[_-1].duration,y=void 0;g<s&&p<v?y=u.findFragmentByPTS(this.fragPrevious,m,p,h):i.hasProgramDateTime&&this.fragPrevious&&(y=u.findFragmentByPDT(m,this.fragPrevious.endProgramDateTime,h)),y&&y.encrypted?(o.logger.log("Loading key for "+y.sn),this.state=d.KEY_LOADING,this.hls.trigger(r.default.KEY_LOADING,{frag:y})):y&&this.fragmentTracker.getState(y)===c.FragmentState.NOT_LOADED&&(y.trackId=e,this.fragCurrent=y,this.state=d.FRAG_LOADING,this.hls.trigger(r.default.FRAG_LOADING,{frag:y}))}else this.state=d.IDLE},e.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},e}(s.default);e.SubtitleStreamController=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),o=i(1),a=i(3),s=i(0),l=window.XMLHttpRequest,u="com.widevine.alpha",c=function(t){function e(e){var i=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return i._widevineLicenseUrl=e.config.widevineLicenseUrl,i._licenseXhrSetup=e.config.licenseXhrSetup,i._emeEnabled=e.config.emeEnabled,i._requestMediaKeySystemAccess=e.config.requestMediaKeySystemAccessFunc,i._mediaKeysList=[],i._media=null,i._hasSetMediaKeys=!1,i._isMediaEncrypted=!1,i._requestLicenseFailureCount=0,i}return n(e,t),e.prototype.getLicenseServerUrl=function(t){var e;switch(t){case u:e=this._widevineLicenseUrl;break;default:e=null}return e||(s.logger.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,i){var n=this,r=function(t,e,i){switch(t){case u:return function(t,e,i){var n={videoCapabilities:[]};return e.forEach(function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})}),[n]}(0,i);default:throw Error("Unknown key-system: "+t)}}(t,0,i);r?(s.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,r).then(function(e){n._onMediaKeySystemAccessObtained(t,e)}).catch(function(e){s.logger.error('Failed to obtain key-system "'+t+'" access:',e)})):s.logger.warn("Can not create config for key-system (maybe because platform is not supported):",t)},Object.defineProperty(e.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),e.prototype._onMediaKeySystemAccessObtained=function(t,e){var i=this;s.logger.log('Access for key-system "'+t+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n),e.createMediaKeys().then(function(e){n.mediaKeys=e,s.logger.log('Media-keys created for key-system "'+t+'"'),i._onMediaKeysCreated()}).catch(function(t){s.logger.error("Failed to create media-keys:",t)})},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},e.prototype._onNewMediaKeySession=function(t){var e=this;s.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",function(i){e._onKeySessionMessage(t,i.message)},!1)},e.prototype._onKeySessionMessage=function(t,e){s.logger.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){s.logger.log("Received license data, updating key-session"),t.update(e)})},e.prototype._onMediaEncrypted=function(t,e){s.logger.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return s.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});s.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return s.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)s.logger.warn("Key-Session already initialized but requested again");else{var i=e.mediaKeysSession;i||(s.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,r=this._mediaEncryptionInitData;s.logger.log('Generating key-session request for "'+n+'" init data type'),e.mediaKeysSessionInitialized=!0,i.generateRequest(n,r).then(function(){s.logger.debug("Key-session generation succeeded")}).catch(function(e){s.logger.error("Error generating key-session request:",e),t.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},e.prototype._createLicenseXhr=function(t,e,i){var n=new l,r=this._licenseXhrSetup;try{if(r)try{r(n,t)}catch(e){n.open("POST",t,!0),r(n,t)}n.readyState||n.open("POST",t,!0)}catch(t){return s.logger.error("Error setting up key-system license XHR",t),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,i),n},e.prototype._onLicenseRequestReadyStageChange=function(t,e,i,n){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,s.logger.log("License request succeeded"),n(t.response);else{if(s.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var r=3-this._requestLicenseFailureCount+1;return s.logger.warn("Retrying license request, "+r+" attempts left"),void this._requestLicense(i,n)}this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var i;return"com.microsoft.playready"===t.mediaKeySystemDomain?s.logger.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===u?i=e:s.logger.error("Unsupported key-system:",t.mediaKeySystemDomain),i},e.prototype._requestLicense=function(t,e){s.logger.log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return s.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(i.mediaKeySystemDomain),r=this._createLicenseXhr(n,t,e);s.logger.log("Sending license request to URL: "+n),r.send(this._generateLicenseRequestChallenge(i,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var i=t.media;this._media=i,i.addEventListener("encrypted",function(t){e._onMediaEncrypted(t.initDataType,t.initData)})}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),i=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(u,e,i)}},e}(r.default);e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;e.requestMediaKeySystemAccess=n}]).default}),function(t,e,i,n){"use strict";function r(t,e){var n,r,o,a=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=f(t.data.options,e)),n=e.$target||i(t.currentTarget).trigger("blur"),(o=i.fancybox.getInstance())&&o.$trigger&&o.$trigger.is(n)||(e.selector?a=i(e.selector):(r=n.attr("data-fancybox")||"")?a=(a=t.data?t.data.items:[]).length?a.filter('[data-fancybox="'+r+'"]'):i('[data-fancybox="'+r+'"]'):a=[n],(s=i(a).index(n))<0&&(s=0),(o=i.fancybox.open(a,e,s)).$trigger=n))}if(t.console=t.console||{info:function(t){}},i){if(i.fn.fancybox)return void console.info("fancyBox already initialized");var o={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop,onActivate:i.noop,onDeactivate:i.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},a=i(t),s=i(e),l=0,u=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},c=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},h=function(){var t,i=e.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==i.style[t])return n[t];return"transitionend"}(),d=function(t){return t&&t.length&&t[0].offsetHeight},f=function(t,e){var n=i.extend(!0,{},t,e);return i.each(e,function(t,e){i.isArray(e)&&(n[t]=e)}),n},p=function(t){var n,r;return!(!t||t.ownerDocument!==e)&&(i(".fancybox-container").css("pointer-events","none"),n={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},r=e.elementFromPoint(n.x,n.y)===t,i(".fancybox-container").css("pointer-events",""),r)},g=function(t,e,n){var r=this;r.opts=f({index:n},i.fancybox.defaults),i.isPlainObject(e)&&(r.opts=f(r.opts,e)),i.fancybox.isMobile&&(r.opts=f(r.opts,r.opts.mobile)),r.id=r.opts.id||++l,r.currIndex=parseInt(r.opts.index,10)||0,r.prevIndex=null,r.prevPos=null,r.currPos=0,r.firstRun=!0,r.group=[],r.slides={},r.addContent(t),r.group.length&&r.init()};i.extend(g.prototype,{init:function(){var n,r,o=this,a=o.group[o.currIndex].opts;a.closeExisting&&i.fancybox.close(!0),i("body").addClass("fancybox-active"),!i.fancybox.getInstance()&&!1!==a.hideScrollbar&&!i.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(i("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+"px;}</style>"),i("body").addClass("compensate-for-scrollbar")),r="",i.each(a.buttons,function(t,e){r+=a.btnTpl[e]||""}),n=i(o.translate(o,a.baseTpl.replace("{{buttons}}",r).replace("{{arrows}}",a.btnTpl.arrowLeft+a.btnTpl.arrowRight))).attr("id","fancybox-container-"+o.id).addClass(a.baseClass).data("FancyBox",o).appendTo(a.parentEl),o.$refs={container:n},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){o.$refs[t]=n.find(".fancybox-"+t)}),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return void 0===i[e]?t:i[e]})},addContent:function(t){var e,n=this,r=i.makeArray(t);i.each(r,function(t,e){var r,o,a,s,l,u={},c={};i.isPlainObject(e)?(u=e,c=e.opts||e):"object"===i.type(e)&&i(e).length?(c=(r=i(e)).data()||{},(c=i.extend(!0,{},c,c.options)).$orig=r,u.src=n.opts.src||c.src||r.attr("href"),u.type||u.src||(u.type="inline",u.src=e)):u={type:"html",src:e+""},u.opts=i.extend(!0,{},n.opts,c),i.isArray(c.buttons)&&(u.opts.buttons=c.buttons),i.fancybox.isMobile&&u.opts.mobile&&(u.opts=f(u.opts,u.opts.mobile)),o=u.type||u.opts.type,s=u.src||"",!o&&s&&((a=s.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(o="video",u.opts.video.format||(u.opts.video.format="video/"+("ogv"===a[1]?"ogg":a[1]))):s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":s.match(/\.(pdf)((\?|#).*)?$/i)?(o="iframe",u=i.extend(!0,u,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===s.charAt(0)&&(o="inline")),o?u.type=o:n.trigger("objectNeedsType",u),u.contentType||(u.contentType=i.inArray(u.type,["html","inline","ajax"])>-1?"html":u.type),u.index=n.group.length,"auto"==u.opts.smallBtn&&(u.opts.smallBtn=i.inArray(u.type,["html","inline","ajax"])>-1),"auto"===u.opts.toolbar&&(u.opts.toolbar=!u.opts.smallBtn),u.$thumb=u.opts.$thumb||null,u.opts.$trigger&&u.index===n.opts.index&&(u.$thumb=u.opts.$trigger.find("img:first"),u.$thumb.length&&(u.opts.$orig=u.opts.$trigger)),u.$thumb&&u.$thumb.length||!u.opts.$orig||(u.$thumb=u.opts.$orig.find("img:first")),u.$thumb&&!u.$thumb.length&&(u.$thumb=null),u.thumb=u.opts.thumb||(u.$thumb?u.$thumb[0].src:null),"function"===i.type(u.opts.caption)&&(u.opts.caption=u.opts.caption.apply(e,[n,u])),"function"===i.type(n.opts.caption)&&(u.opts.caption=n.opts.caption.apply(e,[n,u])),u.opts.caption instanceof i||(u.opts.caption=void 0===u.opts.caption?"":u.opts.caption+""),"ajax"===u.type&&((l=s.split(/\s+/,2)).length>1&&(u.src=l.shift(),u.opts.filter=l.shift())),u.opts.modal&&(u.opts=i.extend(!0,u.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),n.group.push(u)}),Object.keys(n.slides).length&&(n.updateControls(),(e=n.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on("click.fb","[data-fancybox-zoom]",function(t){e[e.isScaledDown()?"scaleToActual":"scaleToFit"]()}),a.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(e.requestId&&c(e.requestId),e.requestId=u(function(){e.update(t)})):(e.current&&"iframe"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},i.fancybox.isMobile?600:250))}),s.on("keydown.fb",function(t){var n=(i.fancybox?i.fancybox.getInstance():null).current,r=t.keyCode||t.which;if(9!=r)return!n.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||i(t.target).is("input,textarea,video,audio")?void 0:8===r||27===r?(t.preventDefault(),void e.close(t)):37===r||38===r?(t.preventDefault(),void e.previous()):39===r||40===r?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,r);n.opts.trapFocus&&e.focus(t)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;a.off("orientationchange.fb resize.fb"),s.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var n,r,o,a,s,l,u,c,h,f=this,p=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(o=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=p))return!1;if(n=f.firstRun=!Object.keys(f.slides).length,s=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,a=f.createSlide(t),p>1&&((o||a.index<p-1)&&f.createSlide(t+1),(o||a.index>0)&&f.createSlide(t-1)),f.current=a,f.currIndex=a.index,f.currPos=a.pos,f.trigger("beforeShow",n),f.updateControls(),a.forcedDuration=void 0,i.isNumeric(e)?a.forcedDuration=e:e=a.opts[n?"animationDuration":"transitionDuration"],e=parseInt(e,10),r=f.isMoved(a),a.$slide.addClass("fancybox-slide--current"),n)return a.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.addClass("fancybox-is-open").trigger("focus"),f.loadSlide(a),void f.preload("image");l=i.fancybox.getTranslate(s.$slide),u=i.fancybox.getTranslate(f.$refs.stage),i.each(f.slides,function(t,e){i.fancybox.stop(e.$slide,!0)}),s.pos!==a.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),r?(h=l.left-(s.pos*l.width+s.pos*s.opts.gutter),i.each(f.slides,function(t,n){n.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var r=n.pos*l.width+n.pos*n.opts.gutter;i.fancybox.setTranslate(n.$slide,{top:0,left:r-u.left+h}),n.pos!==a.pos&&n.$slide.addClass("fancybox-slide--"+(n.pos>a.pos?"next":"previous")),d(n.$slide),i.fancybox.animate(n.$slide,{top:0,left:(n.pos-a.pos)*l.width+(n.pos-a.pos)*n.opts.gutter},e,function(){n.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),n.pos===f.currPos&&f.complete()})})):e&&a.opts.transitionEffect&&(c="fancybox-animated fancybox-fx-"+a.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>a.pos?"next":"previous")),i.fancybox.animate(s.$slide,c,e,function(){s.$slide.removeClass(c).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),a.isLoaded?f.revealContent(a):f.loadSlide(a),f.preload("image")}},createSlide:function(t){var e,n,r=this;return n=(n=t%r.group.length)<0?r.group.length+n:n,!r.slides[t]&&r.group[n]&&(e=i('<div class="fancybox-slide"></div>').appendTo(r.$refs.stage),r.slides[t]=i.extend(!0,{},r.group[n],{pos:t,$slide:e,isLoaded:!1}),r.updateSlide(r.slides[t])),r.slides[t]},scaleToActual:function(t,e,n){var r,o,a,s,l,u=this,c=u.current,h=c.$content,d=i.fancybox.getTranslate(c.$slide).width,f=i.fancybox.getTranslate(c.$slide).height,p=c.width,g=c.height;u.isAnimating||u.isMoved()||!h||"image"!=c.type||!c.isLoaded||c.hasError||(u.isAnimating=!0,i.fancybox.stop(h),t=void 0===t?.5*d:t,e=void 0===e?.5*f:e,(r=i.fancybox.getTranslate(h)).top-=i.fancybox.getTranslate(c.$slide).top,r.left-=i.fancybox.getTranslate(c.$slide).left,s=p/r.width,l=g/r.height,o=.5*d-.5*p,a=.5*f-.5*g,p>d&&((o=r.left*s-(t*s-t))>0&&(o=0),o<d-p&&(o=d-p)),g>f&&((a=r.top*l-(e*l-e))>0&&(a=0),a<f-g&&(a=f-g)),u.updateCursor(p,g),i.fancybox.animate(h,{top:a,left:o,scaleX:s,scaleY:l},n||366,function(){u.isAnimating=!1}),u.SlideShow&&u.SlideShow.isActive&&u.SlideShow.stop())},scaleToFit:function(t){var e,n=this,r=n.current,o=r.$content;n.isAnimating||n.isMoved()||!o||"image"!=r.type||!r.isLoaded||r.hasError||(n.isAnimating=!0,i.fancybox.stop(o),e=n.getFitPos(r),n.updateCursor(e.width,e.height),i.fancybox.animate(o,{top:e.top,left:e.left,scaleX:e.width/o.width(),scaleY:e.height/o.height()},t||366,function(){n.isAnimating=!1}))},getFitPos:function(t){var e,n,r,o,a=t.$content,s=t.$slide,l=t.width||t.opts.width,u=t.height||t.opts.height,c={};return!!(t.isLoaded&&a&&a.length)&&(e=i.fancybox.getTranslate(this.$refs.stage).width,n=i.fancybox.getTranslate(this.$refs.stage).height,e-=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"))+parseFloat(a.css("marginLeft"))+parseFloat(a.css("marginRight")),n-=parseFloat(s.css("paddingTop"))+parseFloat(s.css("paddingBottom"))+parseFloat(a.css("marginTop"))+parseFloat(a.css("marginBottom")),l&&u||(l=e,u=n),(l*=r=Math.min(1,e/l,n/u))>e-.5&&(l=e),(u*=r)>n-.5&&(u=n),"image"===t.type?(c.top=Math.floor(.5*(n-u))+parseFloat(s.css("paddingTop")),c.left=Math.floor(.5*(e-l))+parseFloat(s.css("paddingLeft"))):"video"===t.contentType&&(u>l/(o=t.opts.width&&t.opts.height?l/u:t.opts.ratio||16/9)?u=l/o:l>u*o&&(l=u*o)),c.width=l,c.height=u,c)},update:function(t){var e=this;i.each(e.slides,function(i,n){e.updateSlide(n,t)})},updateSlide:function(t,e){var n=this,r=t&&t.$content,o=t.width||t.opts.width,a=t.height||t.opts.height,s=t.$slide;n.adjustCaption(t),r&&(o||a||"video"===t.contentType)&&!t.hasError&&(i.fancybox.stop(r),i.fancybox.setTranslate(r,n.getFitPos(t)),t.pos===n.currPos&&(n.isAnimating=!1,n.updateCursor())),n.adjustLayout(t),s.length&&(s.trigger("refresh"),t.pos===n.currPos&&n.$refs.toolbar.add(n.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",s.get(0).scrollHeight>s.get(0).clientHeight)),n.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,n=e.current,r=n.$slide;!e.isClosing&&n&&(r.siblings().css({transform:"",opacity:""}),r.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),i.fancybox.animate(r,{top:0,left:0,opacity:1},void 0===t?0:t,function(){r.css({transform:"",opacity:""}),n.isComplete||e.complete()},!1))},isMoved:function(t){var e,n,r=t||this.current;return!!r&&(n=i.fancybox.getTranslate(this.$refs.stage),e=i.fancybox.getTranslate(r.$slide),!r.$slide.hasClass("fancybox-animated")&&(Math.abs(e.top-n.top)>.5||Math.abs(e.left-n.left)>.5))},updateCursor:function(t,e){var n,r,o=this,a=o.current,s=o.$refs.container;a&&!o.isClosing&&o.Guestures&&(s.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),r=!!(n=o.canPan(t,e))||o.isZoomable(),s.toggleClass("fancybox-is-zoomable",r),i("[data-fancybox-zoom]").prop("disabled",!r),n?s.addClass("fancybox-can-pan"):r&&("zoom"===a.opts.clickContent||i.isFunction(a.opts.clickContent)&&"zoom"==a.opts.clickContent(a))?s.addClass("fancybox-can-zoomIn"):a.opts.touch&&(a.opts.touch.vertical||o.group.length>1)&&"video"!==a.contentType&&s.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this,i=e.current;if(i&&!e.isClosing&&"image"===i.type&&!i.hasError){if(!i.isLoaded)return!0;if((t=e.getFitPos(i))&&(i.width>t.width||i.height>t.height))return!0}return!1},isScaledDown:function(t,e){var n=!1,r=this.current,o=r.$content;return void 0!==t&&void 0!==e?n=t<r.width&&e<r.height:o&&(n=(n=i.fancybox.getTranslate(o)).width<r.width&&n.height<r.height),n},canPan:function(t,e){var n=this.current,r=null,o=!1;return"image"===n.type&&(n.isComplete||t&&e)&&!n.hasError&&(o=this.getFitPos(n),void 0!==t&&void 0!==e?r={width:t,height:e}:n.isComplete&&(r=i.fancybox.getTranslate(n.$content)),r&&o&&(o=Math.abs(r.width-o.width)>1.5||Math.abs(r.height-o.height)>1.5)),o},loadSlide:function(t){var e,n,r,o=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===o.trigger("beforeLoad",t))return t.isLoading=!1,!1;switch(e=t.type,(n=t.$slide).off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":o.setImage(t);break;case"iframe":o.setIframe(t);break;case"html":o.setContent(t,t.src||t.content);break;case"video":o.setContent(t,t.opts.video.tpl.replace(/\{\{src\}\}/gi,t.src).replace("{{format}}",t.opts.videoFormat||t.opts.video.format||"").replace("{{poster}}",t.thumb||""));break;case"inline":i(t.src).length?o.setContent(t,i(t.src)):o.setError(t);break;case"ajax":o.showLoading(t),r=i.ajax(i.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,i){"success"===i&&o.setContent(t,e)},error:function(e,i){e&&"abort"!==i&&o.setError(t)}})),n.one("onReset",function(){r.abort()});break;default:o.setError(t)}return!0}},setImage:function(t){var n,r=this;setTimeout(function(){var e=t.$image;r.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||r.showLoading(t)},50),r.checkSrcset(t),t.$content=i('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,(n=e.createElement("img")).onerror=function(){i(this).remove(),t.$ghost=null},n.onload=function(){r.afterLoad(t)},t.$ghost=i(n).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),r.setBigImage(t)},checkSrcset:function(e){var i,n,r,o,a=e.opts.srcset||e.opts.image.srcset;if(a){r=t.devicePixelRatio||1,o=t.innerWidth*r,(n=a.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,i){var n=parseInt(t.substring(0,t.length-1),10);if(0===i)return e.url=t;n&&(e.value=n,e.postfix=t[t.length-1])}),e})).sort(function(t,e){return t.value-e.value});for(var s=0;s<n.length;s++){var l=n[s];if("w"===l.postfix&&l.value>=o||"x"===l.postfix&&l.value>=r){i=l;break}}!i&&n.length&&(i=n[n.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value),e.opts.srcset=a)}},setBigImage:function(t){var n=this,r=e.createElement("img"),o=i(r);t.$image=o.one("error",function(){n.setError(t)}).one("load",function(){var e;t.$ghost||(n.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),n.afterLoad(t)),n.isClosing||(t.opts.srcset&&((e=t.opts.sizes)&&"auto"!==e||(e=(t.width/t.height>1&&a.width()/a.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),o.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!n.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),n.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(r.complete||"complete"==r.readyState)&&o.naturalWidth&&o.naturalHeight?o.trigger("load"):r.error&&o.trigger("error")},resolveImageSlideSize:function(t,e,i){var n=parseInt(t.opts.width,10),r=parseInt(t.opts.height,10);t.width=e,t.height=i,n>0&&(t.width=n,t.height=Math.floor(n*i/e)),r>0&&(t.width=Math.floor(r*e/i),t.height=r)},setIframe:function(t){var e,n=this,r=t.opts.iframe,o=t.$slide;t.$content=i('<div class="fancybox-content'+(r.preload?" fancybox-is-hidden":"")+'"></div>').css(r.css).appendTo(o),o.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=i(r.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(r.attr).appendTo(t.$content),r.preload?(n.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),n.afterLoad(t)}),o.on("refresh.fb",function(){var i,n=t.$content,a=r.css.width,s=r.css.height;if(1===e[0].isReady){try{i=e.contents().find("body")}catch(t){}i&&i.length&&i.children().length&&(o.css("overflow","visible"),n.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===a&&(a=Math.ceil(Math.max(i[0].clientWidth,i.outerWidth(!0)))),n.css("width",a||"").css("max-width",""),void 0===s&&(s=Math.ceil(Math.max(i[0].clientHeight,i.outerHeight(!0)))),n.css("height",s||""),o.css("overflow","auto")),n.removeClass("fancybox-is-hidden")}})):n.afterLoad(t),e.attr("src",t.src),o.one("onReset",function(){try{i(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}i(this).off("refresh.fb").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var n=this;n.isClosing||(n.hideLoading(t),t.$content&&i.fancybox.stop(t.$content),t.$slide.empty(),function(t){return t&&t.hasOwnProperty&&t instanceof i}(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=i("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===i.type(e)&&(e=i("<div>").append(i.trim(e)).contents()),t.opts.filter&&(e=i("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){i(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(i(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),i(e).appendTo(t.$slide),i(e).is("video,audio")&&(i(e).addClass("fancybox-video"),i(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||i(e).attr("width"),t.opts.height=t.opts.height||i(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),n.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=i(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=i(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&i('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,i=this,n=t||i.current,r=n.opts.caption,o=n.opts.preventCaptionOverlap,a=i.$refs.caption,s=!1;a.toggleClass("fancybox-caption--separate",o),o&&r&&r.length&&(n.pos!==i.currPos?((e=a.clone().appendTo(a.parent())).children().eq(0).empty().html(r),s=e.outerHeight(!0),e.empty().remove()):i.$caption&&(s=i.$caption.outerHeight(!0)),n.$slide.css("padding-bottom",s||""))},adjustLayout:function(t){var e,i,n,r,o=t||this.current;o.isLoaded&&!0!==o.opts.disableLayoutFix&&(o.$content.css("margin-bottom",""),o.$content.outerHeight()>o.$slide.height()+.5&&(n=o.$slide[0].style["padding-bottom"],r=o.$slide.css("padding-bottom"),parseFloat(r)>0&&(e=o.$slide[0].scrollHeight,o.$slide.css("padding-bottom",0),Math.abs(e-o.$slide[0].scrollHeight)<1&&(i=r),o.$slide.css("padding-bottom",n))),o.$content.css("margin-bottom",i))},revealContent:function(t){var e,n,r,o,a=this,s=t.$slide,l=!1,u=!1,c=a.isMoved(t),h=t.isRevealed;return t.isRevealed=!0,e=t.opts[a.firstRun?"animationEffect":"transitionEffect"],r=t.opts[a.firstRun?"animationDuration":"transitionDuration"],r=parseInt(void 0===t.forcedDuration?r:t.forcedDuration,10),!c&&t.pos===a.currPos&&r||(e=!1),"zoom"===e&&(t.pos===a.currPos&&r&&"image"===t.type&&!t.hasError&&(u=a.getThumbPos(t))?l=a.getFitPos(t):e="fade"),"zoom"===e?(a.isAnimating=!0,l.scaleX=l.width/u.width,l.scaleY=l.height/u.height,"auto"==(o=t.opts.zoomOpacity)&&(o=Math.abs(t.width/t.height-u.width/u.height)>.1),o&&(u.opacity=.1,l.opacity=1),i.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),u),d(t.$content),void i.fancybox.animate(t.$content,l,r,function(){a.isAnimating=!1,a.complete()})):(a.updateSlide(t),e?(i.fancybox.stop(s),n="fancybox-slide--"+(t.pos>=a.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,s.addClass(n).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),d(s),"image"!==t.type&&t.$content.hide().show(0),void i.fancybox.animate(s,"fancybox-slide--current",r,function(){s.removeClass(n).css({transform:"",opacity:""}),t.pos===a.currPos&&a.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),h||!c||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===a.currPos&&a.complete())))},getThumbPos:function(t){var e,n,r,o,a,s=!1,l=t.$thumb;return!(!l||!p(l[0]))&&(e=i.fancybox.getTranslate(l),n=parseFloat(l.css("border-top-width")||0),r=parseFloat(l.css("border-right-width")||0),o=parseFloat(l.css("border-bottom-width")||0),a=parseFloat(l.css("border-left-width")||0),s={top:e.top+n,left:e.left+a,width:e.width-r-a,height:e.height-n-o,scaleX:1,scaleY:1},e.width>0&&e.height>0&&s)},complete:function(){var t,e=this,n=e.current,r={};!e.isMoved()&&n.isLoaded&&(n.isComplete||(n.isComplete=!0,n.$slide.siblings().trigger("onReset"),e.preload("inline"),d(n.$slide),n.$slide.addClass("fancybox-slide--complete"),i.each(e.slides,function(t,n){n.pos>=e.currPos-1&&n.pos<=e.currPos+1?r[n.pos]=n:n&&(i.fancybox.stop(n.$slide),n.$slide.off().remove())}),e.slides=r),e.isAnimating=!1,e.updateCursor(),e.trigger("afterShow"),n.opts.video.autoStart&&n.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),n.opts.autoFocus&&"html"===n.contentType&&((t=n.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):e.focus(null,!0)),n.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,i,n=this;n.group.length<2||(i=n.slides[n.currPos+1],(e=n.slides[n.currPos-1])&&e.type===t&&n.loadSlide(e),i&&i.type===t&&n.loadSlide(i))},focus:function(t,n){var r,o,a=this,s=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");a.isClosing||((r=(r=!t&&a.current&&a.current.isComplete?a.current.$slide.find("*:visible"+(n?":not(.fancybox-close-small)":"")):a.$refs.container.find("*:visible")).filter(s).filter(function(){return"hidden"!==i(this).css("visibility")&&!i(this).hasClass("disabled")})).length?(o=r.index(e.activeElement),t&&t.shiftKey?(o<0||0==o)&&(t.preventDefault(),r.eq(r.length-1).trigger("focus")):(o<0||o==r.length-1)&&(t&&t.preventDefault(),r.eq(0).trigger("focus"))):a.$refs.container.trigger("focus"))},activate:function(){var t=this;i(".fancybox-container").each(function(){var e=i(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var n,r,o,a,s,l,c,h=this,f=h.current,p=function(){h.cleanUp(t)};return!(h.isClosing||(h.isClosing=!0,!1===h.trigger("beforeClose",t)?(h.isClosing=!1,u(function(){h.update()}),1):(h.removeEvents(),o=f.$content,n=f.opts.animationEffect,r=i.isNumeric(e)?e:n?f.opts.animationDuration:0,f.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?i.fancybox.stop(f.$slide):n=!1,f.$slide.siblings().trigger("onReset").remove(),r&&h.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",r+"ms"),h.hideLoading(f),h.hideControls(!0),h.updateCursor(),"zoom"!==n||o&&r&&"image"===f.type&&!h.isMoved()&&!f.hasError&&(c=h.getThumbPos(f))||(n="fade"),"zoom"===n?(i.fancybox.stop(o),a=i.fancybox.getTranslate(o),l={top:a.top,left:a.left,scaleX:a.width/c.width,scaleY:a.height/c.height,width:c.width,height:c.height},s=f.opts.zoomOpacity,"auto"==s&&(s=Math.abs(f.width/f.height-c.width/c.height)>.1),s&&(c.opacity=0),i.fancybox.setTranslate(o,l),d(o),i.fancybox.animate(o,c,r,p),0):(n&&r?i.fancybox.animate(f.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+n,r,p):!0===t?setTimeout(p,r):p(),0))))},cleanUp:function(e){var n,r,o,a=this,s=a.current.opts.$orig;a.current.$slide.trigger("onReset"),a.$refs.container.empty().remove(),a.trigger("afterClose",e),a.current.opts.backFocus&&(s&&s.length&&s.is(":visible")||(s=a.$trigger),s&&s.length&&(r=t.scrollX,o=t.scrollY,s.trigger("focus"),i("html, body").scrollTop(o).scrollLeft(r))),a.current=null,(n=i.fancybox.getInstance())?n.activate():(i("body").removeClass("fancybox-active compensate-for-scrollbar"),i("#fancybox-style-noscroll").remove())},trigger:function(t,e){var n,r=Array.prototype.slice.call(arguments,1),o=this,a=e&&e.opts?e:o.current;if(a?r.unshift(a):a=o,r.unshift(o),i.isFunction(a.opts[t])&&(n=a.opts[t].apply(a,r)),!1===n)return n;"afterClose"!==t&&o.$refs?o.$refs.container.trigger(t+".fb",r):s.trigger(t+".fb",r)},updateControls:function(){var t=this,n=t.current,r=n.index,o=t.$refs.container,a=t.$refs.caption,s=n.opts.caption;n.$slide.trigger("refresh"),s&&s.length?(t.$caption=a,a.children().eq(0).html(s)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),o.find("[data-fancybox-count]").html(t.group.length),o.find("[data-fancybox-index]").html(r+1),o.find("[data-fancybox-prev]").prop("disabled",!n.opts.loop&&r<=0),o.find("[data-fancybox-next]").prop("disabled",!n.opts.loop&&r>=t.group.length-1),"image"===n.type?o.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",n.opts.image.src||n.src).show():n.opts.toolbar&&o.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),i(e.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,i=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,i.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),i.fancybox={version:"3.5.6",defaults:o,getInstance:function(t){var e=i('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return e instanceof g&&("string"===i.type(t)?e[t].apply(e,n):"function"===i.type(t)&&t.apply(e,n),e)},open:function(t,e,i){return new g(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),s.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var i=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(i)&&t.getComputedStyle(i).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var i="",n={};if(t&&e)return void 0===e.left&&void 0===e.top||(i=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),void 0!==e.scaleX&&void 0!==e.scaleY?i+=" scale("+e.scaleX+", "+e.scaleY+")":void 0!==e.scaleX&&(i+=" scaleX("+e.scaleX+")"),i.length&&(n.transform=i),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.width&&(n.width=e.width),void 0!==e.height&&(n.height=e.height),t.css(n)},animate:function(t,e,n,r,o){var a,s=this;i.isFunction(n)&&(r=n,n=null),s.stop(t),a=s.getTranslate(t),t.on(h,function(l){(!l||!l.originalEvent||t.is(l.originalEvent.target)&&"z-index"!=l.originalEvent.propertyName)&&(s.stop(t),i.isNumeric(n)&&t.css("transition-duration",""),i.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&s.setTranslate(t,{top:e.top,left:e.left,width:a.width*e.scaleX,height:a.height*e.scaleY,scaleX:1,scaleY:1}):!0!==o&&t.removeClass(e),i.isFunction(r)&&r(l))}),i.isNumeric(n)&&t.css("transition-duration",n+"ms"),i.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),i.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger(h)},n+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(h),t.off(h).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},i.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?i("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},r):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},r),this},s.on("click.fb-start","[data-fancybox]",r),s.on("click.fb-start","[data-fancybox-trigger]",function(t){i('[data-fancybox="'+i(this).attr("data-fancybox-trigger")+'"]').eq(i(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:i(this)})}),function(){var t=null;s.on("mousedown mouseup focus blur",".fancybox-button",function(e){switch(e.type){case"mousedown":t=i(this);break;case"mouseup":t=null;break;case"focusin":i(".fancybox-button").removeClass("fancybox-focus"),i(this).is(t)||i(this).is("[disabled]")||i(this).addClass("fancybox-focus");break;case"focusout":i(".fancybox-button").removeClass("fancybox-focus")}})}()}}(window,document,jQuery),function(t){"use strict";var e={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},i=function(e,i,n){if(e)return n=n||"","object"===t.type(n)&&(n=t.param(n,!0)),t.each(i,function(t,i){e=e.replace("$"+t,i||"")}),n.length&&(e+=(e.indexOf("?")>0?"&":"?")+n),e};t(document).on("objectNeedsType.fb",function(n,r,o){var a,s,l,u,c,h,d,f=o.src||"",p=!1;a=t.extend(!0,{},e,o.opts.media),t.each(a,function(e,n){if(l=f.match(n.matcher)){if(p=n.type,d=e,h={},n.paramPlace&&l[n.paramPlace]){"?"==(c=l[n.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var r=0;r<c.length;++r){var a=c[r].split("=",2);2==a.length&&(h[a[0]]=decodeURIComponent(a[1].replace(/\+/g," ")))}}return u=t.extend(!0,{},n.params,o.opts[e],h),f="function"===t.type(n.url)?n.url.call(this,l,u,o):i(n.url,l,u),s="function"===t.type(n.thumb)?n.thumb.call(this,l,u,o):i(n.thumb,l),"youtube"===e?f=f.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,i,n){return"&start="+((i?60*parseInt(i,10):0)+parseInt(n,10))}):"vimeo"===e&&(f=f.replace("&%23","#")),!1}}),p?(o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=s),"iframe"===p&&(o.opts=t.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(o,{type:p,src:f,origSrc:o.src,contentSource:d,contentType:"image"===p?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):f&&(o.type=o.opts.defaultType)});var n={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,i=this;this[t].loaded?setTimeout(function(){i.done(t)}):this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){i[t].loaded=!0,i.done(t)}:e.onload=function(){i[t].loaded=!0,i.done(t)},document.body.appendChild(e))},done:function(e){var i,n;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(i=t.fancybox.getInstance())&&(n=i.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?new YT.Player(n.attr("id"),{events:{onStateChange:function(t){0==t.data&&i.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(n).on("ended",function(){i.next()}))}};t(document).on({"afterShow.fb":function(t,e,i){e.group.length>1&&("youtube"===i.contentSource||"vimeo"===i.contentSource)&&n.load(i.contentSource)}})}(jQuery),function(t,e,i){"use strict";var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},o=function(e){var i=[];for(var n in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[n].pageX?i.push({x:e[n].pageX,y:e[n].pageY}):e[n].clientX&&i.push({x:e[n].clientX,y:e[n].clientY});return i},a=function(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},s=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||i.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,n=t[0].attributes,r=n.length;e<r;e++)if("data-fancybox-"===n[e].nodeName.substr(0,14))return!0;return!1},l=function(e){var i=t.getComputedStyle(e)["overflow-y"],n=t.getComputedStyle(e)["overflow-x"],r=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,o=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth;return r||o},u=function(t){for(var e=!1;!(e=l(t.get(0)))&&((t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body")););return e},c=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",i.proxy(e,"ontouchstart"))};c.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),i(e).off(".fb.touch"),t.requestId&&(r(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},c.prototype.ontouchstart=function(n){var r=this,l=i(n.target),c=r.instance,h=c.current,d=h.$slide,f=h.$content,p="touchstart"==n.type;if(p&&r.$container.off("mousedown.fb.touch"),(!n.originalEvent||2!=n.originalEvent.button)&&d.length&&l.length&&!s(l)&&!s(l.parent())&&(l.is("img")||!(n.originalEvent.clientX>l[0].clientWidth+l.offset().left))){if(!h||c.isAnimating||h.$slide.hasClass("fancybox-animated"))return n.stopPropagation(),void n.preventDefault();r.realPoints=r.startPoints=o(n),r.startPoints.length&&(h.touch&&n.stopPropagation(),r.startEvent=n,r.canTap=!0,r.$target=l,r.$content=f,r.opts=h.opts.touch,r.isPanning=!1,r.isSwiping=!1,r.isZooming=!1,r.isScrolling=!1,r.canPan=c.canPan(),r.startTime=(new Date).getTime(),r.distanceX=r.distanceY=r.distance=0,r.canvasWidth=Math.round(d[0].clientWidth),r.canvasHeight=Math.round(d[0].clientHeight),r.contentLastPos=null,r.contentStartPos=i.fancybox.getTranslate(r.$content)||{top:0,left:0},r.sliderStartPos=i.fancybox.getTranslate(d),r.stagePos=i.fancybox.getTranslate(c.$refs.stage),r.sliderStartPos.top-=r.stagePos.top,r.sliderStartPos.left-=r.stagePos.left,r.contentStartPos.top-=r.stagePos.top,r.contentStartPos.left-=r.stagePos.left,i(e).off(".fb.touch").on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",i.proxy(r,"ontouchend")).on(p?"touchmove.fb.touch":"mousemove.fb.touch",i.proxy(r,"ontouchmove")),i.fancybox.isMobile&&e.addEventListener("scroll",r.onscroll,!0),((r.opts||r.canPan)&&(l.is(r.$stage)||r.$stage.find(l).length)||(l.is(".fancybox-image")&&n.preventDefault(),i.fancybox.isMobile&&l.parents(".fancybox-caption").length))&&(r.isScrollable=u(l)||u(l.parent()),i.fancybox.isMobile&&r.isScrollable||n.preventDefault(),(1===r.startPoints.length||h.hasError)&&(r.canPan?(i.fancybox.stop(r.$content),r.isPanning=!0):r.isSwiping=!0,r.$container.addClass("fancybox-is-grabbing")),2===r.startPoints.length&&"image"===h.type&&(h.isLoaded||h.$ghost)&&(r.canTap=!1,r.isSwiping=!1,r.isPanning=!1,r.isZooming=!0,i.fancybox.stop(r.$content),r.centerPointStartX=.5*(r.startPoints[0].x+r.startPoints[1].x)-i(t).scrollLeft(),r.centerPointStartY=.5*(r.startPoints[0].y+r.startPoints[1].y)-i(t).scrollTop(),r.percentageOfImageAtPinchPointX=(r.centerPointStartX-r.contentStartPos.left)/r.contentStartPos.width,r.percentageOfImageAtPinchPointY=(r.centerPointStartY-r.contentStartPos.top)/r.contentStartPos.height,r.startDistanceBetweenFingers=a(r.startPoints[0],r.startPoints[1]))))}},c.prototype.onscroll=function(t){this.isScrolling=!0,e.removeEventListener("scroll",this.onscroll,!0)},c.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=o(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=a(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=a(e.newPoints[0],e.startPoints[0],"y"),e.distance=a(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},c.prototype.onSwipe=function(e){var o,a=this,s=a.instance,l=a.isSwiping,u=a.sliderStartPos.left||0;if(!0!==l)"x"==l&&(a.distanceX>0&&(a.instance.group.length<2||0===a.instance.current.index&&!a.instance.current.opts.loop)?u+=Math.pow(a.distanceX,.8):a.distanceX<0&&(a.instance.group.length<2||a.instance.current.index===a.instance.group.length-1&&!a.instance.current.opts.loop)?u-=Math.pow(-a.distanceX,.8):u+=a.distanceX),a.sliderLastPos={top:"x"==l?0:a.sliderStartPos.top+a.distanceY,left:u},a.requestId&&(r(a.requestId),a.requestId=null),a.requestId=n(function(){a.sliderLastPos&&(i.each(a.instance.slides,function(t,e){var n=e.pos-a.instance.currPos;i.fancybox.setTranslate(e.$slide,{top:a.sliderLastPos.top,left:a.sliderLastPos.left+n*a.canvasWidth+n*e.opts.gutter})}),a.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(a.distance)>10){if(a.canTap=!1,s.group.length<2&&a.opts.vertical?a.isSwiping="y":s.isDragging||!1===a.opts.vertical||"auto"===a.opts.vertical&&i(t).width()>800?a.isSwiping="x":(o=Math.abs(180*Math.atan2(a.distanceY,a.distanceX)/Math.PI),a.isSwiping=o>45&&o<135?"y":"x"),"y"===a.isSwiping&&i.fancybox.isMobile&&a.isScrollable)return void(a.isScrolling=!0);s.isDragging=a.isSwiping,a.startPoints=a.newPoints,i.each(s.slides,function(t,e){var n,r;i.fancybox.stop(e.$slide),n=i.fancybox.getTranslate(e.$slide),r=i.fancybox.getTranslate(s.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===s.current.pos&&(a.sliderStartPos.top=n.top-r.top,a.sliderStartPos.left=n.left-r.left),i.fancybox.setTranslate(e.$slide,{top:n.top-r.top,left:n.left-r.left})}),s.SlideShow&&s.SlideShow.isActive&&s.SlideShow.stop()}},c.prototype.onPan=function(){var t=this;a(t.newPoints[0],t.realPoints[0])<(i.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&r(t.requestId),t.requestId=n(function(){i.fancybox.setTranslate(t.$content,t.contentLastPos)}))},c.prototype.limitMovement=function(){var t,e,i,n,r,o,a=this,s=a.canvasWidth,l=a.canvasHeight,u=a.distanceX,c=a.distanceY,h=a.contentStartPos,d=h.left,f=h.top,p=h.width,g=h.height;return r=p>s?d+u:d,o=f+c,t=Math.max(0,.5*s-.5*p),e=Math.max(0,.5*l-.5*g),i=Math.min(s-p,.5*s-.5*p),n=Math.min(l-g,.5*l-.5*g),u>0&&r>t&&(r=t-1+Math.pow(-t+d+u,.8)||0),u<0&&r<i&&(r=i+1-Math.pow(i-d-u,.8)||0),c>0&&o>e&&(o=e-1+Math.pow(-e+f+c,.8)||0),c<0&&o<n&&(o=n+1-Math.pow(n-f-c,.8)||0),{top:o,left:r}},c.prototype.limitPosition=function(t,e,i,n){var r=this.canvasWidth,o=this.canvasHeight;return i>r?t=(t=t>0?0:t)<r-i?r-i:t:t=Math.max(0,r/2-i/2),n>o?e=(e=e>0?0:e)<o-n?o-n:e:e=Math.max(0,o/2-n/2),{top:e,left:t}},c.prototype.onZoom=function(){var e=this,o=e.contentStartPos,s=o.width,l=o.height,u=o.left,c=o.top,h=a(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,d=Math.floor(s*h),f=Math.floor(l*h),p=(s-d)*e.percentageOfImageAtPinchPointX,g=(l-f)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-i(t).scrollLeft(),_=(e.newPoints[0].y+e.newPoints[1].y)/2-i(t).scrollTop(),v=m-e.centerPointStartX,y={top:c+(g+(_-e.centerPointStartY)),left:u+(p+v),scaleX:h,scaleY:h};e.canTap=!1,e.newWidth=d,e.newHeight=f,e.contentLastPos=y,e.requestId&&r(e.requestId),e.requestId=n(function(){i.fancybox.setTranslate(e.$content,e.contentLastPos)})},c.prototype.ontouchend=function(t){var n=this,a=n.isSwiping,s=n.isPanning,l=n.isZooming,u=n.isScrolling;if(n.endPoints=o(t),n.dMs=Math.max((new Date).getTime()-n.startTime,1),n.$container.removeClass("fancybox-is-grabbing"),i(e).off(".fb.touch"),e.removeEventListener("scroll",n.onscroll,!0),n.requestId&&(r(n.requestId),n.requestId=null),n.isSwiping=!1,n.isPanning=!1,n.isZooming=!1,n.isScrolling=!1,n.instance.isDragging=!1,n.canTap)return n.onTap(t);n.speed=100,n.velocityX=n.distanceX/n.dMs*.5,n.velocityY=n.distanceY/n.dMs*.5,s?n.endPanning():l?n.endZooming():n.endSwiping(a,u)},c.prototype.endSwiping=function(t,e){var n=this,r=!1,o=n.instance.group.length,a=Math.abs(n.distanceX),s="x"==t&&o>1&&(n.dMs>130&&a>10||a>50);n.sliderLastPos=null,"y"==t&&!e&&Math.abs(n.distanceY)>50?(i.fancybox.animate(n.instance.current.$slide,{top:n.sliderStartPos.top+n.distanceY+150*n.velocityY,opacity:0},200),r=n.instance.close(!0,250)):s&&n.distanceX>0?r=n.instance.previous(300):s&&n.distanceX<0&&(r=n.instance.next(300)),!1!==r||"x"!=t&&"y"!=t||n.instance.centerSlide(200),n.$container.removeClass("fancybox-is-sliding")},c.prototype.endPanning=function(){var t,e,n,r=this;r.contentLastPos&&(!1===r.opts.momentum||r.dMs>350?(t=r.contentLastPos.left,e=r.contentLastPos.top):(t=r.contentLastPos.left+500*r.velocityX,e=r.contentLastPos.top+500*r.velocityY),(n=r.limitPosition(t,e,r.contentStartPos.width,r.contentStartPos.height)).width=r.contentStartPos.width,n.height=r.contentStartPos.height,i.fancybox.animate(r.$content,n,366))},c.prototype.endZooming=function(){var t,e,n,r,o=this,a=o.instance.current,s=o.newWidth,l=o.newHeight;o.contentLastPos&&(t=o.contentLastPos.left,r={top:e=o.contentLastPos.top,left:t,width:s,height:l,scaleX:1,scaleY:1},i.fancybox.setTranslate(o.$content,r),s<o.canvasWidth&&l<o.canvasHeight?o.instance.scaleToFit(150):s>a.width||l>a.height?o.instance.scaleToActual(o.centerPointStartX,o.centerPointStartY,150):(n=o.limitPosition(t,e,s,l),i.fancybox.animate(o.$content,n,150)))},c.prototype.onTap=function(e){var n,r=this,a=i(e.target),s=r.instance,l=s.current,u=e&&o(e)||r.startPoints,c=u[0]?u[0].x-i(t).scrollLeft()-r.stagePos.left:0,h=u[0]?u[0].y-i(t).scrollTop()-r.stagePos.top:0,d=function(t){var n=l.opts[t];if(i.isFunction(n)&&(n=n.apply(s,[l,e])),n)switch(n){case"close":s.close(r.startEvent);break;case"toggleControls":s.toggleControls();break;case"next":s.next();break;case"nextOrClose":s.group.length>1?s.next():s.close(r.startEvent);break;case"zoom":"image"==l.type&&(l.isLoaded||l.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(c,h):s.group.length<2&&s.close(r.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(a.is("img")||!(c>a[0].clientWidth+a.offset().left))){if(a.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))n="Outside";else if(a.is(".fancybox-slide"))n="Slide";else{if(!s.current.$content||!s.current.$content.find(a).addBack().filter(a).length)return;n="Content"}if(r.tapped){if(clearTimeout(r.tapped),r.tapped=null,Math.abs(c-r.tapX)>50||Math.abs(h-r.tapY)>50)return this;d("dblclick"+n)}else r.tapX=c,r.tapY=h,l.opts["dblclick"+n]&&l.opts["dblclick"+n]!==l.opts["click"+n]?r.tapped=setTimeout(function(){r.tapped=null,s.isAnimating||d("click"+n)},500):d("click"+n);return this}},i(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new c(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var i=function(t){this.instance=t,this.init()};e.extend(i.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,i=t.instance,n=i.group[i.currIndex].opts.slideShow;t.$button=i.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),i.group.length<2||!n?t.$button.hide():n.progress&&(t.$progress=e('<div class="fancybox-progress"></div>').appendTo(i.$refs.inner))},set:function(t){var i=this,n=i.instance,r=n.current;r&&(!0===t||r.opts.loop||n.currIndex<n.group.length-1)?i.isActive&&"video"!==r.contentType&&(i.$progress&&e.fancybox.animate(i.$progress.show(),{scaleX:1},r.opts.slideShow.speed),i.timer=setTimeout(function(){n.current.opts.loop||n.current.index!=n.group.length-1?n.next():n.jumpTo(0)},r.opts.slideShow.speed)):(i.stop(),n.idleSecondsCounter=0,n.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.fb":function(t,e,i,n){var r=e&&e.SlideShow;n?r&&i.opts.slideShow.autoStart&&r.start():r&&r.isActive&&r.clear()},"afterShow.fb":function(t,e,i){var n=e&&e.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.fb":function(i,n,r,o,a){var s=n&&n.SlideShow;!s||!r.opts.slideShow||80!==a&&32!==a||e(t.activeElement).is("button,a,input")||(o.preventDefault(),s.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var i=e&&e.SlideShow;i&&i.stop()}}),e(t).on("visibilitychange",function(){var i=e.fancybox.getInstance(),n=i&&i.SlideShow;n&&n.isActive&&(t.hidden?n.clear():n.set())})}(document,jQuery),function(t,e){"use strict";var i=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i={},n=0;n<e.length;n++){var r=e[n];if(r&&r[1]in t){for(var o=0;o<r.length;o++)i[e[0][o]]=r[o];return i}}return!1}();if(i){var n={request:function(e){(e=e||t.documentElement)[i.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[i.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[i.fullscreenElement])},enabled:function(){return Boolean(t[i.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(i.fullscreenchange,function(){var t=n.isFullscreen(),i=e.fancybox.getInstance();i&&(i.current&&"image"===i.current.type&&i.isAnimating&&(i.isAnimating=!1,i.update(!0,!0,0),i.isComplete||i.complete()),i.trigger("onFullscreenChange",t),i.$refs.container.toggleClass("fancybox-is-fullscreen",t),i.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}e(t).on({"onInit.fb":function(t,e){i?e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(),e.FullScreen=n):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,i,n,r){e&&e.FullScreen&&70===r&&(n.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&n.exit()}})}(document,jQuery),function(t,e){"use strict";var i="fancybox-thumbs";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var n=function(t){this.init(t)};e.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,i=t.group,n=0;e.instance=t,e.opts=i[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var r=0,o=i.length;r<o&&(i[r].thumb&&n++,!(n>1));r++);n>1&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,n=this,r=n.instance,o=n.opts.parentEl,a=[];n.$grid||(n.$grid=e('<div class="'+i+" "+i+"-"+n.opts.axis+'"></div>').appendTo(r.$refs.container.find(o).addBack().filter(o)),n.$grid.on("click","a",function(){r.jumpTo(e(this).attr("data-index"))})),n.$list||(n.$list=e('<div class="'+i+'__list">').appendTo(n.$grid)),e.each(r.group,function(e,i){(t=i.thumb)||"image"!==i.type||(t=i.src),a.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(t&&t.length?' style="background-image:url('+t+')"':'class="fancybox-thumbs-missing"')+"></a>")}),n.$list[0].innerHTML=a.join(""),"x"===n.opts.axis&&n.$list.width(parseInt(n.$grid.css("padding-right"),10)+r.group.length*n.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,i,n=this,r=n.$list,o=n.$grid;n.instance.current&&(i=(e=r.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+n.instance.current.index+'"]').addClass("fancybox-thumbs-active")).position(),"y"===n.opts.axis&&(i.top<0||i.top>r.height()-e.outerHeight())?r.stop().animate({scrollTop:r.scrollTop()+i.top},t):"x"===n.opts.axis&&(i.left<o.scrollLeft()||i.left>o.scrollLeft()+(o.width()-e.outerWidth()))&&r.parent().stop().animate({scrollLeft:i.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var i;e&&!e.Thumbs&&((i=new n(e)).isActive&&!0===i.opts.autoStart&&i.show())},"beforeShow.fb":function(t,e,i,n){var r=e&&e.Thumbs;r&&r.isVisible&&r.focus(n?0:250)},"afterKeydown.fb":function(t,e,i,n,r){var o=e&&e.Thumbs;o&&o.isActive&&71===r&&(n.preventDefault(),o.toggle())},"beforeClose.fb":function(t,e){var i=e&&e.Thumbs;i&&i.isVisible&&!1!==i.opts.hideOnClose&&i.$grid.hide()}})}(document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,i,n=e.fancybox.getInstance(),r=n.current||null;r&&("function"===e.type(r.opts.share.url)&&(t=r.opts.share.url.apply(r,[n,r])),i=r.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===r.type?encodeURIComponent(r.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}(t)).replace(/\{\{descr\}\}/g,n.$caption?encodeURIComponent(n.$caption.text()):""),e.fancybox.open({src:n.translate(n,i),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){n.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,i){"use strict";function n(){var e=t.location.hash.substr(1),i=e.split("-"),n=i.length>1&&/^\+?\d+$/.test(i[i.length-1])&&parseInt(i.pop(-1),10)||1;return{hash:e,index:n<1?1:n,gallery:i.join("-")}}function r(t){""!==t.gallery&&i("[data-fancybox='"+i.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function o(t){var e,i;return!!t&&(""!==(i=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&i)}i.escapeSelector||(i.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),i(function(){!1!==i.fancybox.defaults.hash&&(i(e).on({"onInit.fb":function(t,e){var i,r;!1!==e.group[e.currIndex].opts.hash&&(i=n(),(r=o(e))&&i.gallery&&r==i.gallery&&(e.currIndex=i.index-1))},"beforeShow.fb":function(i,n,r,a){var s;r&&!1!==r.opts.hash&&(s=o(n))&&(n.currentHash=s+(n.group.length>1?"-"+(r.index+1):""),t.location.hash!=="#"+n.currentHash&&(a&&!n.origHash&&(n.origHash=t.location.hash),n.hashTimer&&clearTimeout(n.hashTimer),n.hashTimer=setTimeout(function(){"replaceState"in t.history?(t.history[a?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+n.currentHash),a&&(n.hasCreatedHistory=!0)):t.location.hash=n.currentHash,n.hashTimer=null},300)))},"beforeClose.fb":function(i,n,r){r&&!1!==r.opts.hash&&(clearTimeout(n.hashTimer),n.currentHash&&n.hasCreatedHistory?t.history.back():n.currentHash&&("replaceState"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(n.origHash||"")):t.location.hash=n.origHash),n.currentHash=null)}}),i(t).on("hashchange.fb",function(){var t=n(),e=null;i.each(i(".fancybox-container").get().reverse(),function(t,n){var r=i(n).data("FancyBox");if(r&&r.currentHash)return e=r,!1}),e?e.currentHash===t.gallery+"-"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):""!==t.gallery&&r(t)}),setTimeout(function(){i.fancybox.getInstance()||r(n())},50))})}(window,document,jQuery),function(t,e){"use strict";var i=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,n){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var n=e.current,r=(new Date).getTime();e.group.length<2||!1===n.opts.wheel||"auto"===n.opts.wheel&&"image"!==n.type||(t.preventDefault(),t.stopPropagation(),n.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,r-i<250||(i=r,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=l(i(1)),a=l(i(3)),s=l(i(4));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i){!function(t,i){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(i),n.listenClick(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===n(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,s.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),e}();function c(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=u},function(t,e,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(2))&&n.__esModule?n:{default:n},s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function r(){n.off(t,r),e.apply(i,arguments)}return r._=e,this.on(t,r,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var o=0,a=n.length;o<a;o++)n[o].fn!==e&&n[o].fn._!==e&&r.push(n[o]);return r.length?i[t]=r:delete i[t],this}},t.exports=i},function(t,e,i){var n=i(5),r=i(6);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(t))return d=e,f=i,(h=t).addEventListener(d,f),{destroy:function(){h.removeEventListener(d,f)}};if(n.nodeList(t))return l=t,u=e,c=i,Array.prototype.forEach.call(l,function(t){t.addEventListener(u,c)}),{destroy:function(){Array.prototype.forEach.call(l,function(t){t.removeEventListener(u,c)})}};if(n.string(t))return o=t,a=e,s=i,r(document.body,o,a,s);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,a,s,l,u,c,h,d,f}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var n=i(7);function r(t,e,i,r,o){var a=function(t,e,i,r){return function(i){i.delegateTarget=n(i.target,e),i.delegateTarget&&r.call(t,i)}}.apply(this,arguments);return t.addEventListener(i,a,o),{destroy:function(){t.removeEventListener(i,a,o)}}}t.exports=function(t,e,i,n,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,i,n,o)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])});
//# sourceMappingURL=/sm/bae07be99bc49b04919a24a7b7358a8b862780bf3d3849e5d2716ae3f65ae210.map